{"version":3,"file":"bundle.js","sources":["../../foods_app/node_modules/@ultraforce/ts-general-lib/dist/tools/UFObject.js","../../foods_app/node_modules/@ultraforce/ts-general-lib/dist/tools/UFMath.js","../../foods_app/node_modules/@ultraforce/ts-general-lib/dist/tools/UFText.js","../../foods_app/node_modules/@ultraforce/ts-general-lib/dist/services/UFService.js","../../../foods_app/src/classes/support/Tools.ts","../../../foods_app/src/classes/support/Text.ts","../../../foods_app/src/classes/data/FoodEntry.ts","../../../foods_app/src/classes/data/CompareEntry.ts","../../../foods_app/src/singletons/data/foodData.ts","../../../foods_app/src/classes/data/HistoryEntry.ts","../../../foods_app/src/classes/data/WeekEntry.ts","../../../foods_app/src/singletons/main/settings.ts","../../../foods_app/src/singletons/data/historyData.ts","../../../foods_app/src/classes/ui/PageBase.ts","../../../foods_app/src/singletons/pages/loadingPage.ts","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/tools/UFHtml.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/components/UFFloater.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/components/UFRollOverImage.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/components/UFVideo.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFHtmlHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFCellFilterHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFClickStylingHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFDetailsHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFDialogHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFEventActionHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFFileInputHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFFilterHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFFormToggleHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFGridSortHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFPopupHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFSelectUrlHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFShareHoverHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFPageRefreshHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/helpers/UFManageSubmitHelper.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/types/UFFitType.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/types/UFImageType.js","../../foods_app/node_modules/@ultraforce/ts-dom-lib/dist/types/UFFetchMethod.js","../../../foods_app/src/singletons/data/applicationData.ts","../../../foods_app/src/types/CssClass.ts","../../../foods_app/src/singletons/pages/homePage.ts","../../../foods_app/src/types/DataAttribute.ts","../../../foods_app/src/singletons/pages/weekPage.ts","../../../foods_app/src/singletons/pages/settingsPage.ts","../../../foods_app/src/singletons/pages/historyPage.ts","../../../foods_app/src/singletons/pages/dictationPage.ts","../../../foods_app/src/singletons/pages/confirmPage.ts","../../../foods_app/src/singletons/pages/addPage.ts","../../../foods_app/src/singletons/main/mainController.ts","../../../foods_app/src/singletons/application.ts","../../../foods_app/src/index.ts"],"sourcesContent":["/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region types\n/**\n * {@link UFObject} implements various support methods for objects.\n */\nexport class UFObject {\n    // region constructor\n    /**\n     * Utility class with only static methods, do not allow instances.\n     *\n     * @private\n     */\n    constructor() {\n    }\n    // endregion\n    // region public methods\n    /**\n     * Gets a property or throws an error if the property is missing.\n     *\n     * @param objectValue\n     *   Object to get property from\n     * @param propertyName\n     *   Property to get\n     *\n     * @return value of property\n     *\n     * @throws an error if the object does not contain the property\n     */\n    static getOrFail(objectValue, propertyName) {\n        if (propertyName in objectValue) {\n            return objectValue[propertyName];\n        }\n        throw new Error(`Missing ${propertyName} in object`);\n    }\n    /**\n     * Gets a property as a certain type or throws an error if the property is missing.\n     *\n     * @param objectValue\n     *   Object to get property from\n     * @param propertyName\n     *   Property to get\n     *\n     * @return value of property\n     *\n     * @throws an error if the object does not contain the property\n     */\n    static getOrFailAs(objectValue, propertyName) {\n        return UFObject.getOrFail(objectValue, propertyName);\n    }\n    /**\n     * Gets a property from an object.\n     *\n     * @param objectValue\n     *   Object to get property from\n     * @param propertyName\n     *   Property to get\n     * @param defaultValue\n     *   Default value to use\n     *\n     * @return value from property or aDefault if it does not exist\n     */\n    static get(objectValue, propertyName, defaultValue) {\n        return propertyName in objectValue ? objectValue[propertyName] : defaultValue;\n    }\n    /**\n     * Gets a property from an object and typecast it to a type.\n     *\n     * @param objectValue\n     *   Object to get property from\n     * @param propertyName\n     *   Property to get\n     * @param defaultValue\n     *   Default value to use\n     *\n     * @return value from property or aDefault if it does not exist\n     */\n    static getAs(objectValue, propertyName, defaultValue) {\n        return propertyName in objectValue ? objectValue[propertyName] : defaultValue;\n    }\n    /**\n     * Sets a property in an object to a value. If the property can not be found, the method does\n     * nothing.\n     *\n     * @param objectValue\n     *   Object to get property from\n     * @param propertyName\n     *   Property to set\n     * @param value\n     *   Value to set property with\n     */\n    static set(objectValue, propertyName, value) {\n        if (propertyName in objectValue) {\n            objectValue[propertyName] = value;\n        }\n    }\n    /**\n     * Sets a property in an object to a value. If the property can not be found, the method throws\n     * an error.\n     *\n     * @param objectValue\n     *   Object to get property from\n     * @param propertyName\n     *   Property to set\n     * @param value\n     *   Value to set property with\n     */\n    static setOrFail(objectValue, propertyName, value) {\n        if (propertyName in objectValue) {\n            objectValue[propertyName] = value;\n        }\n        else {\n            throw new Error(`Missing ${propertyName} in object`);\n        }\n    }\n    /**\n     * Gets a property from an object. If there is no property, create a new value and attach it\n     * to the object.\n     *\n     * @param objectValue\n     *   Object to get property from\n     * @param propertyName\n     *   Name of property to get\n     * @param factory\n     *   Factory function to create a new value\n     *\n     * @return value from property\n     */\n    static getAttachedAs(objectValue, propertyName, factory) {\n        if (!(propertyName in objectValue)) {\n            objectValue[propertyName] = factory();\n        }\n        return objectValue[propertyName];\n    }\n    /**\n     * See if all properties in aMatch can be found in aSource and are equal. If a property is\n     * an object, the method will call itself recursively.\n     *\n     * Only properties defined in aMatch are checked.\n     *\n     * @param source\n     *   Source object to test\n     * @param match\n     *   Contains properties to match\n     * @param ignoreCase\n     *   True: ignore case of string properties, false: casing must match for properties to be equal\n     *\n     * @return True: all properties found and matching in value\n     */\n    static equalProperties(source, match, ignoreCase = false) {\n        // go through all properties in aMatch\n        for (let propertyName in match) {\n            // only test properties that are defined by aMatch\n            if (match.hasOwnProperty(propertyName)) {\n                // exit if source does not have that property\n                if (!source.hasOwnProperty(propertyName)) {\n                    return false;\n                }\n                // handle certain types\n                switch (typeof (match[propertyName])) {\n                    case 'object':\n                        // match properties of both objects\n                        if (!UFObject.equalProperties(source[propertyName], match[propertyName], ignoreCase)) {\n                            return false;\n                        }\n                        break;\n                    case 'string':\n                        // convert both to lower case if ignoring case\n                        let sourceText = source[propertyName];\n                        let matchText = match[propertyName];\n                        if (ignoreCase) {\n                            sourceText = sourceText.toLowerCase();\n                            matchText = matchText.toLowerCase();\n                        }\n                        if (sourceText !== matchText) {\n                            return false;\n                        }\n                        break;\n                    default:\n                        // exit if source is not equal to match\n                        if (source[propertyName] !== match[propertyName]) {\n                            return false;\n                        }\n                        break;\n                }\n            }\n        }\n        // all properties passed the test, so aSource matched\n        // all properties in aMatch\n        return true;\n    }\n    /**\n     * Create a copy of the map object, setting properties in it to values of properties in aSource.\n     *\n     * aMap can contain properties with basic types or properties of type Object. In that case the\n     * object properties are scanned.\n     *\n     * If aSource is an Array instance, a new Array instance is created else a new Object\n     * instance is used.\n     *\n     * @param source\n     *   Source object to obtain values from\n     * @param map\n     *   An object with various properties\n     *\n     * @return A copy of aMap with values obtained from a Source.\n     *\n     * @example make copy of some properties in TextInput\n     * <listing>\n     * var map = Object = {\n     *   text: 'some text',\n     *   textField: {\n     *     borderColor: 0xFF0000,\n     *     backgroundColor: 0xFFCCCC\n     *   }\n     * };\n     * var data: Object = UFObject.backupProperties(SomeTextInput, map);\n     * // data.text = text of SomeTextInput\n     * // data.textField.borderColor = current border color of SomeTextInput\n     * // data.textField.backgroundColor = current background color\n     * </listing>\n     */\n    static backupProperties(source, map) {\n        const result = Array.isArray(source) ? [] : {};\n        for (const propertyName in map) {\n            if (map.hasOwnProperty(propertyName) &&\n                source.hasOwnProperty(propertyName)) {\n                let value = map[propertyName];\n                if (typeof value === 'object') {\n                    result[propertyName] = UFObject.backupProperties(source[propertyName], map[propertyName]);\n                }\n                else {\n                    result[propertyName] = source[propertyName];\n                }\n            }\n        }\n        return result;\n    }\n    /**\n     * Copy the values of properties in aValues to properties of same name in anObject.\n     *\n     * If a property of aValue is an object, the function will copy all the properties in that object.\n     *\n     * If the value of a property of aValue is a function, the function will be called with\n     * two parameters: anObject, property name. The function is responsible for assigning a value to\n     * anObject.\n     *\n     * @param objectValue\n     *   Object to update properties\n     * @param values\n     *   Object to get parse and obtain values from\n     *\n     * @return Value of anObject\n     *\n     * @example <caption>show error in TextInput</caption>\n     * var errorProperties: Object = {\n     *   textField: {\n     *     borderColor: 0xFF0000,\n     *     backgroundColor: 0xFFCCCC\n     *   }\n     * };\n     * // backup current properties\n     * var originalProperties: Object = UFObjectTools.backupProperties(SomeTextInput, errorProperties);\n     * // show error state\n     * UFObjectTools.applyProperties(SomeTextInput, errorProperties);\n     * // restore original settings\n     * UFObjectTools.applyProperties(SomeTextInput, originalProperties);\n     */\n    static applyProperties(objectValue, values) {\n        for (const propertyName in values) {\n            if (values.hasOwnProperty(propertyName) && objectValue.hasOwnProperty(propertyName)) {\n                const value = values[propertyName];\n                if (typeof value === 'function') {\n                    value(objectValue, propertyName);\n                }\n                else if (typeof value === 'object') {\n                    UFObject.applyProperties(objectValue[propertyName], values[propertyName]);\n                }\n                else {\n                    objectValue[propertyName] = values[propertyName];\n                }\n            }\n        }\n        return objectValue;\n    }\n    /**\n     * Copies the properties of an object. Recursively call this method for properties that are\n     * object values.\n     *\n     * @param objectValue\n     *   Object to copy\n     *\n     * @return copy of an object\n     */\n    static deepCopy(objectValue) {\n        const result = {};\n        Object.keys(objectValue).forEach(key => {\n            const value = objectValue[key];\n            result[key] = typeof value === 'object' ? this.deepCopy(value) : value;\n        });\n        return result;\n    }\n    /**\n     * Checks if an object contains a certain key. It is possible to specify multiple values.\n     *\n     * @param objectValue\n     *   An object (keys are checked)\n     * @param keys\n     *   One or more key names to check\n     *\n     * @returns True if the object has a key that matches one of the aKeys values.\n     */\n    static contains(objectValue, ...keys) {\n        return keys.findIndex(key => objectValue.hasOwnProperty(key)) >= 0;\n    }\n    /**\n     * Combines multiple object instances.\n     *\n     * The method will create a new object and copies all properties (including getters and setters)\n     * from each argument to the new object.\n     *\n     * After processing all arguments, the method checks each argument again if it contains the\n     * initialize method specified by anInitMethod.\n     *\n     * If aCallInit is true, the initialize method gets called using the newly created object as\n     * its function scope.\n     *\n     * If aCallInit is false, a new initialize method is attached to the created object that will call\n     * all the other initialize methods with the correct function scope.\n     *\n     * @param objects\n     *   Object instances to combine\n     * @param callInitialize\n     *   When false do not call the initialize methods but create and attach a new initialize method\n     *   that will call the initialize methods (if any of the other objects contains the initialize\n     *   method).\n     * @param initializeName\n     *   The name of the initialize method to call or null to skip.\n     *\n     * @return An instance being a combination of all arguments\n     */\n    static combineObjects(objects, callInitialize = true, initializeName = '__init') {\n        if (objects.length === 0) {\n            return {};\n        }\n        // start with empty object\n        const result = {};\n        // get all __init methods from all objects\n        const initializeFunctions = [];\n        // add each argument to result\n        objects.forEach(source => UFObject.copyProperties(source, result, initializeName, initializeFunctions));\n        if (initializeFunctions.length) {\n            UFObject.callMethods(result, initializeFunctions, callInitialize ? undefined : initializeName);\n        }\n        return result;\n    }\n    /**\n     * Copies a property/method from one object to another. If the property is a getter or setter,\n     * the method will redefine the property in the target object.\n     *\n     * @param name\n     *   Name of property\n     * @param source\n     *   Source to copy property from\n     * @param target\n     *   Target to copy property to\n     */\n    static copyProperty(name, source, target) {\n        // if there is a descriptor, and it defines a get and/or set field copy the property by\n        // redefining it in the result object.\n        const descriptor = Object.getOwnPropertyDescriptor(source, name);\n        if (descriptor && (descriptor.get || descriptor.set)) {\n            Object.defineProperty(target, name, descriptor);\n        }\n        else {\n            // just copy field\n            target[name] = source[name];\n        }\n    }\n    /**\n     * Copies all properties from one object to another object using {@link copyProperty}.\n     *\n     * It is possible to specify a separator name via `aSeparatorName`; in that case the property\n     * of that name is not copied but is placed in the `aSeparatorList`.\n     *\n     * @private\n     *\n     * @param source\n     *   Source to copy from\n     * @param target\n     *   Target to copy to\n     * @param separatorName\n     *   Optional name of property to place in aSeparatorList\n     * @param separatorList\n     *   Must be specified if aSeparatorName is specified.\n     */\n    static copyProperties(source, target, separatorName, separatorList) {\n        if (separatorName && !separatorList) {\n            throw new Error('Missing separator list while a separator name was specified');\n        }\n        // only copy properties defined within the object itself\n        const names = Object.getOwnPropertyNames(source);\n        names.forEach(name => {\n            if (separatorName && (name === separatorName)) {\n                separatorList.push(source[name]);\n            }\n            else {\n                UFObject.copyProperty(name, source, target);\n            }\n        });\n    }\n    /**\n     * Processes init methods.\n     *\n     * @private\n     *\n     * @param {object} target\n     *   Object that acts as the function scope and might get an initialized function attached to it\n     *   if aCallInit is false.\n     * @param functions\n     *   A list of functions to call using aTarget as function scope.\n     * @param methodName\n     *   When specified, instead of calling the functions a new method will be attached to aTarget\n     *   using this name. The method will call all functions with aTarget as function scope.\n     */\n    static callMethods(target, functions, methodName) {\n        const callFunctions = () => functions.forEach(method => method.call(target));\n        if (methodName) {\n            target[methodName] = callFunctions;\n        }\n        else {\n            callFunctions();\n        }\n    }\n    /**\n     * Checks if an object is an instance of a class. If anObject is not an object, the method will\n     * return false.\n     *\n     * The method will also return false if instanceOf fails with an exception.\n     *\n     * @param objectValue\n     *   Object to check\n     * @param classType\n     *   Class to check\n     *\n     * @return True if anObject is an instance of aClass; in all other cases false.\n     */\n    static instanceOf(objectValue, classType) {\n        if (typeof classType !== 'function') {\n            return false;\n        }\n        try {\n            return objectValue instanceof classType;\n        }\n        catch {\n            return false;\n        }\n    }\n}\n// endregion\n//# sourceMappingURL=UFObject.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region class\n/**\n * Possible angle units\n */\nexport var UFAngleUnit;\n(function (UFAngleUnit) {\n    UFAngleUnit[UFAngleUnit[\"degrees\"] = 0] = \"degrees\";\n    UFAngleUnit[UFAngleUnit[\"radians\"] = 1] = \"radians\";\n})(UFAngleUnit || (UFAngleUnit = {}));\n/**\n * {@link UFMath} implements methods supporting numbers.\n */\nexport class UFMath {\n    // region constructor\n    /**\n     * Utility class with only static methods, do not allow instances.\n     *\n     * @private\n     */\n    constructor() {\n    }\n    // endregion\n    // region static properties\n    /**\n     * Determines how to treat angle parameters or which unit to use when returning angles.\n     */\n    static get angleUnit() {\n        return UFMath.s_angleUnit;\n    }\n    static set angleUnit(value) {\n        UFMath.s_angleUnit = value;\n    }\n    // endregion\n    // region static methods\n    /**\n     * Convert angle to radians, use angleUnit to determine unit of input parameter.\n     *\n     * @param angle\n     *   Angle to convert\n     *\n     * @returns Converted angle.\n     */\n    static toRadians(angle) {\n        return (UFMath.angleUnit === UFAngleUnit.degrees) ? angle * Math.PI / 180 : angle;\n    }\n    /**\n     * Convert angle from radians to unit as specified by m_angleUnit\n     *\n     * @param angle\n     *   Angle to convert\n     *\n     * @returns Converted angle.\n     */\n    static fromRadians(angle) {\n        return (UFMath.angleUnit === UFAngleUnit.degrees) ? angle * 180 / Math.PI : angle;\n    }\n    // endregion\n    // region public methods\n    /**\n     * Rotates a 2D coordinate around a certain point.\n     *\n     * @param angle\n     *   Angle\n     * @param x\n     *   X coordinate of point to rotate\n     * @param y\n     *   Y coordinate of point to rotate\n     * @param originX\n     *   X coordinate of point to rotate around\n     * @param originY\n     *   Y coordinate of point to rotate around\n     *\n     * @returns {{x,y}} An object with x and y property.\n     */\n    static rotate(angle, x, y, originX = 0, originY = 0) {\n        angle = UFMath.toRadians(angle);\n        const transX = x - originX;\n        const transY = y - originY;\n        const sin = Math.sin(angle);\n        const cos = Math.cos(angle);\n        return {\n            x: transX * cos - transY * sin + originX,\n            y: transX * sin + transY * cos + originY\n        };\n    }\n    /**\n     * Calculates the angle between two points\n     *\n     * @param x1\n     *  First X coordinate of point\n     * @param y1\n     *  First Y coordinate of point\n     * @param x2\n     *  Second X coordinate of point\n     * @param y2\n     *  Second Y coordinate of point\n     *\n     * @returns Angle in degrees (0..360)\n     */\n    static angle(x1, y1, x2, y2) {\n        return UFMath.fromRadians(Math.atan2(y2 - y1, x2 - x1));\n    }\n    /**\n     * Calculates distance between two points.\n     *\n     * @param x1\n     *  First X coordinate of point\n     * @param y1\n     *  First Y coordinate of point\n     * @param x2\n     *  Second X coordinate of point\n     * @param y2\n     *  Second Y coordinate of point\n     *\n     * @returns Distance between two points\n     */\n    static distance(x1, y1, x2, y2) {\n        const dX = x1 - x2;\n        const dY = y1 - y2;\n        return Math.sqrt(dX * dX + dY * dY);\n    }\n    /**\n     * Returns a random integer.\n     *\n     * @param minOrMaxValue\n     *   Minimal or maximum value (if aMax is not specified)\n     * @param maxValue\n     *   Maximal value\n     *\n     * @return {number} random integer between aMin and aMax (inclusive)\n     */\n    static randomInteger(minOrMaxValue, maxValue) {\n        if (maxValue === undefined) {\n            maxValue = minOrMaxValue;\n            minOrMaxValue = 0;\n        }\n        return Math.floor(minOrMaxValue + Math.random() * (maxValue - minOrMaxValue + 1));\n    }\n    /**\n     * Increases or decreases value, so it gets nearer to a target value.\n     *\n     * @param target\n     *   Value to reach\n     * @param current\n     *   Current value\n     * @param stepSize\n     *   Value to move with\n     *\n     * @returns aCurrent +/- aStep or aTarget if aCurrent was closer to aTarget then aStep distance\n     */\n    static moveTo(target, current, stepSize) {\n        return (target > current)\n            ? Math.min(target, current + stepSize)\n            : Math.max(target, current - stepSize);\n    }\n    /**\n     * Calculates a position based on movement over time. The method makes sure the returned value is between the\n     * specified target and starting values.\n     *\n     * @param target\n     *   Target to move to\n     * @param start\n     *   Starting position moving from\n     * @param currentTime\n     *   Current time\n     * @param totalTime\n     *   Total time movement should take place\n     * @returns value between aStart and aTarget (both inclusive)\n     */\n    static moveOverTime(target, start, currentTime, totalTime) {\n        return start + (target - start) *\n            Math.max(0, Math.min(currentTime, totalTime)) / totalTime;\n    }\n    /**\n     * Makes sure a value is within a range.\n     *\n     * @param minValue\n     *   Minimum value\n     * @param maxValue\n     *   Maximum value\n     * @param value\n     *   Value to test\n     *\n     * @returns aValue if it is within range or aMin or aMax\n     */\n    static minmax(minValue, maxValue, value) {\n        return Math.max(minValue, Math.min(maxValue, value));\n    }\n    /**\n     * Checks if two rectangles overlap.\n     *\n     * @param x0\n     *   Left of first rectangle\n     * @param y0\n     *   Left of first rectangle\n     * @param width0\n     *   Left of first rectangle\n     * @param height0\n     *   Left of first rectangle\n     * @param x1\n     *   Left of second rectangle\n     * @param y1\n     *   Left of second rectangle\n     * @param width1\n     *   Left of second rectangle\n     * @param height1\n     *   Left of second rectangle\n     *\n     * @returns {boolean} True if two rectangles overlap\n     */\n    static isOverlapping(x0, y0, width0, height0, x1, y1, width1, height1) {\n        // just check if minimum value in one direction is equal or larger than the maximum value in that direction\n        return !((x0 >= x1 + width1) ||\n            (x1 >= x0 + width0) ||\n            (y0 >= y1 + height1) ||\n            (y1 >= y0 + height0));\n    }\n    /**\n     * Checks if a value is a number.\n     *\n     * Copy from:\n     * https://github.com/ReactiveX/rxjs/blob/master/src/internal/util/isNumeric.ts\n     *\n     * @param value\n     *   Value to check\n     *\n     * @returns true if value is a valid, otherwise false\n     */\n    static isNumeric(value) {\n        // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n        // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n        // subtraction forces infinities to NaN\n        // adding 1 corrects loss of precision from parseFloat (#15100)\n        return !Array.isArray(value) && (value - parseFloat(value) + 1) >= 0;\n    }\n    /**\n     * Checks if a value is a valid number, if not return a default value instead.\n     *\n     * @param value\n     *   Value to check\n     * @param defaultNumber\n     *   Default value to use if aValue is not a valid number\n     *\n     * @returns either aValue as a number or aDefault\n     */\n    static getNumber(value, defaultNumber) {\n        return this.isNumeric(value) ? value : defaultNumber;\n    }\n    /**\n     * Performs a logical xor on two values.\n     *\n     * Reference: {@link http://www.howtocreate.co.uk/xor.html}\n     *\n     * @param value0\n     *   First value\n     * @param value1\n     *   Second value\n     * @returns `True` if either aValue0 or aValue1 evaluates to a truthy but not both;\n     *   otherwise `false` if both values evaluate to a truthy or falsy.\n     */\n    static xor(value0, value1) {\n        // use !! to make sure with two falsy values, the result is still a boolean\n        return !!((value0 || value1) && !(value0 && value1));\n    }\n}\n// endregion\n// region static private variables\n/**\n * See property definitions\n *\n * @private\n */\nUFMath.s_angleUnit = UFAngleUnit.degrees;\n// endregion\n//# sourceMappingURL=UFMath.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFMath } from \"./UFMath.js\";\n// endregion\n// region class\n/**\n * {@link UFText} implements methods for supporting strings and characters.\n */\nexport class UFText {\n    // region constructor\n    /**\n     * Utility class with only static methods, do not allow instances.\n     *\n     * @private\n     */\n    constructor() {\n    }\n    // endregion\n    // region public methods\n    /**\n     * Appends a text to another text using a separator. If either texts are empty, the method\n     * just returns the other text without the separator.\n     *\n     * @param source\n     *   Source to add to\n     * @param value\n     *   Value to append\n     * @param separator\n     *   Separator to use\n     *\n     * @return aValue added to aSource with aSeparator if both aValue and aSource are not empty.\n     */\n    static append(source, value, separator) {\n        if (source.length <= 0) {\n            return value;\n        }\n        if (value.length <= 0) {\n            return source;\n        }\n        return source + separator + value;\n    }\n    /**\n     * Converts plain text to html by replacing certain characters with their entity equivalent and\n     * replacing \\n with <br/> tags.\n     *\n     * Based on code from answer: https://stackoverflow.com/a/4835406/968451\n     *\n     * @param text\n     *   Text to convert\n     *\n     * @return Html formatted plain text\n     */\n    static escapeHtml(text) {\n        return text.replace(/[&<>\"'\\n\\t\\r]/g, character => this.s_escapeHtmlMap.get(character));\n    }\n    /**\n     * Escapes special characters in a string to be used in a regular expression.\n     *\n     * @param text\n     *   Text to convert\n     *\n     * @return Escaped string with special characters prefixed with a backslash.\n     */\n    static escapeRegExp(text) {\n        return String(text).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    }\n    /**\n     * Generate a code existing of a random sequence of upper and lowercase and numbers.\n     *\n     * @param length\n     *   Number of characters the code exists of\n     *\n     * @return The generated code.\n     */\n    static generateCode(length) {\n        let result = '';\n        let numberCount = 1;\n        for (let cnt = 0; cnt < length; cnt++) {\n            // 00..09: '0'..'9'\n            // 10..35: 'A'..'Z'\n            // 36..61: 'a'..'z'\n            let charCode;\n            while (true) {\n                // make sure every 3rd char is a number (also to prevent offensive words)\n                charCode = (numberCount > 2) ? UFMath.randomInteger(0, 9) : UFMath.randomInteger(0, 61);\n                // break loop if char code is not zero or uppercase O or one and lowercase l (too similar)\n                if ((charCode !== 0) && (charCode !== 24) && (charCode !== 1) && (charCode !== 47)) {\n                    break;\n                }\n            }\n            if (charCode < 10) {\n                // reset number counter\n                result += String.fromCharCode(charCode + 48);\n                numberCount = 0;\n            }\n            else if (charCode < 36) {\n                result += String.fromCharCode(charCode + 65 - 10);\n                numberCount++;\n            }\n            else {\n                result += String.fromCharCode(charCode + 97 - 10 - 26);\n                numberCount++;\n            }\n        }\n        return result;\n    }\n    /**\n     * Converts a number to a string of 2 digits\n     *\n     * @param numberValue\n     *   A number between 0 and 99\n     *\n     * @return aNumber as string, prefixed with a 0 if number exists of 1 digit\n     *\n     * @private\n     */\n    static twoDigits(numberValue) {\n        return numberValue < 10 ? '0' + numberValue : numberValue.toString();\n    }\n    /**\n     * Converts a number to a string of 3 digits\n     *\n     * @param numberValue\n     *   A number between 0 and 999\n     *\n     * @return aNumber as string, prefixed with a 0 if number exists of 1 digit\n     *\n     * @private\n     */\n    static threeDigits(numberValue) {\n        return ('000' + numberValue.toString()).substring(-3);\n    }\n    /**\n     * Replace all keys by their value in a string.\n     *\n     * @param text\n     *   Text to update\n     * @param map\n     *   Replace keys with their values\n     *\n     * @return Updated aText\n     */\n    static replace(text, map) {\n        for (const [key, value] of Object.entries(map)) {\n            text = text.replace(key, value);\n        }\n        return text;\n    }\n    /**\n     * Returns a number converted to a hex number of two digits.\n     *\n     * @param numberValue\n     *   Number to convert (will be clamped between 0 and 255)\n     *\n     * @return hexadecimal string of 2 digits\n     */\n    static hexTwoDigits(numberValue) {\n        return ('0' + Math.min(255, Math.max(0, numberValue)).toString(16)).substring(-2);\n    }\n    /**\n     * Returns a number converted to a hex number of four digits.\n     *\n     * @param numberValue\n     *   Number to convert (will be clamped between 0 and 65535)\n     *\n     * @return hexadecimal string of 4 digits\n     */\n    static hexFourDigits(numberValue) {\n        return ('000' + Math.min(65535, Math.max(0, numberValue)).toString(16)).substring(-4);\n    }\n    /**\n     * Joins strings making sure there is one delimiter string between them.\n     *\n     * @param delimiter\n     *   Delimiter to use\n     * @param texts\n     *   Texts to join\n     *\n     * @return aTexts joined together\n     */\n    static join(delimiter, ...texts) {\n        return texts.reduce((previous, current) => {\n            if (current.startsWith(delimiter)) {\n                current = current.substring(delimiter.length);\n            }\n            if (!previous.endsWith(delimiter) && previous.length) {\n                previous += delimiter;\n            }\n            return previous + current;\n        });\n    }\n    /**\n     * Joins strings together using '/' as a delimiter.\n     *\n     * @param texts\n     *   Texts to join\n     *\n     * @return aTexts joined together\n     */\n    static joinPath(...texts) {\n        return this.join('/', ...texts);\n    }\n    /**\n     * Gets the text to convert a number to an English ordinal number.\n     *\n     * @param numberValue\n     *   Number to convert.\n     *\n     * @return Text to add to the number.\n     */\n    static getOrdinalPost(numberValue) {\n        switch (numberValue % 10) {\n            case 1:\n                return 'st';\n            case 2:\n                return 'nd';\n            case 3:\n                return 'rd';\n            default:\n                return 'th';\n        }\n    }\n    /**\n     * Converts a number to an English ordinal number.\n     *\n     * @param numberValue\n     *   Number to convert.\n     *\n     * @return number with shortened ordinal text added to it.\n     */\n    static getOrdinalNumber(numberValue) {\n        return numberValue.toString() + this.getOrdinalPost(numberValue);\n    }\n    /**\n     * Gets a value as string.\n     *\n     * @param value\n     *   Value to get\n     * @param defaultText\n     *   Default is used if aValue can not be converted to a string (in case of null, undefined, NaN)\n     *\n     * @return aValue as string (via toString() call) or aDefault.\n     */\n    static asString(value, defaultText = '') {\n        switch (value) {\n            case null:\n            case undefined:\n            case NaN:\n                return defaultText;\n            default:\n                return value.toString();\n        }\n    }\n    /**\n     * Formats a file size adding unit (bytes, KB, MB or GB).\n     *\n     * @param size\n     *   Size to format\n     *\n     * @returns formatted size\n     */\n    static formatFileSize(size) {\n        let result;\n        if (size < 1024) {\n            result = size + ' bytes';\n        }\n        else if (size < 1024 * 1024) {\n            result = (size / 1024).toFixed(1) + ' KB';\n        }\n        else if (size < 1024 * 1024 * 1024) {\n            result = (size / 1024 / 1024).toFixed(1) + ' MB';\n        }\n        else {\n            result = (size / 1024 / 1024 / 1024).toFixed(1) + ' GB';\n        }\n        return result;\n    }\n    /**\n     * Gets the extension of file by returning the part after the last '.' in the name.\n     *\n     * @param fileName\n     *   Filename to get extension of (may include path parts)\n     *\n     * @returns extension (without '.' and in lowercase) or false if no '.' could be\n     *   located in the name.\n     */\n    static getFileExtension(fileName) {\n        const fileStart = fileName.lastIndexOf('/');\n        if (fileStart > 0) {\n            fileName = fileName.substring(fileStart + 1);\n        }\n        const start = fileName.lastIndexOf('.');\n        return start < 0 ? false : fileName.substring(start + 1).toLowerCase();\n    }\n    /**\n     * Add a number of padding chars on the left (in front) until a string reaches a certain\n     * minimal size.\n     *\n     * @param text\n     *   Text to pad\n     * @param minSize\n     *   Minimal size\n     * @param padChar\n     *   Char to add\n     *\n     * @return {string} aText padded with aPadChar, if aTexts length >= aMinSize then aText\n     *   is just returned\n     *\n     * @obsolete Use string.padStart() instead\n     */\n    static lpad(text, minSize, padChar = ' ') {\n        while (text.length < minSize) {\n            text = padChar + text;\n        }\n        return text;\n    }\n    /**\n     * Add a number of padding chars on the right until a string reaches a certain minimal size.\n     *\n     * @param text\n     *   Text to pad\n     * @param minSize\n     *   Minimal size\n     * @param padChar\n     *   Char to add\n     *\n     * @return {string} aText padded with aPadChar, if aTexts length >= aMinSize then aText is\n     * just returned\n     *\n     * @obsolete Use string.padEnd() instead\n     */\n    static rpad(text, minSize, padChar = ' ') {\n        while (text.length < minSize) {\n            text = text + padChar;\n        }\n        return text;\n    }\n    /**\n     * Adds a parameter to an url. The method checks if the url already contains parameters\n     * (by containing a ? character). If it does the parameter is added to the end with a '&'\n     * character. Else the parameter is added to the end with a '?' character.\n     *\n     * @param url\n     *   Filename to add parameter to\n     * @param parameter\n     *   Parameter to add\n     * @param value\n     *   When specified the value to add to the parameter using '='\n     *\n     * @return anUrl with '?aParameter[=aValue]' or '&aParameter[=aValue]' added to it.\n     */\n    static addParameter(url, parameter, value) {\n        if (value) {\n            parameter = parameter + '=' + value;\n        }\n        parameter = (url.indexOf('?') >= 0 ? '&' : '?') + parameter;\n        return url + parameter;\n    }\n    /**\n     * Format a string using format specifiers and additional parameters. Next to formatting primitive\n     * values the method can also format a property within an object.\n     *\n     * Format:\n     * `%[number$][{name}][+][0|'char][-][number]\\[.number]%|(name)|b|c|d|e|f|F|o|u|s|x|X`\n     * - [] = optional\n     * - | = choices for a single location\n     *\n     * Format specifiers:\n     * - `number$` = use argument at index number (first argument has index 1); if the value is too\n     *   high and points to a non-existing argument the method will skip this format string and leave\n     *   it as is.\n     * - `{name}` = show the value of a property of the specified name, the property is formatted\n     *              according to the type specifier.\n     * - `+` = when formatting a decimal or float prefix with a '+' if the number is positive\n     *        (sign of number is always shown)\n     * - `0` = use 0 as padding character (default is a space)\n     * - `'char` = use char as padding character (char is a single character)\n     * - `-` = instead of right justification, left justify the result when padding\n     * - `number` = minimal size, add padding characters if needed\n     * - `.number` = with floats this number specifies the number of decimal digits to display;\n     *               else it specifies the maximum size (in characters)\n     *\n     * The format specification should end with a type specifier that indicates the type of the argument:\n     * - `%` = no argument is used and all the formatting is ignored, a single % character is\n     *         inserted (with other words, use %% inside the format string to get a single %)\n     * - `(name)` = show the value of a property, treating the value as a string. Other\n     *              formatting specifiers can still be used. See also comments below.\n     * - `b` = the argument is treated as an unsigned integer and presented as a binary number.\n     * - `c` = the argument is treated as an unsigned integer and presented as the character with\n     *         that ASCII value.\n     * - `d` = the argument is treated as an integer and presented as a (signed) decimal number.\n     * - `e` = the argument is treated as a float and presented using scientific notation\n     *         (e.g. 1.2e+2). The precision specifier stands for the number of digits after\n     *         the decimal point.\n     * - `u` = the argument is treated as an unsigned integer and presented as an unsigned\n     *         decimal number. The plus modifier is not used.\n     * - `f` = the argument is treated as a float and presented as a floating-point number.\n     * - `F` = same as f (to be compatible with PHP's formatting)\n     * - `o` = the argument is treated as an unsigned integer and presented as an octal number.\n     * - `s` = the argument is treated as and presented as a string.\n     * - `x` = the argument is treated as an unsigned integer and presented as a hexadecimal\n     *         number (with lowercase letters).\n     * - `X` = the argument is treated as an unsigned integer and presented as a hexadecimal\n     *         number (with uppercase letters).\n     *\n     * The method uses a regular expression with named groups to identify the various parts. The\n     * order of the format specifiers must follow the order as specified above.\n     *\n     * The first time a property value specification is encountered, the method will store the\n     * matching argument assuming it is an object. Any property value specification after will use\n     * the same object.\n     *\n     * To show property values of multiple objects, one can use the `number$` specifier to select\n     * a certain argument. When using `number$` to select a certain object that object\n     * is not stored as default object.\n     *\n     * To format a property value using a certain type specifier use the `{}` specifier; to show\n     * the property as string one can use the `()` specifier.\n     *\n     * If no argument index is used and there are no more arguments to map to, the method will\n     * not process the string and just keep it.\n     *\n     * @param format\n     *   A string including format specifiers.\n     * @param argumentList\n     *   Various arguments to format within the string\n     *\n     * @return formatted string\n     *\n     * @example <caption>A few formatting statements</caption>\n     * var pear = {color: 'brown', shape: 'pear', weight: 100 };\n     * var apple = {color: 'green', shape: 'round', weight: 150 };\n     *\n     * console.log(UFText.sprintf('The color of an apple is %(color) and the shape is %(shape)', apple));\n     * // The color of an apple is green and the shape is round\n     *\n     * console.log(UFText.sprintf('The color of a pear is %0$(color) and the color of an apple is %1$(color)', pear, apple));\n     * // The color of a pear is brown and the color of an apple is green\n     *\n     * console.log(UFText.sprintf('The weight of a pear is %0${weight}.2f and the weight of an apple is %1${weight}.2f', pear, apple));\n     * // The weight of a pear is 100.00 and the weight of an apple is 150.00\n     *\n     * console.log(UFText.sprintf('The number 12 as binary = %b', 12));\n     * // The number 12 as binary = 1100\n     *\n     * console.log(UFText.sprintf('The number 12 as octal = %o', 12));\n     * // The number 12 as octal = 14\n     *\n     * console.log(UFText.sprintf('The number 12 as decimal = %d', 12));\n     * // The number 12 as decimal = 12\n     *\n     * console.log(UFText.sprintf('The number 12 as decimal with + = %+d', 12));\n     * // The number 12 as decimal with + = +12\n     *\n     * console.log(UFText.sprintf('The number 12 as hexadecimal = %x', 12));\n     * // The number 12 as hexadecimal = c\n     *\n     * console.log(UFText.sprintf('The number 12 as hexadecimal = %X', 12));\n     * // The number 12 as hexadecimal = C\n     *\n     * console.log(UFText.sprintf('The number 12 as hexadecimal with padding = %04X', 12));\n     * // The number 12 as hexadecimal = 000C\n     *\n     * console.log(UFText.sprintf('The number 12.5 as exponential = %.3e', 12.5));\n     * // The number 12.5 as exponential = 1.250e+1\n     *\n     * console.log(UFText.sprintf('The number 12.5 as float = %.3f', 12.5));\n     * // The number 12.5 as float = 12.500\n     *\n     * console.log(UFText.sprintf('[%8s] = default justification', 'abcd'));\n     * // [    abcd] = default justification\n     *\n     * console.log(UFText.sprintf('[%-8s] = left justification', 'abcd'));\n     * // [abcd    ] = left justification\n     *\n     * console.log(UFText.sprintf('[%08s] = default justification with zero padding', 'abcd'));\n     * // [0000abcd] = default justification with zero padding\n     *\n     * // the next example uses \\' to insert the - into the string\n     * console.log(UFText.sprintf('[%\\'-8s] = default justification with - padding', 'abcd'));\n     * // [----abcd] = default justification with - padding\n     *\n     * console.log(UFText.sprintf('[%10s] = default justification with space padding', 'abcd'));\n     * // [      abcd] = default justification with space padding\n     *\n     * console.log(UFText.sprintf('%%%.2f percentage', 33.5));\n     * // %33.50 percentage\n     */\n    static sprintf(format, ...argumentList) {\n        // build regular expression to find specifications, the format specifier starts with a %\n        const regExpr = \"%\"\n            // skip if there is another % (%% are handled at the end of the method)\n            + \"(?!%)\"\n            // argument index\n            + \"((?<param_index>\\\\d+)\\\\$)?\"\n            // property name (which will be followed by a type specifier)\n            + \"(\\\\{(?<prop_typed>\\\\w+)\\\\})?\"\n            // add plus to numbers\n            + \"(?<add_plus>\\\\+)?\"\n            // determine padding character (either 0 or a custom char)\n            + \"(?<pad_zero>0|\\'(?<pad_char>.))?\"\n            // left justification instead of right\n            + \"(?<left_justify>\\\\-)?\"\n            // minimal size\n            + \"(?<min_size>\\\\d+)?\"\n            // maximal size or number of decimal digits\n            + \"(\\\\.(?<max_size>\\\\d+))?\"\n            // type specifier and property name to be shown as text\n            + \"(?<format_type>\\\\((?<prop_text>\\\\w+)\\\\)|[bcdefFousxX])\";\n        // create RegExp instance and use global search\n        const testExp = new RegExp(regExpr, 'g');\n        // result contains resulting string\n        let result = '';\n        // end of last formatting part (points to character after)\n        let formatEnd = 0;\n        // current index into argument\n        let argumentIndex = 0;\n        // object to use for properties\n        let defaultObject = null;\n        // replace all matches\n        for (let execResult = testExp.exec(format); execResult != null; execResult = testExp.exec(format)) {\n            if (!execResult.groups) {\n                continue;\n            }\n            // add string from previous position up to current\n            result = result + format.substring(formatEnd, execResult.index);\n            // set to point after the found expression ([0] contains the whole regular expression string)\n            formatEnd = execResult.index + execResult[0].length;\n            // argument contains the value to format\n            let argument = null;\n            // get property name, use (name) if present ({name} will be ignored), else get {name}\n            const propName = execResult.groups.prop_text\n                ? execResult.groups.prop_text\n                : execResult.groups.prop_typed ? execResult.groups.prop_typed : '';\n            // object to get property from\n            let object = null;\n            // a parameter index is set?\n            if (execResult.groups.param_index) {\n                // get index to argument/object\n                const index = Number(execResult.groups.param_index);\n                if (index >= argumentList.length) {\n                    // add % to result\n                    result = result + '%';\n                    // continue parsing with character after %\n                    formatEnd = execResult.index + 1;\n                    continue;\n                }\n                // set argument\n                argument = argumentList[index];\n                // also use as object to get property value from\n                object = argument;\n            }\n            else if ((propName.length === 0) || (defaultObject == null)) {\n                // no property name is specified, or there is no default object yet.\n                // skip if there are no more arguments\n                if (argumentIndex >= argumentList.length) {\n                    // add % to result\n                    result = result + '%';\n                    // continue parsing with character after %\n                    formatEnd = execResult.index + 1;\n                    continue;\n                }\n                // Get argument and advance index\n                argument = argumentList[argumentIndex++];\n            }\n            // there is a property name? Y: replace argument with value of property\n            if (propName.length > 0) {\n                // no parameter index was used?\n                if (object == null) {\n                    // yes, use defaultObject; initialize it if it is still null\n                    if (defaultObject == null) {\n                        defaultObject = argument;\n                    }\n                    object = defaultObject;\n                }\n                argument = object[propName];\n            }\n            // if there is a text property, change format_type to s to simulate a text format\n            if (execResult.groups.prop_text) {\n                execResult.groups.format_type = 's';\n            }\n            // textValue will be set to a textual representation of the value\n            let textValue;\n            // get min and max size (used with multiple format types)\n            let min = execResult.groups.min_size ? Number(execResult.groups.min_size) : -1;\n            let max = execResult.groups.max_size ? Number(execResult.groups.max_size) : -1;\n            // format argument depending on type\n            switch (execResult.groups.format_type) {\n                case 's':\n                    // get text value for special argument cases\n                    switch (argument) {\n                        case null:\n                            textValue = 'null';\n                            break;\n                        case undefined:\n                            textValue = 'undefined';\n                            break;\n                        default:\n                            textValue = argument.toString();\n                            break;\n                    }\n                    break;\n                case 'c':\n                    textValue = String.fromCharCode(Number(argument));\n                    break;\n                case 'b':\n                    textValue = Number(argument).toString(2);\n                    break;\n                case 'x':\n                    textValue = Number(argument).toString(16).toLowerCase();\n                    break;\n                case 'X':\n                    textValue = Number(argument).toString(16).toUpperCase();\n                    break;\n                case 'u':\n                    textValue = Number(argument).toString();\n                    break;\n                case 'd':\n                    // int value\n                    const intValue = Math.floor(Number(argument));\n                    // add +?\n                    textValue = ((intValue >= 0) && execResult.groups.add_plus ? execResult.groups.add_plus : '') + intValue.toString();\n                    break;\n                case 'o':\n                    textValue = Number(argument).toString(8);\n                    break;\n                case 'e':\n                case 'f':\n                case 'F':\n                    // get float value\n                    const floatValue = Number(argument);\n                    // add +?\n                    textValue = (floatValue >= 0) && execResult.groups.add_plus\n                        ? execResult.groups.add_plus : '';\n                    // default to 6 if no max is specified\n                    if (max < 0) {\n                        max = 6;\n                    }\n                    // add formatted\n                    textValue = textValue + ((execResult.groups.format_type === 'e') ?\n                        floatValue.toExponential(max) : floatValue.toFixed(max));\n                    // no cut off\n                    max = -1;\n                    break;\n                default:\n                    throw new Error('Unknown format specifier \"' + execResult.groups.format_type + '\"');\n            }\n            // pad to reach min size\n            if (min >= 0) {\n                // select correct pad char\n                const padChar = execResult.groups.pad_char ?\n                    execResult.groups.pad_char : (execResult.groups.pad_zero ? '0' : ' ');\n                // add padding\n                textValue = execResult.groups.left_justify ?\n                    UFText.rpad(textValue, min, padChar) : UFText.lpad(textValue, min, padChar);\n            }\n            // keep within certain size?\n            if (max >= 0) {\n                textValue = textValue.substring(0, max);\n            }\n            // add formatted value to result\n            result = result + textValue;\n        }\n        // add last part\n        result = result + format.substring(formatEnd);\n        // replace all %% with a single %\n        result = result.replace(/%%/g, '%');\n        // return formatted string\n        return result;\n    }\n    /**\n     * This method performs: `console.log(UFStringTools.sprintf(aFormat, ...));`.\n     *\n     * @param format\n     *   String to format\n     * @param argumentList\n     *   Various parameters to format within the string\n     */\n    static printf(format, ...argumentList) {\n        console.log(UFText.sprintf.apply(null, arguments));\n    }\n    /**\n     * Parses a CSV string into an array of rows, where each row is an array of cell values.\n     * The method handles quoted values, escaped quotes, and different line endings. The delimiter can\n     * be specified, default is a comma.\n     *\n     * @param csvText\n     *   String to parse as CSV\n     * @param delimiter\n     *   Delimiter to use (default is a comma)\n     *\n     * @return an array of rows, where each row is an array of cell values.\n     */\n    static parseCSV(csvText, delimiter = ',') {\n        const rows = [];\n        let row = [];\n        let current = '';\n        let inQuotes = false;\n        for (let index = 0; index < csvText.length; index++) {\n            const currentCharacter = csvText[index];\n            const nextCharacter = index < csvText.length - 2 ? csvText[index + 1] : '';\n            if (currentCharacter === '\"') {\n                if (inQuotes && (nextCharacter === '\"')) { // escaped quote\n                    current += '\"';\n                    index++;\n                }\n                else {\n                    // enter/exit quotes\n                    inQuotes = !inQuotes;\n                }\n            }\n            else if ((currentCharacter === delimiter) && !inQuotes) {\n                row.push(current);\n                current = '';\n            }\n            else if (((currentCharacter === '\\n') || (currentCharacter === '\\r')) && !inQuotes) {\n                // skip the next character if it's a part of Windows-style line ending\n                if ((currentCharacter === '\\r') && (nextCharacter === '\\n')) {\n                    index++;\n                }\n                row.push(current);\n                rows.push(row);\n                row = [];\n                current = '';\n            }\n            else {\n                current += currentCharacter;\n            }\n        }\n        return rows;\n    }\n}\n// endregion\n// region private vars\n/**\n * Maps certain characters to their entity or special html tag or empty string if it has no\n * use in html\n *\n * @private\n */\nUFText.s_escapeHtmlMap = new Map([\n    ['&', '&amp;'],\n    ['<', '&lt;'],\n    ['>', '&gt;'],\n    ['\"', '&quot;'],\n    [\"'\", '&#039;'],\n    ['\\n', '<br/>'],\n    ['\\t', ''],\n    ['\\r', '']\n]);\n// endregion\n//# sourceMappingURL=UFText.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region private functions\n// endregion\n// region types\n/**\n * The different service provider types.\n */\nvar ServiceProviderType;\n(function (ServiceProviderType) {\n    ServiceProviderType[ServiceProviderType[\"Factory\"] = 0] = \"Factory\";\n    ServiceProviderType[ServiceProviderType[\"Constructor\"] = 1] = \"Constructor\";\n    ServiceProviderType[ServiceProviderType[\"Static\"] = 2] = \"Static\";\n    ServiceProviderType[ServiceProviderType[\"SingletonFactory\"] = 3] = \"SingletonFactory\";\n    ServiceProviderType[ServiceProviderType[\"SingletonConstructor\"] = 4] = \"SingletonConstructor\";\n})(ServiceProviderType || (ServiceProviderType = {}));\n// endregion\n// region exports\n/**\n * The {@link UFService} implements a dependency injection mechanism.\n *\n * Services are registered with a name using {@link registerFactory}, {@link registerConstructor},\n * {@link registerSingletonFactory}, {@link registerSingletonConstructor},\n * {@link registerStatic}.\n *\n * A service may depend on other services. When a service is requested, the dependent services\n * are injected into the service provider function (either a factory or constructor function).\n *\n * Use {@link getInstance} to get a service.\n *\n * To inject services into a call use {@link call}.\n *\n * To construct a class (via new) injecting services into the constructor function\n * use {@link construct}.\n *\n * Add '()' to a service name to get a factory function (no parameters) that can be used to create\n * instances for that service. The factory function will call {@link getInstance} to get\n * the service instance.\n *\n * @example\n * // some model and controller class\n * class MainModel {\n *   // ...\n * }\n * class MainController {\n *   // ...\n * }\n * // a view for an enemy\n * class EnemyView {\n *   // ...\n * }\n * // register services\n * UFService.registerConstructor('game.models.MainModel', MainModel);\n * UFService.registerConstructor('game.controllers.MainController', MainController);\n * UFService.registerConstructor('game.views.Enemy', EnemyView);\n *\n * @example\n * // some factory function to create a view\n * function viewFactory(aMainData, aMainController) {\n *   // create view\n *   return {\n *     // some public methods\n *   };\n * }\n *\n * const viewInstance = UF.callWithServices(\n *   viewFactory, ['game.models.MainModel', 'game.controllers.MainController']\n * );\n *\n * @example\n * // Creates a view with factory function\n * function viewFactory(aMainData, aMainController, anEnemyFactory) {\n *   const enemies = [];\n *   // ...\n *   function createEnemies(aCount) {\n *     for(let index = 0; index < aCount; index++) {\n *       enemies.push(anEnemyFactory());\n *     }\n *   }\n *   return {\n *     // some public methods\n *   };\n * }\n * // note the () with last service name\n * const viewInstance = UF.callWithServices(\n *   viewFactory, ['game.models.MainModel', 'game.controllers.MainController', 'game.views.Enemy()']\n * );\n */\nexport class UFService {\n    // endregion\n    // region public methods\n    /**\n     * Registers a service that is created using a factory function. The service is created\n     * by invoking the factory function injecting the dependent types.\n     *\n     * @param name\n     *   Name of service\n     * @param factory\n     *   Factory function that creates the service.\n     * @param services\n     *   Name of other services that should be resolved an injected into the factory function.\n     *   The order of the service names is the order in which they are injected.\n     */\n    static registerFactory(name, factory, services = []) {\n        UFService.s_services.set(name, {\n            type: ServiceProviderType.Factory,\n            factoryProvider: factory,\n            constructorProvider: null,\n            staticProvider: null,\n            instance: null,\n            services: services,\n            factory: null\n        });\n    }\n    /**\n     * Registers a service that is created using a factory function. The first time the service is\n     * requested, it is created by invoking the factory function injecting the dependent types.\n     *\n     * Subsequent requests for the service will return the same instance.\n     *\n     * @param name\n     *   Name of service\n     * @param factory\n     *   Factory function that creates the service.\n     * @param services\n     *   Name of other services that should be resolved an injected into the factory function.\n     *   The order of the service names is the order in which they are injected.\n     */\n    static registerSingletonFactory(name, factory, services = []) {\n        UFService.s_services.set(name, {\n            type: ServiceProviderType.SingletonFactory,\n            factoryProvider: factory,\n            constructorProvider: null,\n            staticProvider: null,\n            instance: null,\n            services: services,\n            factory: null\n        });\n    }\n    /**\n     * Registers a service that is an instance of some class. The service is created by\n     * using new on the constructor function injecting the dependent types.\n     *\n     * @param name\n     *   Name of service\n     * @param constructor\n     *   Constructor function that creates the service.\n     * @param services\n     *   Name of other services that should be resolved an injected into the constructor function.\n     *   The order of the service names is the order in which they are injected.\n     */\n    static registerConstructor(name, constructor, services = []) {\n        UFService.s_services.set(name, {\n            type: ServiceProviderType.Constructor,\n            factoryProvider: null,\n            constructorProvider: constructor,\n            staticProvider: null,\n            instance: null,\n            services: services,\n            factory: null\n        });\n    }\n    /**\n     * Registers a service that is an instance of some class. The first time the service is requested,\n     * it is created by using new on the constructor function injecting the dependent types.\n     *\n     * Subsequent requests for the service will return the same instance.\n     *\n     * @param name\n     *   Name of service\n     * @param constructor\n     *   Constructor function that creates the service.\n     * @param services\n     *   Name of other services that should be resolved an injected into the constructor function.\n     *   The order of the service names is the order in which they are injected.\n     */\n    static registerSingletonConstructor(name, constructor, services = []) {\n        UFService.s_services.set(name, {\n            type: ServiceProviderType.SingletonConstructor,\n            factoryProvider: null,\n            constructorProvider: constructor,\n            staticProvider: null,\n            instance: null,\n            services: services,\n            factory: null\n        });\n    }\n    /**\n     * Registers a service that is already created.\n     *\n     * @param {string} name\n     *   Name of service\n     * @param objectValue\n     *   Object that wil be returned when the service is requested.\n     */\n    static registerStatic(name, objectValue) {\n        UFService.s_services.set(name, {\n            type: ServiceProviderType.Static,\n            factoryProvider: null,\n            constructorProvider: null,\n            staticProvider: objectValue,\n            instance: null,\n            services: [],\n            factory: null\n        });\n    }\n    /**\n     * Checks if a service of certain name exists.\n     *\n     * @param name\n     *   Name of service\n     *\n     * @returns True if there is a service.\n     */\n    static has(name) {\n        return UFService.s_services.has(name);\n    }\n    /**\n     * Gets a service instance for a certain service.\n     *\n     * @param name\n     *   Service name\n     *\n     * @returns an instance implementing the service.\n     */\n    static getInstance(name) {\n        UFService.validateService(name);\n        const service = UFService.s_services.get(name);\n        switch (service.type) {\n            case ServiceProviderType.Constructor:\n                return new service.constructorProvider(...UFService.getServiceInstancesFromNames(service.services));\n            case ServiceProviderType.Factory:\n                return service.factoryProvider(...UFService.getServiceInstancesFromNames(service.services));\n            case ServiceProviderType.Static:\n                return service.staticProvider;\n            case ServiceProviderType.SingletonConstructor:\n                if (!service.instance) {\n                    service.instance = new service.constructorProvider(...UFService.getServiceInstancesFromNames(service.services));\n                }\n                return service.instance;\n            case ServiceProviderType.SingletonFactory:\n                if (!service.instance) {\n                    service.instance = service.factoryProvider(...UFService.getServiceInstancesFromNames(service.services));\n                }\n                return service.instance;\n        }\n    }\n    /**\n     * Calls a function injecting service instances / factories as arguments.\n     *\n     * @param functionValue\n     *   Function to call\n     * @param services\n     *   Services to inject.\n     * @returns Result from function call\n     *\n     */\n    static call(functionValue, services) {\n        return functionValue(...UFService.getServiceInstancesFromNames(services));\n    }\n    /**\n     * Constructs a class (via new) by injecting service instances / factories into the\n     * constructor function.\n     *\n     * @param constructor\n     *   Constructor function\n     * @param services\n     *   Services to inject.\n     *\n     * @returns instance of class defined by aConstructor\n     */\n    static construct(constructor, services) {\n        return new constructor(...UFService.getServiceInstancesFromNames(services));\n    }\n    // endregion\n    // region private methods\n    /**\n     * Checks if a service of certain name exists. If not, an error is thrown.\n     *\n     * @param name\n     *   Name of service to check\n     *\n     * @throws Error if service does not exist.\n     *\n     * @private\n     */\n    static validateService(name) {\n        if (!UFService.has(name)) {\n            throw new Error(`Can not find service: ${name}`);\n        }\n    }\n    /**\n     * Processes a list of service names and returns service instances / service factories.\n     *\n     * @private\n     *\n     * @param services\n     *   A list of service names. If '()' is added to a name, return a factory for that entry.\n     *\n     * @returns A list of service instances and factories, the same order as the aServices list.\n     */\n    static getServiceInstancesFromNames(services) {\n        return services.map(service => service.endsWith('()')\n            ? UFService.getServiceFactory(service.slice(0, -2))\n            : UFService.getInstance(service));\n    }\n    /**\n     * Gets a factory function to create a service of specified name.\n     *\n     * @private\n     *\n     * @param name\n     *   Name of service\n     *\n     * @returns a function that creates an instance of the service.\n     */\n    static getServiceFactory(name) {\n        UFService.validateService(name);\n        const service = UFService.s_services.get(name);\n        if (!service.factory) {\n            service.factory = () => UFService.getInstance(name);\n        }\n        return service.factory;\n    }\n}\n// region private variables\n/**\n * A dynamic object to which services are added. The key is the service name, the value is a\n * service definition.\n *\n * @private\n */\nUFService.s_services = new Map();\n// endregion\n//# sourceMappingURL=UFService.js.map",null,null,null,null,null,null,null,null,null,null,null,"/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFObject } from \"@ultraforce/ts-general-lib/dist/tools/UFObject.js\";\n// endregion\n// region constants and types\n/**\n * Name of property to store the display value of an element before it was hidden.\n */\nconst DisplayBackupProperty = 'ufDisplayBackup';\n// endregion\n// region exports\n/**\n * {@link UFHtml} implements methods for supporting html and the dom.\n */\nexport class UFHtml {\n    // region constructor\n    /**\n     * Utility class with only static methods, do not allow instances.\n     *\n     * @private\n     */\n    constructor() {\n    }\n    // endregion\n    // region public methods\n    /**\n     * Converts plain text to html by replacing certain characters with their entity equivalent and\n     * replacing \\n with <br/> tags.\n     *\n     * Based on code from answer: https://stackoverflow.com/a/4835406/968451\n     *\n     * @param text\n     *   Text to convert\n     *\n     * @returns Html formatted plain text\n     */\n    static escapeHtml(text) {\n        return text.replace(/[&<>\"'\\n\\t\\r]/g, character => this.s_escapeHtmlMap.get(character));\n    }\n    /**\n     * Converts a html formatted text to a plain text.\n     *\n     * Based on code from:\n     * https://javascript.plainenglish.io/3-ways-to-convert-html-text-to-plain-text-strip-off-the-tags-from-the-string-4c947feb8a8c\n     *\n     * @param htmlText\n     *   Html text to format\n     *\n     * @returns plain version of the text\n     */\n    static convertToPlain(htmlText) {\n        // Create a new div element\n        const tempDivElement = document.createElement(\"div\");\n        // Set the HTML content with the given value\n        tempDivElement.innerHTML = htmlText;\n        // Retrieve the text property of the element\n        return tempDivElement.textContent || tempDivElement.innerText || \"\";\n    }\n    /**\n     * Adds css classes in a single string to an element.\n     *\n     * @param element\n     *   Element to add the classes to; can be null, in that case nothing happens.\n     * @param classes\n     *   Css classes separated by a space character; can be null, in that case nothing happens.\n     */\n    static addClasses(element, classes) {\n        if (!element || !classes) {\n            return;\n        }\n        classes.split(' ').forEach(aClass => element.classList.add(aClass.trim()));\n    }\n    /**\n     * Removes css classes in a single string from an element.\n     *\n     * @param element\n     *   Element to remove the classes from; can be null, in that case nothing happens.\n     * @param classes\n     *   Css classes separated by a space character; can be null, in that case nothing happens.\n     */\n    static removeClasses(element, classes) {\n        if (!element || !classes) {\n            return;\n        }\n        classes.split(' ').forEach(aClass => element.classList.remove(aClass.trim()));\n    }\n    /**\n     * Toggle css classes in a single string in an element.\n     *\n     * @param element\n     *   Element to add to or remove from the classes; can be null, in that case nothing happens.\n     * @param classes\n     *   Css classes separated by a space character; can be null, in that case nothing happens.\n     * @param force\n     *   If true the classes are added, if false the classes are removed, if not set the classes are\n     *   toggled.\n     */\n    static toggleClasses(element, classes, force) {\n        if (!element || !classes) {\n            return;\n        }\n        classes.split(' ').forEach(aClass => element.classList.toggle(aClass.trim(), force));\n    }\n    /**\n     * Combines {@link UFHtml.addClasses} and {@link UFHtml.removeClasses}.\n     *\n     * @param element\n     *   Element to add and remove the classes to and from; can be null, in that case nothing happens.\n     * @param addClasses\n     *   Css classes separated by a space character; can be null, in that case no classes are added.\n     * @param removeClasses\n     *   Css classes separated by a space character; can be null, in that case no classes are removed.\n     */\n    static addAndRemoveClasses(element, addClasses, removeClasses) {\n        this.addClasses(element, addClasses);\n        this.removeClasses(element, removeClasses);\n    }\n    /**\n     * Adds a listener for one or more events. The function returns a callback, which can be called to\n     * remove the listener.\n     *\n     * @param element\n     *   Element to add listener to or selector for the element\n     * @param events\n     *   One or more events to add listener for (separated by space)\n     * @param listener\n     *   Listener callback\n     *\n     * @returns a function that can be called to remove the listener from the element for the events.\n     */\n    static addListener(element, events, listener) {\n        const targetElement = typeof element === 'string' ? document.querySelector(element) : element;\n        if (targetElement == null) {\n            return () => {\n            };\n        }\n        const eventsList = events.split(' ').filter(event => event.trim().length > 0);\n        eventsList.forEach(event => targetElement.addEventListener(event, listener));\n        return () => {\n            eventsList.forEach(event => targetElement.removeEventListener(event, listener));\n        };\n    }\n    /**\n     * Adds a listener to the body element for one or more events. If the target or any of the parents\n     * of the target matches the selector, the listener is called.\n     * The function returns a callback, which can be called to remove the listener.\n     * This method can be used to handle events fired by elements that are dynamically added at a\n     * later time.\n     *\n     * @param selector\n     *   Selector the target must match.\n     * @param events\n     *   One or more events to add listener for (separated by space)\n     * @param handlerFactory\n     *   A factory function that creates a handler callback for the element. Note that this function\n     *   is called everytime an event is fired. The function should take as little time as possible.\n     *\n     * @returns a function that can be called to remove the listener from the body.\n     */\n    static addBodyListener(selector, events, handlerFactory) {\n        const eventsList = events.split(' ').filter(event => event.trim().length > 0);\n        const listener = (event) => {\n            // make sure the target is a html element\n            if ((event.target == null) || !(event.target instanceof HTMLElement)) {\n                return;\n            }\n            // either use the target or get the first parent that matches the selector\n            const target = event.target.closest(selector);\n            // exit if no valid target could be found\n            if (!target) {\n                return;\n            }\n            // call event handler\n            const tempListener = handlerFactory(target);\n            if (tempListener instanceof Function) {\n                tempListener(event);\n            }\n            else if ('handleEvent' in tempListener) {\n                tempListener.handleEvent(event);\n            }\n        };\n        eventsList.forEach(event => document.body.addEventListener(event, listener, true));\n        return () => eventsList.forEach(event => document.body.removeEventListener(event, listener, true));\n    }\n    /**\n     * Adds a listener for one or more events to an element or a list of elements. The function\n     * returns a callback, which can be called to remove all the listener.\n     *\n     * @param selector\n     *   Selector for the element(s) or a list of elements.\n     * @param events\n     *   One or more events to add listener for (separated by space).\n     * @param handlerFactory\n     *   A factory function that creates a handler callback for the element.\n     *\n     * @returns a function that can be called to remove all the added listener from the elements for\n     *   the events.\n     *\n     * @example\n     * // without event\n     * const removeListeners = UFHtml.addListeners(\n     *   '.some-button',\n     *   'click touchstart',\n     *   (element) => () => {\n     *     // do something with element\n     *   }\n     * );\n     *\n     * @example\n     * // with event\n     * const removeListeners = UFHtml.addListeners(\n     *   '.some-button',\n     *   'click touchstart',\n     *   (element) => (event) => {\n     *     // do something with element and event\n     *   }\n     * );\n     */\n    static addListeners(selector, events, handlerFactory) {\n        const elements = typeof selector === 'string'\n            ? document.querySelectorAll(selector)\n            : selector;\n        const callbacks = [];\n        elements.forEach(element => callbacks.push(UFHtml.addListener(element, events, handlerFactory(element))));\n        return () => callbacks.forEach(callback => callback());\n    }\n    /**\n     * Gets the value of an attribute.\n     *\n     * @param element\n     *   Element to get attribute from\n     * @param name\n     *   Name of attribute\n     * @param defaultValue\n     *   Default value to return if no value could be determined (default = '')\n     *\n     * @returns the value of the attribute or `aDefault` if there is no value.\n     */\n    static getAttribute(element, name, defaultValue = '') {\n        return element.attributes.getNamedItem(name)?.value ?? defaultValue;\n    }\n    /**\n     * Checks if an element has an attribute.\n     *\n     * @param element\n     *   Element to check attribute for\n     * @param name\n     *   Name of attribute\n     *\n     * @returns `true` if the element has the attribute, `false` if not.\n     */\n    static hasAttribute(element, name) {\n        return element.attributes.getNamedItem(name) != null;\n    }\n    /**\n     * Gets an element for a selector. If the selector is an element, it just returns the element.\n     *\n     * If the selector is a string, it will try to find the element in the document or container.\n     *\n     * If no element can be found or the selector is a null value, the method will throw an error.\n     *\n     * @param selector\n     *   Element, selector text or null\n     * @param container\n     *   Container to search the element in; if not set, the document is used.\n     *\n     * @returns found element\n     *\n     * @throws Error if no element can be found\n     */\n    static get(selector, container) {\n        const element = typeof (selector) === 'string'\n            ? (container || document).querySelector(selector)\n            : selector;\n        if (element == null) {\n            throw new Error(`Can not find element for ${selector}`);\n        }\n        return element;\n    }\n    /**\n     * Gets an element for a dom ID and typecast it to a certain type.\n     *\n     * If no element can be found, the method will throw an error.\n     *\n     * @param id\n     *   The dom id of element\n     *\n     * @returns found element\n     *\n     * @throws Error if no element can be found\n     */\n    static getForId(id) {\n        const element = document.getElementById(id);\n        if (element == null) {\n            throw new Error(`Can not find element for ${id}`);\n        }\n        return element;\n    }\n    /**\n     * Fades in an element by setting the styles opacity and transition.\n     *\n     * @param element\n     *   Element to fade in\n     * @param duration\n     *   Duration in millisecond for the fade in transition (default = 400)\n     */\n    static fadeIn(element, duration = 400) {\n        element.style.opacity = '0';\n        element.style.transition = `opacity ${duration}ms`;\n        setTimeout(() => element.style.opacity = '1', 0);\n    }\n    /**\n     * Fades out an element by setting the styles opacity and transition.\n     *\n     * @param element\n     *   Element to fade out\n     * @param duration\n     *   Duration in millisecond for the fade in transition (default = 400)\n     */\n    static fadeOut(element, duration = 400) {\n        element.style.opacity = '1';\n        element.style.transition = `opacity ${duration}ms`;\n        setTimeout(() => element.style.opacity = '0', 0);\n    }\n    /**\n     * Creates an element by parsing a piece of html.\n     *\n     * @param html\n     *   Html to parse\n     *\n     * @returns created element; the element is removed from the document before it is returned.\n     */\n    static createAs(html) {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(html, 'text/html');\n        const result = doc.body.firstChild;\n        result.remove();\n        return result;\n    }\n    /**\n     * Removes all child elements from an element.\n     *\n     * @param element\n     *   Element to remove all children of.\n     */\n    static empty(element) {\n        while (element.firstChild) {\n            element.removeChild(element.firstChild);\n        }\n    }\n    /**\n     * Gets the first parent element of the element that matches the selector.\n     *\n     * @param element\n     *   Element to get the parent (or grandparent or great-grandparent) of\n     * @param selector\n     *  Selector to filter the parent with\n     *\n     * @returns the parent element that matches the selector or null if no parent could be found\n     *\n     * @deprecated Use built-in `Element.closest()` instead\n     */\n    static getFirstParent(element, selector) {\n        for (let parent = element.parentElement; parent; parent = parent.parentElement) {\n            if (parent.matches(selector)) {\n                return parent;\n            }\n        }\n        return null;\n    }\n    /**\n     * Gets all parents of an element.\n     *\n     * @param element\n     *   Element to get all parents for\n     * @param selector\n     *   Optional selector to filter the parents with\n     *\n     * @returns all parent elements of the element (parent, grandparent, great-grandparent, etc.)\n     */\n    static getParents(element, selector) {\n        const parents = [];\n        for (let parent = element.parentElement; parent; parent = parent.parentElement) {\n            if (!selector || parent.matches(selector)) {\n                parents.push(parent);\n            }\n        }\n        return parents;\n    }\n    /**\n     * Shows a element by updating the `display` style property.\n     *\n     * @param element\n     *   Element to show\n     * @param display\n     *   When set use this value, else use the initial value which was copied with {@link hide}. If\n     *   there is no initial value, use 'block'.\n     */\n    static show(element, display) {\n        element.style.display = display ??\n            UFObject.getAttachedAs(element, DisplayBackupProperty, () => 'block');\n    }\n    /**\n     * Hides an element by updating the `display` style property. The current value is stored in the\n     * element and is used by {@link show}. Then the value 'none' is assigned to `display` style.\n     *\n     * @param element\n     *   Element to hide\n     */\n    static hide(element) {\n        UFObject.getAttachedAs(element, DisplayBackupProperty, () => element.style.display);\n        element.style.display = 'none';\n    }\n    /**\n     * Copies one or more attribute values to elements. Depending on the type of the element the value\n     * gets handled as follows:\n     * - `input`:  the `checked` or `value` property is set (depending on the `type`).\n     * - `textarea`:  the `value` property is set.\n     * - `select`: the `value` property is set.\n     * - `img`: the `src` property is set.\n     * - any other element: the inner text of the element is set.\n     *\n     * @param element\n     *   Element to get the attributes from\n     * @param map\n     *   The field names are used as attribute names and the values are used as selectors for the\n     *   target elements. If the selector points to multiple elements, each element will get the\n     *   attribute value.\n     * @param container\n     *   Container to search the target elements in; if not set, the `document` is used.\n     */\n    static copyAttributes(element, map, container) {\n        const targetContainer = container || document;\n        for (const key in map) {\n            const data = element.getAttribute(key);\n            if (data === null) {\n                continue;\n            }\n            const targets = targetContainer.querySelectorAll(map[key]);\n            if (!targets) {\n                continue;\n            }\n            targets.forEach(target => {\n                if (this.assignValue(target, data)) {\n                    return;\n                }\n                if (target instanceof HTMLImageElement) {\n                    target.src = data;\n                }\n                else if (target instanceof HTMLElement) {\n                    target.innerText = data;\n                }\n            });\n        }\n    }\n    /**\n     * Gets all attribute names of an element.\n     *\n     * @param element\n     *   Element to get the attribute names from\n     *\n     * @returns all the names of attributes defined at the element\n     */\n    static getAttributeNames(element) {\n        const result = [];\n        for (let index = 0; index < element.attributes.length; index++) {\n            const attribute = element.attributes[index];\n            result.push(attribute.name);\n        }\n        return result;\n    }\n    /**\n     * Builds a map of data attributes from the element. The method will skip data attributes that\n     * start with 'data-uf-'.\n     *\n     * The result can be used with {@link UFHtml.copyAttributes}.\n     *\n     * @param element\n     *   Element to get data attributes from.\n     *\n     * @returns an object where the keys are the attribute names and the values are the attribute\n     *   enclosed by square brackets.\n     *\n     * @example\n     * // <button id=\"foobar\" data-foo data-bar></button>\n     * const element = document.getElementById('foobar');\n     * const map = UFHtml.buildDataAttributesMap(element);\n     * // map is { 'data-foo': '[data-foo]', 'data-bar': '[data-bar]' }\n     */\n    static buildDataAttributesMap(element) {\n        const map = {};\n        for (let index = 0; index < element.attributes.length; index++) {\n            const name = element.attributes[index].name;\n            if (name.startsWith('data-uf-')) {\n                continue;\n            }\n            if (name.startsWith('data-')) {\n                map[name] = `[${name}]`;\n            }\n        }\n        return map;\n    }\n    /**\n     * Reloads the current page. It removes the current page from the history and then reloads the\n     * page. Any post data is no longer used and the page with the post data is no longer in the\n     * history.\n     *\n     * Source: https://stackoverflow.com/a/570069/968451\n     */\n    static reload() {\n        if (window.history.replaceState) {\n            window.history.replaceState(null, '', window.location.href);\n        }\n        // noinspection SillyAssignmentJS\n        window.location.href = window.location.href;\n    }\n    /**\n     * Assigns a value to a form field element and triggers the `\"input\"` and `\"change\"` events.\n     *\n     * With checkbox/radio elements the following values will set the checked state to true:\n     * 'true', '1', 'checked'. Any other value will set the checked state to false.\n     *\n     * If the element is not a form field element, nothing happens.\n     *\n     * @param element\n     *   Element to assign to\n     * @param value\n     *   Value to assign\n     *\n     * @returns `true` if the value could be assigned, `false` if the element is not a form field.\n     */\n    static assignValue(element, value) {\n        if (element instanceof HTMLInputElement) {\n            if ((element.type === 'checkbox') || (element.type === 'radio')) {\n                element.checked = (value === 'true') || (value === '1') || (value === 'checked');\n            }\n            else {\n                element.value = value;\n                element.dispatchEvent(new InputEvent('input'));\n            }\n        }\n        else if (element instanceof HTMLTextAreaElement) {\n            element.value = value;\n            element.dispatchEvent(new InputEvent('input'));\n        }\n        else if (element instanceof HTMLSelectElement) {\n            element.value = value;\n        }\n        else {\n            return false;\n        }\n        element.dispatchEvent(new Event('change'));\n        return true;\n    }\n    /**\n     * Checks if an element is visible, that it is not hidden by some styling and the element has\n     * some size.\n     *\n     * @param element\n     *   Element to check\n     * @param checkParent\n     *   True to check the parents of the element as well, false to only check the element itself.\n     *\n     * @returns `true` if the element is visible, `false` if not. Note that if only element itself\n     *   is checked, it does not take into account of any parent is not visible.\n     */\n    static isVisible(element, checkParent = true) {\n        const style = window.getComputedStyle(element);\n        // hidden via styling\n        if ((style.display === 'none') || (style.visibility === 'hidden') || (style.opacity === '0')) {\n            return false;\n        }\n        // element has no dimensions\n        if ((element.offsetWidth === 0) && (element.offsetHeight === 0)) {\n            return false;\n        }\n        // check parents\n        if (checkParent && element.parentElement) {\n            return this.isVisible(element.parentElement);\n        }\n        return true;\n    }\n    /**\n     * Gets an element for an attribute.\n     *\n     * If no element can be found the method will throw an error.\n     *\n     * @param name\n     *   Attribute name\n     * @param value\n     *   Attribute value or use `null` to ignore value\n     * @param container\n     *   Container to search the element in; if not set, the document is used.\n     *\n     * @returns found element\n     *\n     * @throws Error if no element can be found\n     */\n    static getForAttribute(name, value = null, container) {\n        let attribute = name;\n        if (value !== null) {\n            attribute += `=\"${value}\"`;\n        }\n        const element = (container || document).querySelector(`[${attribute}]`);\n        if (element == null) {\n            throw new Error(`Can not find element for attribute ${attribute}`);\n        }\n        return element;\n    }\n    /**\n     * Tries to find an element for an attribute.\n     *\n     * @param name\n     *   Attribute name\n     * @param value\n     *   Attribute value or use `null` to ignore value\n     * @param container\n     *   Container to search the element in; if not set, the document is used.\n     *\n     * @returns found element or `null` if no element could be found\n     */\n    static findForAttribute(name, value = null, container) {\n        let attribute = name;\n        if (value !== null) {\n            attribute += `=\"${value}\"`;\n        }\n        return (container || document).querySelector(`[${attribute}]`);\n    }\n    /**\n     * Gets all elements for an attribute.\n     *\n     * @param name\n     *   Attribute name\n     * @param value\n     *   Attribute value or use `null` to ignore value\n     * @param container\n     *   Container to search the element in; if not set, the document is used.\n     *\n     * @returns found elements\n     */\n    static findAllForAttribute(name, value = null, container) {\n        let attribute = name;\n        if (value !== null) {\n            attribute += `=\"${value}\"`;\n        }\n        return (container || document).querySelectorAll(`[${attribute}]`);\n    }\n    /**\n     * Inserts an element after another element.\n     *\n     * @param parent\n     *   Parent to insert the element in\n     * @param newElement\n     *   Element to insert\n     * @param referenceElement\n     *   Element to insert the new element after\n     */\n    static insertAfter(parent, newElement, referenceElement) {\n        if (referenceElement.nextElementSibling) {\n            parent.insertBefore(newElement, referenceElement.nextElementSibling);\n        }\n        else {\n            // there is no next sibling, so the reference element is the last child; so just append\n            // the new element which should place it after the reference element.\n            parent.appendChild(newElement);\n        }\n    }\n}\n// endregion\n// region private vars\n/**\n * Maps certain characters to their entity or special html tag or empty string if it has no use in html\n */\nUFHtml.s_escapeHtmlMap = new Map([\n    ['&', '&amp;'],\n    ['<', '&lt;'],\n    ['>', '&gt;'],\n    ['\"', '&quot;'],\n    [\"'\", '&#039;'],\n    ['\\n', '<br/>'],\n    ['\\t', ''],\n    ['\\r', '']\n]);\n// endregion\n//# sourceMappingURL=UFHtml.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { UFBrowser } from \"../tools/UFBrowser.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\n// endregion\n// region private types\n/**\n * The states a floater can be in.\n */\nvar FloaterState;\n(function (FloaterState) {\n    FloaterState[\"Showing\"] = \"showing\";\n    FloaterState[\"Visible\"] = \"visible\";\n    FloaterState[\"Hiding\"] = \"hiding\";\n    FloaterState[\"Hidden\"] = \"hidden\";\n})(FloaterState || (FloaterState = {}));\n/**\n * Data attribute names used by this class.\n */\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"floater\"] = \"data-uf-floater\";\n})(DataAttribute || (DataAttribute = {}));\n/**\n * Position of floater relative to element.\n */\nexport var UFFloaterElementPosition;\n(function (UFFloaterElementPosition) {\n    /**\n     * The floater is positioned adjacent to the element. Either the end of the floater is placed\n     * at the start of the element or the start of the floater is placed at the end of the element.\n     * The floater position value is not used. The element position is added or subtracted to the\n     * floater position (depending on the side) to get the final position.\n     * It can be used to partially overlap the floater with the element\n     * or create a space between the floater and the element.\n     */\n    UFFloaterElementPosition[\"Adjacent\"] = \"adjacent\";\n    /**\n     * The floater is placed in such a way that it overlaps with the element. Either the start of\n     * the floater is set to the start of the element or the end of the floater is set to the end of\n     * the element.\n     * The floater position value is not used. The element position is added to the floater position\n     * to get the final position. It can be used to partially overlap the floater with the element.\n     */\n    UFFloaterElementPosition[\"Overlap\"] = \"overlap\";\n    /**\n     * Both the floater position and element position are interpreted as relative position of an\n     * anchor location. Their values should between 0.0 and 1.0. The floater will be positioned in\n     * such a manner that the relative anchor position in the floater is at the relative anchor\n     * location in the element. For example if both floater and element position are 0.5, the floater\n     * will be placed centered at the center of the element.\n     */\n    UFFloaterElementPosition[\"Relative\"] = \"relative\";\n})(UFFloaterElementPosition || (UFFloaterElementPosition = {}));\n/**\n * How to show the floater.\n */\nexport var UFFloaterAutoShow;\n(function (UFFloaterAutoShow) {\n    /**\n     * The floater is not shown automatically.\n     */\n    UFFloaterAutoShow[\"None\"] = \"none\";\n    /**\n     * Show the floater if the user clicks on the element.\n     */\n    UFFloaterAutoShow[\"Show\"] = \"show\";\n    /**\n     * Show or hide the floater if the user clicks on the element.\n     */\n    UFFloaterAutoShow[\"Toggle\"] = \"toggle\";\n})(UFFloaterAutoShow || (UFFloaterAutoShow = {}));\n/**\n * How to hide the floater.\n */\nexport var UFFloaterAutoHide;\n(function (UFFloaterAutoHide) {\n    /**\n     * The floater is not hidden automatically.\n     */\n    UFFloaterAutoHide[\"None\"] = \"none\";\n    /**\n     * Hide the floater if the user clicks somewhere.\n     */\n    UFFloaterAutoHide[\"Always\"] = \"always\";\n    /**\n     * Hide the floater if the user click is outside this floater and any other floater using the\n     * same element as this floater.\n     */\n    UFFloaterAutoHide[\"Tree\"] = \"tree\";\n    /**\n     * Hide the floater if the user clicks outside the floater.\n     */\n    UFFloaterAutoHide[\"Outside\"] = \"outside\";\n})(UFFloaterAutoHide || (UFFloaterAutoHide = {}));\n/**\n * Transition animation to use.\n */\nexport var UFFloaterTransition;\n(function (UFFloaterTransition) {\n    UFFloaterTransition[\"None\"] = \"none\";\n    UFFloaterTransition[\"Fade\"] = \"fade\";\n    UFFloaterTransition[\"SlideVertical\"] = \"slide-vertical\";\n    UFFloaterTransition[\"SlideHorizontal\"] = \"slide-horizontal\";\n    UFFloaterTransition[\"Custom\"] = \"custom\";\n})(UFFloaterTransition || (UFFloaterTransition = {}));\n/**\n * {@link UFFloater} is a class to show a floating element shown on top of the DOM.\n *\n * The class can be used to show a floater somewhere in the browser or relative to a certain\n * element.\n *\n * The class uses the css class 'uf-floater', make sure no css class style exists with that name.\n */\nexport class UFFloater {\n    // endregion\n    // region constructor\n    /**\n     * Constructs an instance of {@link UFFloater}. Note that the dimensional properties are not set\n     * immediately. The floater is added to the DOM to get the dimensions and then removed again.\n     *\n     * @param anOptions\n     *   Options to use for the floater\n     */\n    constructor(anOptions = {}) {\n        /**\n         * Options to use.\n         *\n         * @private\n         */\n        this.m_options = {\n            screenX: 0.5,\n            screenY: 0.5,\n            element: null,\n            positionX: UFFloaterElementPosition.Adjacent,\n            positionY: UFFloaterElementPosition.Overlap,\n            floaterX: 0,\n            floaterY: 0,\n            elementX: 0,\n            elementY: 0,\n            width: null,\n            height: null,\n            autoShow: UFFloaterAutoShow.Toggle,\n            autoHide: UFFloaterAutoHide.Outside,\n            transition: UFFloaterTransition.None,\n            inBounds: false,\n            content: '',\n            onInitialized: null,\n            onShown: null,\n            onHidden: null,\n            customShow: null,\n            customHide: null,\n            canHide: null\n        };\n        /**\n         * Element to float.\n         *\n         * @private\n         */\n        this.m_floaterElement = UFHtml.createAs(`<div style=\"overflow: hidden; position: absolute; left: 0; top: 0; pointer-events: all; z-index: 99999; visibility: hidden; width: max-content; height: max-content\" ${DataAttribute.floater}=\"1\"></div>`);\n        /**\n         * Element that contains the content and is placed within the floater element.\n         *\n         * @private\n         */\n        this.m_contentElement = UFHtml.createAs(`<div style=\"position: relative; left: 0; top: 0; width: max-content; height: max-content\"></div>`);\n        /**\n         * Element(s) to position the floater to.\n         *\n         * @private\n         */\n        this.m_elements = null;\n        /**\n         * Current element the floater is positioned to.\n         *\n         * @private\n         */\n        this.m_selectedElement = null;\n        /**\n         * Element to move floater to after it is hidden.\n         *\n         * @private\n         */\n        this.m_nextElement = null;\n        /**\n         * Current state of floater.\n         */\n        this.m_state = FloaterState.Hidden;\n        /**\n         * Width of floater\n         *\n         * @type {number}\n         */\n        this.m_floaterWidth = 0;\n        /**\n         * Height of floater\n         */\n        this.m_floaterHeight = 0;\n        /**\n         * Width of content\n         */\n        this.m_contentWidth = 0;\n        /**\n         * Height of content\n         */\n        this.m_contentHeight = 0;\n        /**\n         * When false, ignore clicks\n         *\n         * @private\n         */\n        this.m_enabled = true;\n        /**\n         * Callbacks to remove global listeners.\n         *\n         * @private\n         */\n        this.m_removeListeners = [];\n        /**\n         * Callback to remove element related listeners.\n         *\n         * @private\n         */\n        this.m_removeElementListeners = [];\n        /**\n         * Timer to handle end of a transition.\n         *\n         * @private\n         */\n        this.m_transitionTimer = null;\n        // updates options\n        this.m_options = Object.assign(this.m_options, anOptions);\n        // initial floater has hidden visibility\n        this.m_contentElement.append(this.m_options.content);\n        this.m_floaterElement.append(this.m_contentElement);\n        // store initially in body so it can be processed\n        document.body.append(this.m_floaterElement);\n        // use time out so element gets processed by browser before the class can get the dimensions\n        setTimeout(() => {\n            this.copyDimensions();\n            // for now remove floater from DOM\n            this.m_floaterElement.remove();\n            this.hideFloaterElement();\n            this.m_removeListeners.push(UFHtml.addListener(document, 'mouseup touchend touchcancel', (event) => this.handleDocumentUp(event)), UFHtml.addListener(window, 'resize', () => this.handleWindowResize()));\n            if (this.m_options.onInitialized) {\n                this.m_options.onInitialized(this);\n            }\n        }, 1);\n        this.refreshElements();\n    }\n    // endregion\n    // region public methods\n    /**\n     * Destroys the floater and removes all listeners.\n     */\n    destroy() {\n        this.destroyElements();\n        this.removeListeners();\n        this.removeElementListeners();\n        this.m_floaterElement.remove();\n    }\n    /**\n     * Updates one or more options.\n     *\n     * @param {UFFloaterOptions} anOptions\n     *   New options to set\n     */\n    setOptions(anOptions) {\n        this.m_options = Object.assign(this.m_options, anOptions);\n        this.refreshElements();\n        this.refreshContent();\n    }\n    /**\n     * Tries to hide the floater. If the floater is hidden successful, it is removed from the DOM.\n     *\n     * @returns True if floater is hidden or busy hiding, false if\n     * {@link UFFloaterOptions.canHide} returned false.\n     */\n    hide() {\n        return this.hideFloater();\n    }\n    /**\n     * Shows the floater.\n     */\n    show() {\n        this.showFloater(null);\n    }\n    /**\n     * Sets new element(s) to position the floater to and then show the floater. It is a combination\n     * of {@link setOptions} and {@link show}\n     *\n     * @param anElement\n     *   Element(s) to position to\n     */\n    positionAndShow(anElement) {\n        this.setOptions({ element: anElement });\n        this.show();\n    }\n    /**\n     * Refreshes the position of the floater if it is visible.\n     */\n    updatePosition() {\n        if (this.visible) {\n            this.updateFloaterPosition();\n        }\n    }\n    /**\n     * Refreshes the contents and then refreshes the position if the float is visible.\n     */\n    refreshContent() {\n        if (this.visible) {\n            UFHtml.empty(this.m_contentElement);\n            this.m_contentElement.append(this.m_options.content);\n            setTimeout(() => {\n                this.copyDimensions();\n                this.updateFloaterPosition();\n            });\n        }\n    }\n    // endregion\n    // region public properties\n    /**\n     * Returns if the floater is visible.\n     *\n     * @returns True if the floater is part of the DOM and visible.\n     */\n    get visible() {\n        return this.m_state !== FloaterState.Hidden;\n    }\n    /**\n     * The current enabled state. When disabled the floater will ignore click events.\n     *\n     * @type {boolean}\n     */\n    get enabled() {\n        return this.m_enabled;\n    }\n    set enabled(aValue) {\n        this.m_enabled = aValue;\n    }\n    /**\n     * Width of the floater in pixels. This value is not immediately available, but becomes known\n     * after a few milliseconds.\n     */\n    get width() {\n        return this.m_options.width || this.m_floaterWidth;\n    }\n    /**\n     * Height of floater in pixels. This value is not immediately available, but becomes known\n     * after a few milliseconds.\n     */\n    get height() {\n        return this.m_options.height || this.m_floaterHeight;\n    }\n    /**\n     * Width of content in pixels. This value is not immediately available, but becomes known\n     * after a few milliseconds. The value is 0 if the content is a string.\n     */\n    get contentWidth() {\n        return this.m_contentWidth;\n    }\n    /**\n     * Height of content in pixels. This value is not immediately available, but becomes known\n     * after a few milliseconds. The value is 0 if the content is a string.\n     */\n    get contentHeight() {\n        return this.m_contentHeight;\n    }\n    // endregion\n    // region private functions\n    /**\n     * Removes all global listeners.\n     *\n     * @private\n     */\n    removeListeners() {\n        this.m_removeListeners.forEach((callback) => callback());\n        this.m_removeListeners.length = 0;\n    }\n    /**\n     * Removes all element related listeners.\n     *\n     * @private\n     */\n    removeElementListeners() {\n        console.debug('removeElementListeners');\n        this.m_removeElementListeners.forEach((callback) => callback());\n        this.m_removeElementListeners.length = 0;\n    }\n    /**\n     * Adds listeners for an element. This might also include elements related to the element.\n     *\n     * @param anElement\n     *\n     * @private\n     */\n    addElementListeners(anElement) {\n        const parents = UFHtml.getParents(anElement);\n        parents.forEach(parent => this.m_removeElementListeners.push(UFHtml.addListener(parent, 'scroll', () => this.handleScrolling())));\n        this.m_removeElementListeners.push(UFHtml.addListener(window, 'scroll', () => this.handleScrolling()));\n    }\n    /**\n     * Shows a floater using a build in transition.\n     *\n     * @private\n     */\n    showFloaterElementWithTransition() {\n        if ((this.m_options.transition === UFFloaterTransition.Custom) && this.m_options.customShow) {\n            this.m_options.customShow(this.m_floaterElement, () => this.handleShowDone());\n            return;\n        }\n        switch (this.m_options.transition) {\n            case UFFloaterTransition.Fade:\n                this.showFloaterElementFade();\n                break;\n            case UFFloaterTransition.SlideVertical:\n                this.showFloaterElementVerticalSlide();\n                break;\n            case UFFloaterTransition.SlideHorizontal:\n                this.showFloaterElementHorizontalSlide();\n                break;\n            default:\n                this.showFloaterElementImmediately();\n                break;\n        }\n    }\n    /**\n     * Hides a floater using a build in transition.\n     *\n     * @private\n     */\n    hideFloaterElementWithTransition() {\n        if ((this.m_options.transition === UFFloaterTransition.Custom) && this.m_options.customHide) {\n            this.m_options.customHide(this.m_floaterElement, () => this.handleHideDone());\n            return;\n        }\n        switch (this.m_options.transition) {\n            case UFFloaterTransition.Fade:\n                this.hideFloaterElementFade();\n                break;\n            case UFFloaterTransition.SlideVertical:\n                this.hideFloaterElementVerticalSlide();\n                break;\n            case UFFloaterTransition.SlideHorizontal:\n                this.hideFloaterElementHorizontalSlide();\n                break;\n            default:\n                this.hideFloaterElementImmediately();\n                break;\n        }\n    }\n    /**\n     * Shows the floater without any show transition.\n     *\n     * @private\n     */\n    showFloaterElementImmediately() {\n        this.showFloaterElement();\n        setTimeout(() => this.handleShowDone());\n    }\n    /**\n     * Hides the floater without any show transition.\n     *\n     * @private\n     */\n    hideFloaterElementImmediately() {\n        this.hideFloaterElement();\n        setTimeout(() => this.handleHideDone());\n    }\n    /**\n     * Shows the floater with a fade transition.\n     *\n     * @private\n     */\n    showFloaterElementFade() {\n        this.showFloaterElement();\n        this.m_floaterElement.style.transition = '';\n        this.m_floaterElement.style.opacity = '0';\n        setTimeout(() => {\n            this.m_floaterElement.style.transition = 'opacity 0.15s';\n            this.m_floaterElement.style.opacity = '1';\n        }, 10);\n        this.m_transitionTimer = setTimeout(() => {\n            this.handleShowDone();\n        }, 160);\n    }\n    /**\n     * Hides the floater with a fade transition.\n     *\n     * @private\n     */\n    hideFloaterElementFade() {\n        this.m_floaterElement.style.transition = '';\n        this.m_floaterElement.style.opacity = '1';\n        this.m_floaterElement.style.transition = 'opacity 0.15s';\n        this.m_floaterElement.style.opacity = '0';\n        this.m_transitionTimer = setTimeout(() => {\n            this.hideFloaterElement();\n            this.handleHideDone();\n        }, 150);\n    }\n    /**\n     * Shows the floater with a vertical slide (from top to bottom).\n     *\n     * @private\n     */\n    showFloaterElementVerticalSlide() {\n        this.showFloaterElement();\n        this.m_contentElement.style.transition = '';\n        this.m_contentElement.style.translate = '0 -100%';\n        setTimeout(() => {\n            this.m_contentElement.style.transition = 'translate 0.15s';\n            this.m_contentElement.style.translate = '0 0';\n        }, 10);\n        this.m_transitionTimer = setTimeout(() => {\n            this.handleShowDone();\n        }, 160);\n    }\n    /**\n     * Hides the floater with a vertical slide (from bottom to top).\n     *\n     * @private\n     */\n    hideFloaterElementVerticalSlide() {\n        this.showFloaterElement();\n        this.m_contentElement.style.transition = '';\n        this.m_contentElement.style.translate = '0 0';\n        this.m_contentElement.style.transition = 'translate 0.15s';\n        this.m_contentElement.style.translate = '0 -100%';\n        this.m_transitionTimer = setTimeout(() => {\n            this.handleHideDone();\n        }, 150);\n    }\n    /**\n     * Shows the floater with a horizontal slide (from left to right).\n     *\n     * @private\n     */\n    showFloaterElementHorizontalSlide() {\n        this.showFloaterElement();\n        this.m_contentElement.style.transition = '';\n        this.m_contentElement.style.translate = '-100% 0';\n        setTimeout(() => {\n            this.m_contentElement.style.transition = 'translate 0.15s';\n            this.m_contentElement.style.translate = '0 0';\n        }, 10);\n        this.m_transitionTimer = setTimeout(() => {\n            this.handleShowDone();\n        }, 160);\n    }\n    /**\n     * Hides the floater with a horizontal slide (from right to left).\n     *\n     * @private\n     */\n    hideFloaterElementHorizontalSlide() {\n        this.showFloaterElement();\n        this.m_contentElement.style.transition = '';\n        this.m_contentElement.style.translate = '0 0';\n        this.m_contentElement.style.transition = 'translate 0.15s';\n        this.m_contentElement.style.translate = '-100% 0';\n        this.m_transitionTimer = setTimeout(() => {\n            this.handleHideDone();\n        }, 150);\n    }\n    /**\n     * Hides the floater element.\n     *\n     * @private\n     */\n    hideFloaterElement() {\n        this.m_floaterElement.style.display = 'none';\n    }\n    /**\n     * Shows the floater element.\n     *\n     * @private\n     */\n    showFloaterElement() {\n        this.m_floaterElement.style.display = 'block';\n    }\n    /**\n     * Updates the position of the floater.\n     */\n    updateFloaterPosition() {\n        if (this.m_selectedElement) {\n            this.updatePositionForElement();\n        }\n        else {\n            this.updatePositionInDocument();\n        }\n    }\n    /**\n     * Updates the position of the floater element relative to an element.\n     */\n    updatePositionForElement() {\n        const rect = this.m_selectedElement.getBoundingClientRect();\n        const floaterWidth = this.m_options.width || this.m_floaterWidth;\n        const floaterHeight = this.m_options.height || this.m_floaterHeight;\n        const documentWidth = document.documentElement.clientWidth;\n        const documentHeight = document.documentElement.clientHeight;\n        let left = this.getFloaterPosition(this.m_options.positionX, documentWidth, rect.left, rect.width, this.m_options.elementX, floaterWidth, this.m_options.floaterX);\n        let top = this.getFloaterPosition(this.m_options.positionY, documentHeight, rect.top, rect.height, this.m_options.elementY, floaterHeight, this.m_options.floaterY);\n        if (this.m_options.inBounds) {\n            left = Math.max(0, Math.min(documentWidth - floaterWidth, left));\n            top = Math.max(0, Math.min(documentHeight - floaterHeight, top));\n        }\n        this.m_floaterElement.style.left = `${left}px`;\n        this.m_floaterElement.style.top = `${top}px`;\n        if (this.m_options.width) {\n            this.m_floaterElement.style.width = `${this.m_options.width}px`;\n        }\n        if (this.m_options.height) {\n            this.m_floaterElement.style.height = `${this.m_options.height}px`;\n        }\n    }\n    /**\n     * Get the position of the floater relative to an element.\n     *\n     * @param aPosition\n     * @param aDocumentSize\n     * @param anElementDocumentPosition\n     * @param anElementSize\n     * @param anElementOptionPosition\n     * @param aFloaterSize\n     * @param aFloaterOptionPosition\n     *\n     * @private\n     */\n    getFloaterPosition(aPosition, aDocumentSize, anElementDocumentPosition, anElementSize, anElementOptionPosition, aFloaterSize, aFloaterOptionPosition) {\n        switch (aPosition) {\n            case UFFloaterElementPosition.Overlap:\n                return (anElementDocumentPosition + aFloaterSize >= aDocumentSize - 10)\n                    ? anElementSize + anElementDocumentPosition - aFloaterSize - anElementOptionPosition\n                    : anElementDocumentPosition + anElementOptionPosition;\n            case UFFloaterElementPosition.Adjacent:\n                return (anElementDocumentPosition + anElementSize + aFloaterSize >= aDocumentSize - 10)\n                    ? anElementDocumentPosition - aFloaterSize - anElementOptionPosition\n                    : anElementDocumentPosition + anElementSize + anElementOptionPosition;\n            default:\n                return anElementDocumentPosition + anElementSize * anElementOptionPosition\n                    - aFloaterSize * aFloaterOptionPosition;\n        }\n    }\n    /**\n     * Updates the position of the element within the document.\n     */\n    updatePositionInDocument() {\n        const floaterWidth = this.m_options.width || this.m_floaterElement.offsetWidth;\n        const floaterHeight = this.m_options.height || this.m_floaterElement.offsetHeight;\n        const documentWidth = document.documentElement.clientWidth;\n        const documentHeight = document.documentElement.clientHeight;\n        this.m_floaterElement.style.left = typeof this.m_options.screenX === 'number'\n            ? ((documentWidth - floaterWidth) * this.m_options.screenX) + 'px'\n            : this.m_options.screenX;\n        this.m_floaterElement.style.top = typeof this.m_options.screenY === 'number'\n            ? ((documentHeight - floaterHeight) * this.m_options.screenY) + 'px'\n            : this.m_options.screenY;\n        if (this.m_options.width) {\n            this.m_floaterElement.style.width = `${this.m_options.width}px`;\n        }\n        if (this.m_options.height) {\n            this.m_floaterElement.style.height = `${this.m_options.height}px`;\n        }\n    }\n    /**\n     * This is called whenever element in options might have changed.\n     */\n    refreshElements() {\n        this.destroyElements();\n        if (this.m_options.element && (this.m_options.autoShow !== UFFloaterAutoShow.None)) {\n            this.m_elements = Array.isArray(this.m_options.element) ? this.m_options.element : [UFHtml.get(this.m_options.element)];\n        }\n    }\n    /**\n     * Removes any reference to the element(s) and removes all attached listeners.\n     *\n     * @private\n     */\n    destroyElements() {\n        if (this.m_elements) {\n            this.removeElementListeners();\n            this.m_elements = null;\n            if (this.m_floaterElement) {\n                UFFloater.s_floaterToElementMap.delete(this.m_floaterElement);\n            }\n        }\n    }\n    /**\n     * Copies the dimensions of the floater and content.\n     */\n    copyDimensions() {\n        this.m_floaterWidth = this.m_floaterElement.offsetWidth;\n        this.m_floaterHeight = this.m_floaterElement.offsetHeight;\n        if (this.m_options.content instanceof HTMLElement) {\n            this.m_contentWidth = this.m_options.content.offsetWidth;\n            this.m_contentHeight = this.m_options.content.offsetHeight;\n        }\n    }\n    /**\n     * Shows the floater.\n     */\n    showFloater(anElement) {\n        // exit if the floater is already visible\n        if ((this.m_state === FloaterState.Visible) || (this.m_state === FloaterState.Showing)) {\n            return;\n        }\n        this.stopTransitionTimer();\n        // set element as selected\n        if (anElement) {\n            this.addElementListeners(anElement);\n            this.m_selectedElement = anElement;\n            UFFloater.s_floaterToElementMap.set(this.m_floaterElement, anElement);\n        }\n        //this.#floater.empty().append(this.m_options.content);\n        this.m_floaterElement.style.visibility = 'hidden';\n        this.showFloaterElement();\n        // add container to body if it is not already there\n        if (UFFloater.s_container.parentElement == null) {\n            document.body.append(UFFloater.s_container);\n        }\n        UFFloater.s_container.append(this.m_floaterElement);\n        this.updateFloaterPosition();\n        this.m_floaterElement.style.visibility = 'visible';\n        this.hideFloaterElement();\n        this.m_state = FloaterState.Showing;\n        this.showFloaterElementWithTransition();\n    }\n    /**\n     * Moves the floater to a new element. It assumes the floater is visible.\n     *\n     * @param anElement\n     *   Element to move to\n     */\n    moveFloater(anElement) {\n        // exit if the floater is already visible\n        if ((this.m_state === FloaterState.Visible) || (this.m_state === FloaterState.Showing)) {\n            this.m_nextElement = anElement;\n            this.hideFloater();\n        }\n        else {\n            this.showFloater(anElement);\n        }\n    }\n    /**\n     * Closes the floater if it can be closed.\n     *\n     * @param anEvent\n     *   Event that resulted in call to hide or null if the action was triggered via a direct call\n     *\n     * @returns True if floater is hidden or busy hiding, false if floater could not be closed.\n     */\n    hideFloater(anEvent = null) {\n        // exit if already busy hiding\n        if ((this.m_state === FloaterState.Hidden) || (this.m_state === FloaterState.Hiding)) {\n            return true;\n        }\n        if (!this.m_options.canHide || this.m_options.canHide(anEvent)) {\n            this.stopTransitionTimer();\n            this.m_state = FloaterState.Hiding;\n            // use timeout, so other event listeners can also react to up/click events before floater\n            // is hidden\n            setTimeout(() => this.hideFloaterElementWithTransition());\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Checks if this floater is related to a certain element.\n     *\n     * @param anElement\n     *   Element to check\n     *\n     * @returns True if the element is part of a floater / element chain going back to this floater.\n     */\n    isRelated(anElement) {\n        while (true) {\n            // gets all parent elements that are a floater\n            const floaters = UFHtml.getParents(anElement, `[${DataAttribute.floater}]`);\n            // exit if element is not contained within a floater\n            if (floaters.length === 0) {\n                return false;\n            }\n            // get first parent, normally there should only be one floater element\n            const floater = floaters[0];\n            // this should never fail, just to be sure\n            if (!UFFloater.s_floaterToElementMap.has(floater)) {\n                return false;\n            }\n            if (floater === this.m_floaterElement) {\n                return true;\n            }\n            anElement = UFFloater.s_floaterToElementMap.get(floater);\n        }\n    }\n    /**\n     * Tries to find the element that was clicked.\n     *\n     * @param anEvent\n     *\n     * @returns the element or null if none could be found.\n     *\n     * @private\n     */\n    findClickedElement(anEvent) {\n        if (!this.m_elements) {\n            return null;\n        }\n        for (const element of this.m_elements) {\n            if (UFBrowser.isClicked(element, anEvent)) {\n                return element;\n            }\n        }\n        return null;\n    }\n    /**\n     * Stops the transition timer (if any).\n     *\n     * @private\n     */\n    stopTransitionTimer() {\n        if (this.m_transitionTimer) {\n            clearTimeout(this.m_transitionTimer);\n            this.m_transitionTimer = null;\n        }\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles end of show transition.\n     */\n    handleShowDone() {\n        this.m_state = FloaterState.Visible;\n        if (this.m_options.onShown) {\n            this.m_options.onShown();\n        }\n    }\n    /**\n     * Handles end of hide transition.\n     */\n    handleHideDone() {\n        // remove element from the DOM\n        this.m_floaterElement.remove();\n        // remove container from the DOM if there are no more floaters inside of it\n        if (!UFFloater.s_container.hasChildNodes()) {\n            UFFloater.s_container.remove();\n        }\n        this.m_state = FloaterState.Hidden;\n        if (this.m_options.onHidden) {\n            this.m_options.onHidden();\n        }\n        if (this.m_selectedElement) {\n            this.removeElementListeners();\n            this.m_selectedElement = null;\n            UFFloater.s_floaterToElementMap.delete(this.m_floaterElement);\n        }\n        if (this.m_nextElement) {\n            this.showFloater(this.m_nextElement);\n            this.m_nextElement = null;\n        }\n    }\n    /**\n     * Handles mouse up / touch end on the document.\n     *\n     * @param {jQuery.Event} anEvent\n     */\n    handleDocumentUp(anEvent) {\n        // ignore interactions while the floater is disabled\n        if (!this.m_enabled) {\n            return;\n        }\n        // first process an element that the floater can attach to (if any)\n        const element = this.findClickedElement(anEvent);\n        if (element) {\n            switch (this.m_state) {\n                case FloaterState.Hidden:\n                case FloaterState.Hiding:\n                    this.showFloater(element);\n                    return;\n                case FloaterState.Visible:\n                case FloaterState.Showing:\n                    if (element == this.m_selectedElement) {\n                        if (this.m_options.autoShow === UFFloaterAutoShow.Toggle) {\n                            this.hideFloater(anEvent);\n                        }\n                    }\n                    else {\n                        this.moveFloater(element);\n                    }\n                    return;\n            }\n        }\n        if (this.m_state !== FloaterState.Hidden) {\n            if (\n            // always hide if the floater is visible\n            (this.m_options.autoHide === UFFloaterAutoHide.Always) ||\n                // only hide if user clicked outside the floater and element\n                ((this.m_options.autoHide === UFFloaterAutoHide.Outside) &&\n                    !UFBrowser.isClicked(this.m_floaterElement, anEvent) &&\n                    !((this.m_selectedElement != null) && UFBrowser.isClicked(this.m_selectedElement, anEvent))) ||\n                // only hide if the user clicked outside all elements that are related to this floater\n                ((this.m_options.autoHide === UFFloaterAutoHide.Tree) &&\n                    !this.isRelated(anEvent.target))) {\n                this.hideFloater(anEvent);\n                return;\n            }\n        }\n    }\n    /**\n     * Handles window size changes.\n     */\n    handleWindowResize() {\n        if (this.m_state != FloaterState.Hidden) {\n            this.updateFloaterPosition();\n        }\n    }\n    /**\n     * Handles scrolling by one of the parent elements.\n     */\n    handleScrolling() {\n        if (this.m_state != FloaterState.Hidden) {\n            this.updateFloaterPosition();\n        }\n    }\n}\n// region private variables\n/**\n * Container is used to add the floaters to, to prevent the body showing a scroll bar when the\n * floater goes outside the screen.\n *\n * @private\n */\nUFFloater.s_container = UFHtml.createAs('<div style=\"position: fixed; top: 0; left: 0; pointer-events: none;\"></div>');\n/**\n * Maps a floater to the element that shows/hides it.\n *\n * @private\n */\nUFFloater.s_floaterToElementMap = new Map();\n// endregion\n//# sourceMappingURL=UFFloater.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { UFObject } from \"@ultraforce/ts-general-lib/dist/tools/UFObject.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\n// endregion\n// region types\n/**\n * Data attribute names used by this class.\n */\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"dataOver\"] = \"data-uf-over\";\n    DataAttribute[\"dataDisabled\"] = \"data-uf-disabled\";\n})(DataAttribute || (DataAttribute = {}));\n/**\n * Name of object attached to each image element.\n */\nconst ImageSourcesObject = 'ufImageSources';\n// endregion\n// region exports\n/**\n * {@link UFRollOverImage} can be used to update one or more images when the user mouse-overs an\n * element.\n *\n * It is also possible to specify a `UFModel` instance to track a boolean property of. When false\n * the class will show a disabled image and ignore mouse-over events.\n *\n * An <img> should define data-uf-over (and optionally data-uf-disabled) containing urls to images\n * for roll over and disabled state.\n *\n * @example\n * <img\n *   src=\"flag-normal.png\"\n *   data-uf-over=\"flag-over.png\"\n *   data-uf-disabled=\"flag-disabled.png\"\n *   ...\n * />\n */\nexport class UFRollOverImage {\n    // endregion\n    // region constructor\n    /**\n     * Constructs an instance of {@link UFRollOverImage}\n     *\n     * @param anElement\n     *   DOM element to check for roll over events. This can be an <img> or another\n     *   type. In the latter case the class will process all child image elements.\n     * @param anExtraImages\n     *   Array of additional images elements to update\n     * @param aData\n     *   An instance extending UFModel, when specified this class will update\n     *   the visual disabled state of all images. While disabled the mouse-over events\n     *   will not change the visual state.\n     * @param aPropertyName\n     *   The property name to track (if aData is not null). Default is 'enabled'.\n     */\n    constructor(anElement, anExtraImages = [], aData, aPropertyName = 'enabled') {\n        // region private variables\n        /**\n         * Array of image elements.\n         *\n         * @private\n         *\n         * @type {jQuery[]}\n         */\n        this.m_images = [];\n        /**\n         * UFModel instance to track a enabled property of.\n         *\n         * @private\n         *\n         * @type {UFModel}\n         */\n        this.m_data = null;\n        /**\n         * Name of property to check\n         *\n         * @private\n         */\n        this.m_propertyName = '';\n        /**\n         * Callbacks to call to remove the event listeners.\n         *\n         * @private\n         */\n        this.m_removeListeners = [];\n        /**\n         * Current disabled state.\n         *\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.m_disabled = false;\n        /**\n         * Current rollover state.\n         *\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.m_hover = false;\n        this.m_element = UFHtml.get(anElement);\n        this.m_data = aData ?? null;\n        if (this.m_data) {\n            this.m_propertyName = aPropertyName || 'enabled';\n            this.m_disabled = this.m_data.getPropertyValue(this.m_propertyName);\n            this.m_removeListeners.push(this.m_data.addPropertyChangeListener(this.m_propertyName, () => this.handleDataChange()));\n        }\n        // add element to images if it is an <img> itself, else process all/ child <img> elements.\n        if (this.m_element instanceof HTMLImageElement) {\n            this.m_images.push(this.m_element);\n        }\n        else {\n            this.m_element.querySelectorAll('img').forEach(element => this.checkImage(element));\n        }\n        anExtraImages.forEach(image => this.checkImage(UFHtml.get(image)));\n        this.updateImages();\n        this.m_removeListeners.push(UFHtml.addListener(this.m_element, 'mouseover', () => this.handleMouseOver()), UFHtml.addListener(this.m_element, 'mouseout', () => this.handleMouseOut()));\n    }\n    // endregion\n    // region public methods\n    /**\n     * Cleans up listeners and other resource usage.\n     */\n    destroy() {\n        this.m_removeListeners.forEach(callback => callback());\n        this.m_removeListeners.length = 0;\n        this.m_data = null;\n    }\n    // endregion\n    // region private functions\n    /**\n     * Updates all the images by setting the src attribute to normal, over or\n     * disabled.\n     *\n     * @private\n     */\n    updateImages() {\n        this.m_images.forEach((image) => {\n            const data = UFObject.getAttachedAs(image, ImageSourcesObject, () => this.createImageSources(image));\n            if (this.m_disabled) {\n                image.src = data.disabled;\n            }\n            else if (this.m_hover) {\n                image.src = data.hover;\n            }\n            else {\n                image.src = data.normal;\n            }\n        });\n    }\n    /**\n     * Checks if an image has attributes used by this class. If so store it.\n     *\n     * @private\n     *\n     * @param anImage\n     *   Image to check\n     */\n    checkImage(anImage) {\n        if (anImage.getAttribute(DataAttribute.dataOver)\n            || (this.m_data && anImage.getAttribute(DataAttribute.dataDisabled))) {\n            this.m_images.push(anImage);\n        }\n    }\n    /**\n     * Gets the image sources for the various states.\n     *\n     * @param anImage\n     *\n     * @private\n     */\n    createImageSources(anImage) {\n        return {\n            normal: anImage.src,\n            hover: anImage.getAttribute(DataAttribute.dataOver) ?? anImage.src,\n            disabled: anImage.getAttribute(DataAttribute.dataDisabled) ?? anImage.src,\n        };\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles rollover of element.\n     */\n    handleMouseOver() {\n        this.m_hover = true;\n        this.updateImages();\n    }\n    /**\n     * Handles roll out of element.\n     */\n    handleMouseOut() {\n        this.m_hover = false;\n        this.updateImages();\n    }\n    /**\n     * Handles changes to property\n     */\n    handleDataChange() {\n        this.m_disabled = !this.m_data?.getPropertyValue(this.m_propertyName);\n        this.updateImages();\n    }\n}\n// endregion\n//# sourceMappingURL=UFRollOverImage.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFObject } from \"@ultraforce/ts-general-lib/dist/tools/UFObject.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\n// endregion\n// region private types\n/**\n * States the video can be in.\n */\nvar VideoState;\n(function (VideoState) {\n    /**\n     * Idle state (nothing is happening)\n     */\n    VideoState[\"Idle\"] = \"Idle\";\n    /**\n     * Busy preloading (video is not ready to be played yet)\n     */\n    VideoState[\"Preloading\"] = \"Preloading\";\n    /**\n     * Video has preloaded and is paused.\n     */\n    VideoState[\"Preloaded\"] = \"Preloaded\";\n    /**\n     * Video is being loaded.\n     */\n    VideoState[\"Loading\"] = \"Loading\";\n    /**\n     * Video is playing (or has been paused while playing).\n     */\n    VideoState[\"Playing\"] = \"Playing\";\n    /**\n     * Video has been stopped.\n     */\n    VideoState[\"Stopped\"] = \"Stopped\";\n})(VideoState || (VideoState = {}));\n// endregion\n// region types\n/**\n * {@link UFVideo} encapsulates a single video. It offers a {@link preload} method to try to\n * preload the video, so it is ready when needed.\n *\n * Supports `window.UFDEBUG` constant to show debug information.\n */\nexport class UFVideo {\n    // endregion\n    // region constructor\n    /**\n     * Constructs an instance of {@link UFVideo}.\n     *\n     * @param anElement\n     *   Dom id of video element or jquery instance\n     * @param anUrl\n     *   Url to mp4 video\n     * @param aPosterUrl\n     *   Url to poster or null if there is none\n     * @param aShowOnPlay\n     *   True=show element when play is called, false=show element when video is ready to play\n     * @param aPlayingCallback\n     *   Callback to call when video started playing\n     * @param aStoppedCallback\n     *   Callback to call when video stopped playing\n     */\n    constructor(anElement, anUrl, aPosterUrl, aShowOnPlay, aPlayingCallback, aStoppedCallback) {\n        /**\n         * Callback to call at the end of the video.\n         */\n        this.m_doneCallback = null;\n        /**\n         * Callback to call when video is playing.\n         */\n        this.m_startCallback = null;\n        /**\n         * Current paused state.\n         */\n        this.m_paused = false;\n        /**\n         * Current state of the video object.\n         */\n        this.m_state = VideoState.Idle;\n        /**\n         * Display value to assign to show video element.\n         *\n         * @private\n         */\n        this.m_display = '';\n        /**\n         * Callbacks to call to remove the event listeners.\n         *\n         * @private\n         */\n        this.m_removeListeners = [];\n        this.m_debug = UFObject.getAs(window, 'UFDEBUG', false);\n        this.m_url = anUrl;\n        this.m_playingCallback = aPlayingCallback || null;\n        this.m_stoppedCallback = aStoppedCallback || null;\n        this.m_videoElement = UFHtml.get(anElement);\n        this.m_showOnPlay = aShowOnPlay || true;\n        this.m_videoElement.autoplay = false;\n        this.m_videoElement.preload = 'auto';\n        this.m_videoElement.src = anUrl;\n        this.m_videoElement.poster = aPosterUrl || '';\n        if (this.m_showOnPlay) {\n            this.m_display = this.m_videoElement.style.display;\n            this.hideVideo();\n        }\n        this.m_removeListeners.push(UFHtml.addListener(this.m_videoElement, 'ended', (event) => this.handleEnded(event)), UFHtml.addListener(this.m_videoElement, 'canplay canplaythrough load', (event) => this.handleCanPlay(event)));\n    }\n    // endregion\n    // region public methods\n    /**\n     * Cleans up used resources and removes listeners.\n     */\n    destroy() {\n        this.m_removeListeners.forEach((aCallback) => aCallback());\n        this.m_removeListeners.length = 0;\n    }\n    /**\n     * Plays and shows the video from the start.\n     *\n     * @param aLoop\n     *   True=loop the video (aDoneCallback is ignored)\n     * @param aStartCallback\n     *   To call when video has started playing\n     * @param aDoneCallback\n     *   To call when video has finished playing\n     */\n    play(aLoop, aStartCallback, aDoneCallback) {\n        //noinspection JSValidateTypes\n        this.m_videoElement.loop = aLoop;\n        this.m_doneCallback = aLoop ? null : aDoneCallback || null;\n        this.m_startCallback = aStartCallback || null;\n        switch (this.m_state) {\n            case VideoState.Idle:\n                this.setState(VideoState.Loading);\n                this.m_videoElement.play();\n                this.showVideo();\n                break;\n            case VideoState.Preloaded:\n            case VideoState.Playing:\n            case VideoState.Stopped:\n                this.setState(VideoState.Playing);\n                this.m_videoElement.currentTime = 0.1;\n                this.showVideo();\n                if (!this.m_paused) {\n                    this.m_videoElement.play();\n                }\n                this.triggerVideoStart();\n                break;\n            case VideoState.Preloading:\n                this.setState(VideoState.Loading);\n                this.showVideo();\n                break;\n        }\n    }\n    /**\n     * Tries to preload the video.\n     */\n    preload() {\n        switch (this.m_state) {\n            case VideoState.Idle:\n                this.performPreload();\n                break;\n            case VideoState.Loading:\n                // back to preloading\n                this.setState(VideoState.Preloading);\n                this.m_videoElement.play();\n                break;\n            case VideoState.Preloading:\n                // call play again (in case preload got called from mouse click / touch start)\n                this.m_videoElement.play();\n                break;\n            default:\n                this.setState(VideoState.Preloaded);\n                break;\n        }\n    }\n    /**\n     * Pauses the video.\n     */\n    pause() {\n        if (!this.m_paused) {\n            this.m_paused = true;\n            if (this.m_state === VideoState.Playing) {\n                this.m_videoElement.pause();\n            }\n        }\n    }\n    /**\n     * Resumes the video.\n     */\n    resume() {\n        if (this.m_paused) {\n            this.m_paused = false;\n            if (this.m_state === VideoState.Playing) {\n                this.m_videoElement.play();\n            }\n        }\n    }\n    /**\n     * Stops and hides the video.\n     */\n    stop() {\n        this.m_videoElement.pause();\n        this.hideVideo();\n        this.m_videoElement.currentTime = 0.1;\n        this.setState(VideoState.Stopped);\n        if (this.m_stoppedCallback) {\n            this.m_stoppedCallback();\n        }\n    }\n    // endregion\n    // region public properties\n    /**\n     * When assigned true will mute the sound of the video.\n     */\n    get muted() {\n        return this.m_videoElement.muted;\n    }\n    set muted(aValue) {\n        this.m_videoElement.muted = aValue;\n    }\n    /**\n     * Current time of video (in seconds).\n     */\n    get position() {\n        return this.m_videoElement.currentTime;\n    }\n    set position(aValue) {\n        this.m_videoElement.currentTime = aValue;\n    }\n    /**\n     * Current volume of the video.\n     */\n    get volume() {\n        return this.m_videoElement.volume;\n    }\n    set volume(aValue) {\n        this.m_videoElement.volume = aValue;\n    }\n    /**\n     * Current paused state.\n     */\n    get paused() {\n        return this.m_paused;\n    }\n    // endregion\n    // region private functions\n    /**\n     * Shows the video if it was hidden.\n     *\n     * @private\n     */\n    showVideo() {\n        if (this.m_showOnPlay) {\n            this.m_videoElement.style.display = this.m_display;\n        }\n    }\n    /**\n     * Hides the video when it should only be shown while playing.\n     *\n     * @private\n     */\n    hideVideo() {\n        if (this.m_showOnPlay) {\n            this.m_videoElement.style.display = 'none';\n        }\n    }\n    /**\n     * Changes to a new state.\n     *\n     * @param {Number} aValue\n     *   New state\n     */\n    setState(aValue) {\n        if (this.m_debug) {\n            console.debug('UFVideo.setState', aValue);\n        }\n        this.m_state = aValue;\n    }\n    /**\n     * Tries to preload the video.\n     */\n    performPreload() {\n        // start loading, didn't use this.m_videoElement.load() since it causes\n        // problems with the ended event\n        this.m_videoElement.play();\n        // not enough data available?\n        if (this.m_videoElement.readyState !== 4 /* HAVE_ENOUGH_DATA */) {\n            // busy preloading\n            this.setState(VideoState.Preloading);\n            // it needs to be after a delay otherwise it doesn't work properly.\n            setTimeout(() => this.m_videoElement.pause(), 2);\n        }\n        else {\n            this.m_videoElement.pause();\n            try {\n                this.m_videoElement.currentTime = 0.1;\n            }\n            catch (ignore) {\n            }\n            // video has preloaded\n            this.setState(VideoState.Preloaded);\n        }\n    }\n    /**\n     * Calls start callback and trigger VIDEO_START.\n     */\n    triggerVideoStart() {\n        // call callback (if any)\n        if (typeof this.m_startCallback === 'function') {\n            const callback = this.m_startCallback;\n            this.m_startCallback = null;\n            callback();\n        }\n        //noinspection JSUnresolvedFunction\n        if (this.m_playingCallback) {\n            this.m_playingCallback();\n        }\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles end of video.\n     */\n    handleEnded(anEvent) {\n        if (this.m_debug) {\n            console.debug('UFVideo.handleEnded', anEvent);\n        }\n        // video is stopped\n        this.setState(VideoState.Stopped);\n        // call callback (if any)\n        if (typeof this.m_doneCallback === 'function') {\n            const callback = this.m_doneCallback;\n            this.m_doneCallback = null;\n            callback();\n        }\n        if (this.m_stoppedCallback) {\n            this.m_stoppedCallback();\n        }\n    }\n    /**\n     * Handles video being available to play.\n     */\n    handleCanPlay(anEvent) {\n        if (this.m_debug) {\n            console.debug('UFVideo.handleCanPlay', anEvent);\n        }\n        // send event when in playing state\n        switch (this.m_state) {\n            case VideoState.Preloading:\n                this.setState(VideoState.Preloaded);\n                break;\n            case VideoState.Loading:\n                this.setState(VideoState.Playing);\n                this.triggerVideoStart();\n                this.showVideo();\n                break;\n            case VideoState.Playing:\n                // call play to be sure, since a call to preload and immediate call\n                // to play after might still pause the stream.\n                if (!this.m_paused) {\n                    this.m_videoElement.play();\n                }\n                break;\n        }\n    }\n}\n// endregion\n//# sourceMappingURL=UFVideo.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { UFObject } from \"@ultraforce/ts-general-lib/dist/tools/UFObject.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\n// endregion\n// region types\n// the data attributes used by this helper\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"DisplayValue\"] = \"data-uf-display-value\";\n    DataAttribute[\"ShowClasses\"] = \"data-uf-show-classes\";\n    DataAttribute[\"HideClasses\"] = \"data-uf-hide-classes\";\n})(DataAttribute || (DataAttribute = {}));\n// the predefined targets\nvar Target;\n(function (Target) {\n    Target[\"Self\"] = \"_self\";\n    Target[\"Parent\"] = \"_parent\";\n    Target[\"Next\"] = \"_next\";\n    Target[\"Previous\"] = \"_previous\";\n    Target[\"Grandparent\"] = \"_grandparent\";\n    Target[\"Dialog\"] = \"_dialog\";\n})(Target || (Target = {}));\n// endregion\n// region exports\n/**\n * Base class for all HTML helper classes. Subclasses should override the {@link scan} method to\n * perform initialization.\n *\n * To use helpers stand alone, call {@link init} to call {@link scan} when the DOM has been loaded.\n * Else use {@link UFHtmlHelpers} to get all helpers.\n *\n * The class contains some support methods.\n *\n * Some helpers will show or hide an element. Subclasses can use the {@link showElement} method\n * to do so.\n *\n * The {@link showElement} checks the following attributes: `data-uf-display-value`,\n * `data-uf-show-classes`, `data-uf-hide-classes`.\n *\n * If `data-uf-show-classes` and/or `data-uf-hide-classes` is set, the values are added and removed\n * to the class list of the element depending on the visible state.\n *\n * If no `data-uf-show-classes` and `data-uf-hide-classes` is set, the method checks for\n * `data-uf-display-value`. It can have the following values:\n * - `\"auto\"` (default), the method copies the initial display value and uses it to show the\n *   element.\n * - `\"disabled\"`, the display style is not changed.\n * - in all other cases the value is assigned to the display style when showing the element.\n *\n * If the `data-uf-display-value` attribute is not set, the code uses `auto`.\n *\n * The code will assign `\"none\"` to the display style when hiding the element.\n *\n * Use {@link getTargetElements} to get the target element(s) from a source element.\n */\nexport class UFHtmlHelper {\n    constructor() {\n        // region private variables\n        /**\n         * Will be set to true once the dom has been loaded.\n         */\n        this.m_isInitialized = false;\n        // endregion\n    }\n    // endregion\n    // region public methods\n    /**\n     * Scans the current dom, update the dom and install listeners where necessary.\n     *\n     * This method must support being called multiple times.\n     */\n    scan() {\n        // no implementation\n    }\n    /**\n     * Initializes the helper. This will call the {@link scan} method once the DOM\n     * has been loaded.\n     */\n    init() {\n        document.addEventListener('DOMContentLoaded', () => this.handleDomContentLoaded());\n    }\n    // endregion\n    // region protected support methods\n    /**\n     * Adds elements that have a specific attribute which value is a selector pointing to one or\n     * several elements; the target element(s). The elements are grouped per target element pointed\n     * to.\n     *\n     * A separate target list is used, so that multiple aTargetToSourceMap instances can be used that\n     * use the same target but point to different type of sources.\n     *\n     * The allows for a single event handler. The event handlers should handle all the different types\n     * of sources pointing to the same target.\n     *\n     * @param aSelectorAttribute\n     *   The attribute that contains the selector. The sources are the elements containing this\n     *   attribute. The targets are the elements pointed to by the selector value of the attribute.\n     * @param aTargetList\n     *   Target elements are added to this list. If the target is already in the list, it will not\n     *   be added again.\n     * @param aTargetToSourceMap\n     *   A map that contains the source elements grouped per target element.\n     * @param anEvent\n     *   Optional event to listen for at the target element(s). It will be set only once at each\n     *   target.\n     * @param anHandler\n     *   A handler that is called with the target element that triggered the event.\n     * @param aGroupName\n     *   Event group to use. If empty, the event listener just gets added to the target.\n     */\n    addSourceAndTargetElements(aSelectorAttribute, aTargetList, aTargetToSourceMap, anEvent = null, anHandler = null, aGroupName = '') {\n        const elements = document.querySelectorAll('[' + aSelectorAttribute + ']');\n        elements.forEach(element => this.addSourceElement(aSelectorAttribute, element, aTargetList, aTargetToSourceMap, anEvent, anHandler, aGroupName));\n    }\n    /**\n     * Shows an element by update the classes or display style. See the description of\n     * the {@link UFHtmlHelper} for details.\n     *\n     * @param anElement\n     * @param aShow\n     */\n    showElement(anElement, aShow) {\n        const showClasses = UFHtml.getAttribute(anElement, DataAttribute.ShowClasses);\n        const hideClasses = UFHtml.getAttribute(anElement, DataAttribute.HideClasses);\n        if (showClasses || hideClasses) {\n            UFHtml.addAndRemoveClasses(anElement, aShow ? showClasses : hideClasses, aShow ? hideClasses : showClasses);\n            return;\n        }\n        const displayValue = UFHtml.getAttribute(anElement, DataAttribute.DisplayValue, 'auto');\n        if (displayValue == 'disabled') {\n            return;\n        }\n        const display = UFObject.getAttachedAs(anElement, 'UFDisplayValue', () => displayValue == 'auto' ? anElement.style.display : displayValue);\n        anElement.style.display = aShow ? display : 'none';\n    }\n    /**\n     * Finds elements that reference a certain data attribute. Search also for data attributes with\n     * postfixes '-1' till the number as set with \"max\".\n     *\n     * @param dataAttribute\n     *  The data attribute to use.\n     * @param callback\n     *   The callback to call for each element.\n     * @param max\n     *   The maximum postfix number to use.\n     *\n     * @private\n     */\n    processDataAttributeWithPostfix(dataAttribute, callback, max = 20) {\n        const elements = document\n            .querySelectorAll(`[${dataAttribute}]`);\n        elements.forEach(element => callback(element, ''));\n        for (let groupIndex = 1; groupIndex <= max; groupIndex++) {\n            const postFix = `-${groupIndex}`;\n            const elementsWithGroups = document\n                .querySelectorAll(`[${dataAttribute}${postFix}]`);\n            elementsWithGroups.forEach(element => callback(element, postFix));\n        }\n    }\n    /**\n     * Gets the target element(s).\n     *\n     * @param element\n     *   Element to get the target element(s) from.\n     * @param target\n     *   Either one of the predefined values or a selector.\n     *\n     * @returns list of elements (can be empty)\n     */\n    getTargetElements(element, target) {\n        switch (target) {\n            case '':\n            case Target.Self:\n                return [element];\n            case Target.Parent:\n                return this.buildListFromOneElement(element.parentElement);\n            case Target.Next:\n                return this.buildListFromOneElement(element.nextElementSibling);\n            case Target.Previous:\n                return this.buildListFromOneElement(element.previousElementSibling);\n            case Target.Grandparent:\n                return this.buildListFromOneElement(element.parentElement?.parentElement ?? null);\n            case Target.Dialog:\n                return this.buildListFromOneElement(element.closest(\"dialog\"));\n            default:\n                return [...document.querySelectorAll(target)];\n        }\n    }\n    // endregion\n    // region private methods\n    /**\n     * Adds an element and targets to a target list and a container.\n     *\n     * @param aSelectorAttribute\n     * @param anElement\n     * @param aTargetList\n     * @param aTargetToSourceMap\n     * @param anEvent\n     * @param anHandler\n     * @param aGroupName\n     */\n    addSourceElement(aSelectorAttribute, anElement, aTargetList, aTargetToSourceMap, anEvent, anHandler, aGroupName = '') {\n        const selector = UFHtml.getAttribute(anElement, aSelectorAttribute);\n        if (!selector) {\n            return;\n        }\n        const targets = document.querySelectorAll(selector);\n        targets.forEach(target => this.addTargetElement(anElement, target, aTargetList, aTargetToSourceMap, anEvent, anHandler, aGroupName));\n    }\n    /**\n     * Adds a target to a target list and the source and target to a map.\n     *\n     * @param aSource\n     * @param aTarget\n     * @param aTargetList\n     * @param aTargetToSourceMap\n     * @param anEvent\n     * @param anHandler\n     * @param aGroupName\n     */\n    addTargetElement(aSource, aTarget, aTargetList, aTargetToSourceMap, anEvent, anHandler, aGroupName = '') {\n        if (!aTargetList.includes(aTarget)) {\n            aTargetList.push(aTarget);\n            if (anEvent && anHandler) {\n                if (aGroupName) {\n                    UFEventManager.instance.addListenerForGroup(aGroupName, aTarget, anEvent, () => anHandler(aTarget));\n                }\n                else {\n                    aTarget.addEventListener(anEvent, () => anHandler(aTarget));\n                }\n            }\n        }\n        aTargetToSourceMap.add(aTarget, aSource);\n    }\n    /**\n     * Returns a list with one element if the element is not null. Else return an empty list.\n     *\n     * @param element\n     *   Element to build the list from.\n     *\n     * @returns Either [element] or [].\n     *\n     * @private\n     */\n    buildListFromOneElement(element) {\n        return element ? [element] : [];\n    }\n    // endregion\n    // region event handlers\n    /**\n     */\n    handleDomContentLoaded() {\n        if (this.m_isInitialized) {\n            return;\n        }\n        this.m_isInitialized = true;\n        this.scan();\n    }\n}\n// endregion\n//# sourceMappingURL=UFHtmlHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\n// endregion\n// region types\n// the data attributes used by this helper\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"NoFilter\"] = \"data-uf-no-filter\";\n    DataAttribute[\"FilterTable\"] = \"data-uf-filter-table\";\n    DataAttribute[\"HeaderRow\"] = \"data-uf-header-row\";\n    DataAttribute[\"RowNoMatch\"] = \"data-uf-row-no-match\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Helper class that adds filter support to a table.\n *\n * Create an input element with the attribute `data-uf-filter-table` containing a selector\n * that selects one or more table elements. If multiple tables are selected, the filter gets\n * applied to each table.\n *\n * Rows containing cells that match the filter will be shown. Rows and cells are skipped when:\n * - a `tr` contains the attribute `data-uf-header-row`,\n * - a cell contains the attribute `data-uf-no-filter`,\n * - if a cell within the first row with the `data-uf-header-row` contains the\n *   attribute `data-uf-no-filter` then all cells in that column are skipped.\n *\n * A row is hidden by adding the attribute `data-uf-row-no-match` to the row. The class will add\n * a css style to hide all elements with that data attribute.\n *\n * When the input field changes the class will dispatch an event \"rowsChanged\"\n * ({@link UFCellFilterHelper.RowsChangedEvent}) on the table element.\n */\nexport class UFCellFilterHelper extends UFHtmlHelper {\n    // endregion\n    // region UFHtmlHelper\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.FilterTable);\n        const style = document.createElement('style');\n        style.innerHTML = `[${DataAttribute.RowNoMatch}] { display: none !important; }`;\n        document.head.appendChild(style);\n        const inputs = document.querySelectorAll('input[' + DataAttribute.FilterTable + ']');\n        inputs.forEach(input => this.initFilterInput(input));\n    }\n    // endregion\n    // region private methods\n    /**\n     * Adds filter support to a table. The method injects some additional html.\n     *\n     * @param anInputElement\n     *\n     * @private\n     */\n    initFilterInput(anInputElement) {\n        const tableSelector = anInputElement.getAttribute(DataAttribute.FilterTable);\n        if (!tableSelector) {\n            return;\n        }\n        const tables = document.querySelectorAll(tableSelector);\n        if (!tables.length) {\n            return;\n        }\n        const tablesColumnMap = new Map();\n        tables.forEach(table => tablesColumnMap.set(table, this.getAllowedColumns(table)));\n        UFEventManager.instance.addListenerForGroup(DataAttribute.FilterTable, anInputElement, 'input', () => this.applyFilter(anInputElement.value, tablesColumnMap));\n    }\n    /**\n     * Returns an array with a boolean for each column in the table. The boolean indicates if the\n     * column should be filtered.\n     *\n     * @param aTable\n     *   Table to process\n     *\n     * @returns column settings\n     *\n     * @private\n     */\n    getAllowedColumns(aTable) {\n        const allowedColumns = [];\n        const headerRow = aTable.querySelector('tr[' + DataAttribute.HeaderRow + ']');\n        if (headerRow) {\n            headerRow.querySelectorAll(\"th\").forEach(headerCell => {\n                allowedColumns.push(headerCell.attributes.getNamedItem(DataAttribute.NoFilter) == null);\n            });\n        }\n        return allowedColumns;\n    }\n    /**\n     * Checks if a row contains one or more columns that match the filter.\n     *\n     * @param aText\n     *   Text to match\n     * @param aTablesColumnMap\n     *   Tables to process, each containing a map of columns that can be filtered upon\n     *\n     * @private\n     */\n    applyFilter(aText, aTablesColumnMap) {\n        const lowerText = aText.toLowerCase();\n        aTablesColumnMap.forEach((allowedColumns, table) => this.applyFilterToTable(table, lowerText, allowedColumns));\n    }\n    /**\n     * Applies the filter to a table.\n     *\n     * @param aTable\n     *   Table to apply filter to\n     * @param aLowerText\n     *   Lowercase version of the text to filter on\n     * @param anAllowedColumns\n     *   Array of booleans indicating which columns can be filtered\n     *\n     * @private\n     */\n    applyFilterToTable(aTable, aLowerText, anAllowedColumns) {\n        const rows = aTable.querySelectorAll('tr');\n        rows.forEach(row => {\n            if (row.attributes.getNamedItem(DataAttribute.HeaderRow) != null) {\n                return;\n            }\n            let match = false;\n            let columnIndex = 0;\n            const cells = row.querySelectorAll('td');\n            cells.forEach(cell => {\n                if (((columnIndex >= anAllowedColumns.length) || anAllowedColumns[columnIndex]) &&\n                    (cell.attributes.getNamedItem(DataAttribute.NoFilter) == null) &&\n                    cell.textContent) {\n                    match ||= cell.textContent.toLowerCase().indexOf(aLowerText) >= 0;\n                }\n                columnIndex++;\n            });\n            if (match) {\n                row.removeAttribute(DataAttribute.RowNoMatch);\n            }\n            else {\n                row.attributes.setNamedItem(document.createAttribute(DataAttribute.RowNoMatch));\n            }\n        });\n        aTable.dispatchEvent(new Event(UFCellFilterHelper.RowsChangedEvent));\n    }\n}\n// region public constants\n/**\n * The event that is dispatched when the rows in the table have changed.\n */\nUFCellFilterHelper.RowsChangedEvent = \"rowsChanged\";\n// endregion\n//# sourceMappingURL=UFCellFilterHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\nimport { UFMapOfSet } from \"@ultraforce/ts-general-lib/dist/data/UFMapOfSet.js\";\n// endregion\n// region types\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"ClickStylingSelector\"] = \"data-uf-click-styling-selector\";\n    DataAttribute[\"ClickStylingClasses\"] = \"data-uf-click-styling-classes\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Use `data-uf-click-styling-selector` in combination with `data-uf-click-styling-classes` to\n * toggle the class(es) of the element containing this data attribute when the element\n * identified by `data-uf-click-styling-selector` is clicked upon.\n */\nexport class UFClickStylingHelper extends UFHtmlHelper {\n    constructor() {\n        // region private variables\n        super(...arguments);\n        this.m_targets = [];\n        this.m_targetToSource = new UFMapOfSet();\n        // endregion\n    }\n    // endregion\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.ClickStylingSelector);\n        this.addSourceAndTargetElements(DataAttribute.ClickStylingSelector, this.m_targets, this.m_targetToSource, 'click', (target) => this.handleClick(target), DataAttribute.ClickStylingSelector);\n    }\n    // endregion\n    // region event handlers\n    handleClick(aTarget) {\n        const sources = this.m_targetToSource.get(aTarget);\n        if (!sources) {\n            return;\n        }\n        sources.forEach(source => {\n            const cssClasses = UFHtml.getAttribute(source, DataAttribute.ClickStylingClasses);\n            if (!cssClasses) {\n                return;\n            }\n            UFHtml.toggleClasses(source, cssClasses);\n        });\n    }\n}\n// endregion\n//# sourceMappingURL=UFClickStylingHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFMapOfSet } from \"@ultraforce/ts-general-lib/dist/data/UFMapOfSet.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\n// endregion\n// region types\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"DetailsCollapse\"] = \"data-uf-details-collapse\";\n    DataAttribute[\"DetailsExpand\"] = \"data-uf-details-expand\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Add `data-uf-details-collapse` to a `<details>`; the value is a selector that points to a\n * clickable element. When the clickable element is clicked, the `<details>` will collapse.\n *\n * Add `data-uf-details-expand` to a `<details>`; the value is a selector that points to a\n * clickable element. When the clickable element is clicked, the `<details>` will expand (open).\n */\nexport class UFDetailsHelper extends UFHtmlHelper {\n    constructor() {\n        // region private variables\n        super(...arguments);\n        /**\n         * Contains all elements that are being tracked for click events.\n         */\n        this.m_clickableElements = [];\n        /**\n         * Maps a clickable element to all details elements.\n         */\n        this.m_collapsableElements = new UFMapOfSet();\n        /**\n         * Maps a clickable element to all details elements.\n         */\n        this.m_expandableElements = new UFMapOfSet();\n        // endregion\n    }\n    // endregion\n    // region public methods\n    scan() {\n        super.scan();\n        this.clear();\n        this.addSourceAndTargetElements(DataAttribute.DetailsCollapse, this.m_clickableElements, this.m_collapsableElements, 'click', (element) => this.handleCollapseClick(element), DataAttribute.DetailsCollapse);\n        this.addSourceAndTargetElements(DataAttribute.DetailsExpand, this.m_clickableElements, this.m_expandableElements, 'click', (element) => this.handleExpandClick(element), DataAttribute.DetailsCollapse);\n    }\n    // endregion\n    // region private methods\n    /**\n     * Removes all event listeners and clears all data.\n     */\n    clear() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.DetailsCollapse);\n        this.m_clickableElements.length = 0;\n        this.m_collapsableElements.clear();\n        this.m_expandableElements.clear();\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Collapses the details elements.\n     *\n     * @param element\n     */\n    handleCollapseClick(element) {\n        if (!this.m_collapsableElements.has(element)) {\n            return;\n        }\n        this.m_collapsableElements.get(element).forEach(details => details.open = false);\n    }\n    /**\n     * Expands the details elements.\n     *\n     * @param element\n     */\n    handleExpandClick(element) {\n        if (!this.m_expandableElements.has(element)) {\n            return;\n        }\n        this.m_expandableElements.get(element).forEach(details => details.open = true);\n    }\n}\n// endregion\n//# sourceMappingURL=UFDetailsHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2025 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2025 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtml } from \"../tools/UFHtml.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\n// endregion\n// region types and constants\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"ShowDialog\"] = \"data-uf-show-dialog\";\n})(DataAttribute || (DataAttribute = {}));\nconst ClickEvents = 'click';\n// endregion\n// region exports\n/**\n * Add `data-uf-show-dialog` attribute to a clickable element. The value of the data element should\n * be a selector of a dialog element. When the clickable element is clicked, the following actions\n * are performed:\n * - For every data attribute in the clickable element, the code checks if the dialog contains\n *   one or more child elements referencing the same data attribute. For each found element, the\n *   value of the data element either gets assigned to the value property if the element is a\n *   select or input element.\n *   Else the value of the data element gets assigned to the inner text of the found element.\n *   Note that the value of the data element in the found element is not used; only the name is\n *   of importance.\n *   Data attributes starting with `data-uf-` are ignored.\n * - The dialog is shown.\n *\n * @example\n * <button data-uf-show-dialog=\"#dialog\" data-user-name=\"User Name\" data-user-id=\"123\">\n *   Show dialog\n * </button>\n * ...\n * <dialog id=\"dialog\">\n *   ...\n *   <p>Edit the user <span data-user-name></span></p>\n *   ...\n *   <input type=\"hidden\" name=\"user-id\" data-user-id />\n *   ...\n * </dialog>\n */\nexport class UFDialogHelper extends UFHtmlHelper {\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.ShowDialog);\n        UFEventManager.instance.addListenersForGroup(DataAttribute.ShowDialog, '[' + DataAttribute.ShowDialog + ']', ClickEvents, (element) => () => this.handleShowDialogClick(element));\n    }\n    // endregion\n    // region private methods\n    /**\n     * Tries to get the dialog element from the clickable element.\n     *\n     * @param element\n     *   Element to get dialog from.\n     *\n     * @returns dialog element or null if not found.\n     *\n     * @private\n     */\n    getDialog(element) {\n        const dialogSelector = UFHtml.getAttribute(element, DataAttribute.ShowDialog);\n        if (!dialogSelector) {\n            return null;\n        }\n        const dialog = UFHtml.get(dialogSelector);\n        if (!dialog) {\n            console.error(`Dialog not found: ${dialogSelector}`);\n        }\n        return dialog;\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles the click event on a clickable element.\n     *\n     * @param element\n     *   Element clicked upon\n     *\n     * @private\n     */\n    handleShowDialogClick(element) {\n        const dialog = this.getDialog(element);\n        if (!dialog) {\n            return;\n        }\n        const map = UFHtml.buildDataAttributesMap(element);\n        UFHtml.copyAttributes(element, map, dialog);\n        dialog.showModal();\n    }\n}\n// endregion\n//# sourceMappingURL=UFDialogHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2025 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2025 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\n// endregion\n// region types\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"EventAction\"] = \"data-uf-event-action\";\n    DataAttribute[\"EventEvents\"] = \"data-uf-event-events\";\n    DataAttribute[\"EventTarget\"] = \"data-uf-event-target\";\n    DataAttribute[\"EventData\"] = \"data-uf-event-data\";\n    DataAttribute[\"EventAttribute\"] = \"data-uf-event-attribute\";\n    DataAttribute[\"EventState\"] = \"data-uf-event-state\";\n    DataAttribute[\"EventKey\"] = \"data-uf-event-key\";\n    DataAttribute[\"EventPreventDefault\"] = \"data-uf-event-prevent-default\";\n    DataAttribute[\"ClickAction\"] = \"data-uf-click-action\";\n    DataAttribute[\"ClickTarget\"] = \"data-uf-click-target\";\n    DataAttribute[\"ClickData\"] = \"data-uf-click-data\";\n    DataAttribute[\"ClickAttribute\"] = \"data-uf-click-attribute\";\n    DataAttribute[\"LoadAction\"] = \"data-uf-load-action\";\n    DataAttribute[\"LoadTarget\"] = \"data-uf-load-target\";\n    DataAttribute[\"LoadData\"] = \"data-uf-load-data\";\n    DataAttribute[\"LoadAttribute\"] = \"data-uf-load-attribute\";\n})(DataAttribute || (DataAttribute = {}));\nvar Action;\n(function (Action) {\n    Action[\"RemoveFromDom\"] = \"remove-from-dom\";\n    Action[\"Hide\"] = \"hide\";\n    Action[\"Show\"] = \"show\";\n    Action[\"Toggle\"] = \"toggle\";\n    Action[\"ToggleClass\"] = \"toggle-class\";\n    Action[\"RemoveFromClass\"] = \"remove-from-class\";\n    Action[\"AddToClass\"] = \"add-to-class\";\n    Action[\"ShowModal\"] = \"show-modal\";\n    Action[\"ShowNonModal\"] = \"show-non-modal\";\n    Action[\"Close\"] = \"close\";\n    Action[\"SetAttribute\"] = \"set-attribute\";\n    Action[\"Reload\"] = \"reload\";\n    Action[\"SetValue\"] = \"set-value\";\n    Action[\"SetText\"] = \"set-text\";\n    Action[\"SetHtml\"] = \"set-html\";\n})(Action || (Action = {}));\n// endregion\n// region exports\n/**\n * This helper can be used to perform certain actions for certain events triggered at the element.\n *\n * Add `data-uf-event-action` to the element with one of the following values:\n * - `\"remove-from-dom\"`: Removes the target(s) from the DOM.\n * - `\"hide\"`: Hides the target(s) using {@link UFHtmlHelper.showElement}.\n * - `\"show\"`: Shows the target(s) using {@link UFHtmlHelper.showElement}.\n * - `\"toggle\"`: Shows the target(s) if their display is set to none, hides them otherwise.\n * - `\"toggle-class\"`: Toggles the classes set with `data-uf-event-data` at the target(s).\n * - `\"remove-from-class\"`: Removes the classes set with `data-uf-event-data` from the target(s).\n * - `\"add-to-class\"`: Adds the classes set with `data-uf-event-data` from the target(s).\n * - `\"show-modal\"`: Shows the target(s) as modal dialog. If the target is not a dialog element,\n *   nothing happens.\n * - `\"show-non-modal\"`: Shows the target(s) as dialog. If the target is not a dialog element,\n *   nothing happens.\n * - `\"close\"`: Closes the target. If the target is not a dialog element, nothing happens.\n * - `\"set-attribute\"`: Sets the attribute specified in `data-uf-event-attribute` to the value\n *   specified in `data-uf-event-data` at the target(s).\n * - `\"reload\"`: Reloads the web page.\n * - `\"set-value\"`: Sets the value of the target(s) to the value specified in `data-uf-event-data`.\n *   The target(s) must be an input, textarea or select element. If no value is specified, the\n *   target will be set to an empty string or unchecked state. To set checkbox to a checked state\n *   use the values 'true', '1' or 'checked'. After setting the value, the code will fire a\n *   `\"change\"` and (when applicable) an `\"input\"` event.\n * - `\"set-text\"`: Sets the inner text content of the target(s) to the value specified in\n *   `data-uf-event-data`.\n * - `\"set-html\"`: Sets the inner HTML content of the target(s) to the value specified in\n *   `data-uf-event-data`.\n *\n * Use `data-uf-event-events` to specify the events that should trigger the action. The value\n * is one or multiple events separated by a space. This attribute is required. When missing,\n * nothing happens.\n *\n * Use `data-uf-event-target` to specify a target. The value can either be a selector (for one\n * or multiple elements) or one of the predefined values:\n * - `\"_self\"`: The clickable element itself.\n * - `\"_parent\"`: The parent element of the clickable element.\n * - `\"_next\"`: The next sibling of the clickable element.\n * - `\"_previous\"`: The previous sibling of the clickable element.\n * - `\"_grandparent\"`: The parent element of the parent of the clickable element.\n * - `\"_dialog\"`: The nearest dialog element that contains the clickable element.\n *\n * If `data-uf-event-target` is missing, the `\"_self\"` value is used as default unless the action\n * is `\"close\"` than `\"_dialog\"` is used as default.\n *\n * Use `data-uf-event-data` to specify data used by some of the actions.\n *\n * Use `data-uf-event-attribute` to specify the attribute to set in case of the\n * `\"set-attribute\"` action.\n *\n * Use `data-uf-event-state` to specify the state to check when listening for events that have\n * a `newState` property. Use this attribute with the value \"open\" together with the \"toggle\" event\n * to perform an action when for example a dialog is being opened.\n *\n * Use `data-uf-event-key` to specify the key that should be pressed to trigger the action.\n * See {@link https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key} for possible\n * values.\n *\n * Use `data-uf-event-prevent-default` to prevent the default action of the event if an action\n * was triggered. The value of the attribute is ignored.\n *\n * Use `data-uf-click-action`, `data-uf-click-target`, `data-uf-click-data` and\n * `data-uf-click-attribute` as shortcuts for \"click\" events.\n *\n * Use `data-uf-load-action`, `data-uf-load-target`, `data-uf-load-data` and\n * `data-uf-load-attribute` to perform actions when the document is loaded.\n *\n * It is possible to specify multiple actions by adding a postfix to the data attributes:\n * ('-1', '-2', etc., till '-20'). The postfix should be added to all data attributes. The postfix\n * works for `data-uf-event-xxxx`, `data-uf-click-xxxx`, `data-uf-load-xxxx`,\n *\n * @example\n * <button\n *   data-uf-event-action=\"hide\" data-uf-event-events=\"click\" data-uf-event-target=\"_parent\"\n *   data-uf-event-action-1=\"hide\" data-uf-event-events-1=\"click\" data-uf-event-target-1=\"#some-id\"\n *   data-uf-event-action-2=\"hide\" data-uf-event-events-2=\"click\" data-uf-event-target-2=\"#another-id\"\n *   >\n *   Hide element\n * </button>\n *\n * @example\n * <dialog\n *   data-uf-event-action=\"toggle\"\n *   data-uf-event-events=\"open close\"\n *   data-uf-event-target=\"#indicator\"\n * >\n * ....\n * </dialog>\n */\nexport class UFEventActionHelper extends UFHtmlHelper {\n    constructor() {\n        // region private variables\n        super(...arguments);\n        this.m_hasLoaded = false;\n        // endregion\n    }\n    // endregion\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.EventAction);\n        this.processDataAttributeWithPostfix(DataAttribute.EventAction, (element, postfix) => this.processEventElement(element, postfix));\n        this.processDataAttributeWithPostfix(DataAttribute.ClickAction, (element, postfix) => this.processClickableElement(element, postfix));\n        // when rescanning do not call the load action again.\n        if (!this.m_hasLoaded) {\n            this.processDataAttributeWithPostfix(DataAttribute.LoadAction, (element, postfix) => this.processLoadElement(element, postfix));\n            this.m_hasLoaded = true;\n        }\n    }\n    // endregion\n    // region private methods\n    /**\n     * Processes a clickable element.\n     *\n     * @param element\n     *   Element to process\n     * @param postFix\n     *   Postfix to add to the data attributes.\n     *\n     * @private\n     */\n    processEventElement(element, postFix = '') {\n        const action = UFHtml.getAttribute(element, DataAttribute.EventAction + postFix);\n        const events = UFHtml.getAttribute(element, DataAttribute.EventEvents + postFix);\n        const target = UFHtml.getAttribute(element, DataAttribute.EventTarget + postFix);\n        const data = UFHtml.getAttribute(element, DataAttribute.EventData + postFix);\n        const attribute = UFHtml.getAttribute(element, DataAttribute.EventAttribute + postFix);\n        const state = UFHtml.getAttribute(element, DataAttribute.EventState + postFix);\n        const key = UFHtml.getAttribute(element, DataAttribute.EventKey + postFix);\n        const preventDefault = UFHtml.hasAttribute(element, DataAttribute.EventPreventDefault + postFix);\n        if (!events || !action) {\n            return;\n        }\n        UFEventManager.instance.addListenerForGroup(DataAttribute.EventAction, element, events, (event) => this.performActionForEvent(event, element, action, target, data, attribute, state, key, preventDefault));\n    }\n    /**\n     * Processes a clickable element.\n     *\n     * @param element\n     *   Element to process\n     * @param postFix\n     *   Postfix to add to the data attributes.\n     *\n     * @private\n     */\n    processClickableElement(element, postFix = '') {\n        const action = UFHtml.getAttribute(element, DataAttribute.ClickAction + postFix);\n        const target = UFHtml.getAttribute(element, DataAttribute.ClickTarget + postFix);\n        const data = UFHtml.getAttribute(element, DataAttribute.ClickData + postFix);\n        const attribute = UFHtml.getAttribute(element, DataAttribute.ClickAttribute + postFix);\n        if (!action) {\n            return;\n        }\n        UFEventManager.instance.addListenerForGroup(DataAttribute.EventAction, element, 'click', () => this.performAction(element, action, target, data, attribute));\n    }\n    /**\n     * Processes an element that wants to perform an action when the document is loaded.\n     *\n     * @param element\n     *   Element to process\n     * @param postFix\n     *   Postfix to add to the data attributes.\n     *\n     * @private\n     */\n    processLoadElement(element, postFix = '') {\n        const action = UFHtml.getAttribute(element, DataAttribute.LoadAction + postFix);\n        const target = UFHtml.getAttribute(element, DataAttribute.LoadTarget + postFix);\n        const data = UFHtml.getAttribute(element, DataAttribute.LoadData + postFix);\n        const attribute = UFHtml.getAttribute(element, DataAttribute.LoadAttribute + postFix);\n        if (!action) {\n            return;\n        }\n        // scan gets called when the document is loaded, so just call the action directly.\n        this.performAction(element, action, target, data, attribute);\n    }\n    /**\n     * Performs an action for an event.\n     *\n     * @param event\n     *   Event that was fired.\n     * @param element\n     *   Element to get target element(s) from.\n     * @param action\n     *   Action to perform.\n     * @param target\n     *   Either one of the predefined values or a selector.\n     * @param data\n     *   Data used by some of the actions.\n     * @param attribute\n     *   Attribute used by the `set-attribute` action.\n     * @param state\n     *   State to check if the event is a `ToggleEvent`.\n     * @param key\n     *   Key to check if the event is a `KeyboardEvent`.\n     * @param preventDefault\n     *   When true, prevent the default action of the event.\n     *\n     * @private\n     */\n    performActionForEvent(event, element, action, target, data, attribute, state, key, preventDefault) {\n        if (event instanceof ToggleEvent) {\n            if (state && state !== event.newState) {\n                return;\n            }\n        }\n        else if (event instanceof KeyboardEvent) {\n            if (key !== event.key) {\n                return;\n            }\n        }\n        this.performAction(element, action, target, data, attribute);\n        if (preventDefault) {\n            event.preventDefault();\n        }\n    }\n    /**\n     * Performs an action.\n     *\n     * @param element\n     *   Element to get target element(s) from.\n     * @param action\n     *   Action to perform.\n     * @param target\n     *   Either one of the predefined values or a selector.\n     * @param data\n     *   Data used by some of the actions.\n     * @param attribute\n     *   Attribute used by the `set-attribute` action.\n     *\n     * @private\n     */\n    performAction(element, action, target, data, attribute) {\n        if (target === '') {\n            target = action === Action.Close ? '_dialog' : '_self';\n        }\n        const targetElements = this.getTargetElements(element, target);\n        targetElements.forEach(targetElement => this.performActionOnElement(targetElement, action, data, attribute));\n    }\n    /**\n     * Performs the action on the target element.\n     *\n     * @param element\n     *   Element to perform the action on.\n     * @param action\n     *   Action to perform.\n     * @param data\n     *   Data used by some of the actions.\n     * @param attribute\n     *   Attribute used by the `set-attribute` action.\n     *\n     * @private\n     */\n    performActionOnElement(element, action, data, attribute) {\n        switch (action) {\n            case Action.RemoveFromDom:\n                element.remove();\n                break;\n            case Action.Hide:\n                this.showElement(element, false);\n                break;\n            case Action.Show:\n                this.showElement(element, true);\n                break;\n            case Action.Toggle:\n                this.showElement(element, element.style.display === 'none');\n                break;\n            case Action.ToggleClass:\n                element.classList.toggle(data);\n                break;\n            case Action.RemoveFromClass:\n                element.classList.remove(data);\n                break;\n            case Action.AddToClass:\n                element.classList.add(data);\n                break;\n            case Action.ShowModal:\n                if (element instanceof HTMLDialogElement) {\n                    element.showModal();\n                }\n                break;\n            case Action.ShowNonModal:\n                if (element instanceof HTMLDialogElement) {\n                    element.show();\n                }\n                break;\n            case Action.Close:\n                if (element instanceof HTMLDialogElement) {\n                    element.close();\n                }\n                break;\n            case Action.SetAttribute:\n                element.setAttribute(attribute, data);\n                break;\n            case Action.Reload:\n                UFHtml.reload();\n                break;\n            case Action.SetValue:\n                UFHtml.assignValue(element, data);\n                break;\n            case Action.SetText:\n                element.innerText = data;\n                break;\n            case Action.SetHtml:\n                element.innerHTML = data;\n                break;\n        }\n    }\n}\n//# sourceMappingURL=UFEventActionHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFText } from \"@ultraforce/ts-general-lib/dist/tools/UFText.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFMapOfSet } from \"@ultraforce/ts-general-lib/dist/data/UFMapOfSet.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\n// endregion\n// region types\n// the data attributes used by this helper\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"ImagePreview\"] = \"data-uf-image-preview\";\n    DataAttribute[\"FileName\"] = \"data-uf-file-name\";\n    DataAttribute[\"ImageWidth\"] = \"data-uf-image-width\";\n    DataAttribute[\"ImageHeight\"] = \"data-uf-image-height\";\n    DataAttribute[\"FileSize\"] = \"data-uf-file-size\";\n    DataAttribute[\"FileType\"] = \"data-uf-file-type\";\n    DataAttribute[\"FileNone\"] = \"data-uf-file-none\";\n    DataAttribute[\"FileShow\"] = \"data-uf-file-show\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Helper class that can show information from `input type=\"file\"` tag. This helper only works with\n * single file selection inputs. If multiple files are selected, only the first file will be used.\n *\n * Add `div`/`span` elements with one of the following attributes to the page:\n * - `data-uf-file-name`: to show the name of the selected file.\n * - `data-uf-file-size`: to show the size of the selected file.\n * - `data-uf-file-type`: to show the mime type of the selected file.\n * - `data-uf-image-width`: to show the width of the selected image.\n * - `data-uf-image-height`: to show the height of the selected image.\n *\n * The value of the attribute will be a selector that selects the input element of type file. The\n * contents of the tag will be updated with the information from the selected file.\n *\n * To create an image preview, add an image element (`img`) with the attribute\n * `data-uf-image-preview` containing a selector that selects an input element of type file.\n * Whenever a new file is selected the image element will be updated with a preview of the image.\n *\n * Add `data-uf-file-none` to an element to show the element when no file is selected. Or gets\n * hidden when any file is selected. The value of the attribute will be a selector that selects\n * the input element of type file. Add `data-uf-file-show` to an element to show the element when\n * a file is selected. Or gets hidden when no file is selected.\n *\n * See {@link UFHtmlHelper} for more information about how elements are shown or hidden.\n *\n * The image related attributes will only work if the selected file is an image.\n */\nexport class UFFileInputHelper extends UFHtmlHelper {\n    constructor() {\n        // region private variables\n        super(...arguments);\n        /**\n         * Contains all file input elements that are being tracked.\n         *\n         * @private\n         */\n        this.m_inputElements = [];\n        /**\n         * Maps an input element to all images that show a preview of the image.\n         *\n         * @private\n         */\n        this.m_previewElements = new UFMapOfSet();\n        /**\n         * Maps an input element to all elements which content will be set to the name of the image.\n         *\n         * @private\n         */\n        this.m_nameElements = new UFMapOfSet();\n        /**\n         * Maps an input element to all elements which content will be set to the width of the image.\n         *\n         * @private\n         */\n        this.m_widthElements = new UFMapOfSet();\n        /**\n         * Maps an input element to all elements which content will be set to the height of the image.\n         *\n         * @private\n         */\n        this.m_heightElements = new UFMapOfSet();\n        /**\n         * Maps an input element to all elements which content will be set to the size of the image.\n         *\n         * @private\n         */\n        this.m_sizeElements = new UFMapOfSet();\n        /**\n         * Maps an input element to all elements which content will be set to the size of the image.\n         *\n         * @private\n         */\n        this.m_typeElements = new UFMapOfSet();\n        /**\n         * Maps an input element to all elements which content will be shown if no file is selected.\n         *\n         * @private\n         */\n        this.m_noneElements = new UFMapOfSet();\n        /**\n         * Maps an input element to all elements which content will be shown if a file is selected.\n         *\n         * @private\n         */\n        this.m_showElements = new UFMapOfSet();\n        // endregion\n    }\n    // endregion\n    // region UFHtmlHelper\n    scan() {\n        this.clear();\n        this.addElements();\n        this.m_inputElements.forEach(element => this.clearElements(element));\n    }\n    // endregion\n    // region private methods\n    /**\n     * Removes all event listeners and clears all data.\n     *\n     * @private\n     */\n    clear() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.ImagePreview);\n        this.m_inputElements.length = 0;\n        this.m_heightElements.clear();\n        this.m_nameElements.clear();\n        this.m_previewElements.clear();\n        this.m_sizeElements.clear();\n        this.m_typeElements.clear();\n        this.m_widthElements.clear();\n        this.m_noneElements.clear();\n        this.m_showElements.clear();\n    }\n    /**\n     * Adds all elements to the helper.\n     *\n     * @private\n     */\n    addElements() {\n        this.addElement(DataAttribute.ImagePreview, this.m_previewElements);\n        this.addElement(DataAttribute.FileName, this.m_nameElements);\n        this.addElement(DataAttribute.ImageWidth, this.m_widthElements);\n        this.addElement(DataAttribute.ImageHeight, this.m_heightElements);\n        this.addElement(DataAttribute.FileSize, this.m_sizeElements);\n        this.addElement(DataAttribute.FileType, this.m_typeElements);\n        this.addElement(DataAttribute.FileNone, this.m_noneElements);\n        this.addElement(DataAttribute.FileShow, this.m_showElements);\n    }\n    /**\n     * Adds input elements and related elements to the helper.\n     *\n     * @param attribute\n     * @param container\n     *\n     * @private\n     */\n    addElement(attribute, container) {\n        this.addSourceAndTargetElements(attribute, this.m_inputElements, container, 'input', input => this.handleFileChange(input), DataAttribute.ImagePreview);\n    }\n    processFile(inputElement, file) {\n        this.m_nameElements.get(inputElement).forEach(element => element.textContent = file.name);\n        this.m_sizeElements.get(inputElement).forEach(element => element.textContent = UFText.formatFileSize(file.size));\n        this.m_typeElements.get(inputElement).forEach(element => element.textContent = file.type);\n        this.m_noneElements.get(inputElement).forEach(element => this.showElement(element, false));\n        this.m_showElements.get(inputElement).forEach(element => this.showElement(element, true));\n        this.loadImageFile(inputElement, file);\n    }\n    loadImageFile(inputElement, file) {\n        const image = new Image();\n        // this will only fire when a valid image is loaded\n        image.onload = () => this.processImageFile(inputElement, file, image);\n        image.src = URL.createObjectURL(file);\n    }\n    processImageFile(inputElement, file, image) {\n        this.m_previewElements.get(inputElement).forEach(element => element.src = image.src);\n        this.m_widthElements.get(inputElement).forEach(element => element.textContent = image.width.toString());\n        this.m_heightElements.get(inputElement).forEach(element => element.textContent = image.height.toString());\n    }\n    clearElements(inputElement) {\n        this.m_previewElements.get(inputElement).forEach(element => element.src = '');\n        this.m_nameElements.get(inputElement).forEach(element => element.textContent = '-');\n        this.m_widthElements.get(inputElement).forEach(element => element.textContent = '-');\n        this.m_heightElements.get(inputElement).forEach(element => element.textContent = '-');\n        this.m_sizeElements.get(inputElement).forEach(element => element.textContent = '-');\n        this.m_typeElements.get(inputElement).forEach(element => element.textContent = '-');\n        this.m_noneElements.get(inputElement).forEach(element => this.showElement(element, true));\n        this.m_showElements.get(inputElement).forEach(element => this.showElement(element, false));\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handle changes to the file input element.\n     *\n     * @param inputElement\n     *\n     * @private\n     */\n    handleFileChange(inputElement) {\n        if (inputElement.files == null) {\n            return;\n        }\n        inputElement.files.length > 0\n            ? this.processFile(inputElement, inputElement.files[0])\n            : this.clearElements(inputElement);\n    }\n}\n// endregion\n//# sourceMappingURL=UFFileInputHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2025 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2025 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtml } from \"../tools/UFHtml.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\n// endregion\n// region types\n// the data attributes used by this helper\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"NoFilter\"] = \"data-uf-no-filter\";\n    DataAttribute[\"FilterInput\"] = \"data-uf-filter-input\";\n    DataAttribute[\"NoMatch\"] = \"data-uf-filter-no-match\";\n    DataAttribute[\"Group\"] = \"data-uf-filter-group\";\n    DataAttribute[\"Container\"] = \"data-uf-filter-container\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Helper class that adds support for a filter to show or hide children within some container.\n *\n * Create an input element with the attribute `data-uf-filter-input` containing a selector\n * that selects one or more elements that contain child elements that should be shown or hidden\n * based on the value of the input element.\n *\n * A child element is hidden if any part of `innerText` does not match the value of the input\n * element (case-insensitive matching).\n *\n * Add the attribute `data-uf-no-filter` to a child element to skip it from filtering.\n *\n * Add the attribute `data-uf-filter-group` with some value to a child element to group the\n * child elements using the same value. If any of the child elements in the group matches the\n * filter, all the child elements in the group will be shown.\n *\n * Filterable elements can also be grouped via a container element. Add the attribute\n * `data-uf-filter-container` to a container element. The container element is shown or hidden\n * depending on if any of the children matches the filter. Children that use the `data-uf-no-filter`\n * attribute are skipped.\n *\n * A child or container element is hidden by adding the attribute `data-uf-filter-no-match` to\n * the child or container element.\n *\n * This class will add a css style to hide all elements with that data attribute\n * (using `display: none`).\n */\nexport class UFFilterHelper extends UFHtmlHelper {\n    // endregion\n    // region UFHtmlHelper\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.FilterInput);\n        if (!UFFilterHelper.s_styledAdded) {\n            this.addStyle();\n            UFFilterHelper.s_styledAdded = true;\n        }\n        this.initFilterInputs();\n    }\n    // endregion\n    // region private methods\n    /**\n     * Initialize all filter inputs.\n     * @private\n     */\n    initFilterInputs() {\n        const inputs = document.querySelectorAll('input[' + DataAttribute.FilterInput + ']');\n        inputs.forEach(input => this.initFilterInput(input));\n    }\n    /**\n     * Adds filter support to a table. The method injects some additional html.\n     *\n     * @param inputElement\n     *\n     * @private\n     */\n    initFilterInput(inputElement) {\n        const parentSelector = inputElement.getAttribute(DataAttribute.FilterInput);\n        if (!parentSelector) {\n            return;\n        }\n        const parents = document.querySelectorAll(parentSelector);\n        const groupedChildren = [];\n        const containers = [];\n        parents.forEach(parent => {\n            groupedChildren.push(this.getFilterableChildren(parent));\n            containers.push(...UFHtml.findAllForAttribute(DataAttribute.Container, null, parent));\n        });\n        UFEventManager.instance.addListenerForGroup(DataAttribute.FilterInput, inputElement, 'input', () => this.applyFilter(inputElement.value, groupedChildren, containers));\n    }\n    /**\n     * Gets all children that should be shown or hidden based on the filter. Group them by the\n     * group attribute.\n     *\n     * @param container\n     *\n     * @private\n     */\n    getFilterableChildren(container) {\n        const children = container.querySelectorAll(`:not([${DataAttribute.NoFilter}])`);\n        const groupedChildren = new Map();\n        const ungroupedChildren = [];\n        children.forEach(child => {\n            const group = child.getAttribute(DataAttribute.Group);\n            if (group) {\n                if (!groupedChildren.has(group)) {\n                    groupedChildren.set(group, []);\n                }\n                groupedChildren.get(group)?.push(child);\n            }\n            else {\n                ungroupedChildren.push([child]);\n            }\n        });\n        return [...ungroupedChildren, ...Array.from(groupedChildren.values())];\n    }\n    /**\n     * Checks if a row contains one or more columns that match the filter.\n     *\n     * @param text\n     *   Text to match\n     * @param parents\n     *   The children per parent, grouped by the group attribute\n     * @param containers\n     *   Containers that should be shown or hidden based on the filter and their children\n     *\n     * @private\n     */\n    applyFilter(text, parents, containers) {\n        const lowerText = text.toLowerCase();\n        parents.forEach(parent => this.applyFilterToParent(lowerText, parent));\n        containers.forEach(container => this.applyFilterToContainer(lowerText, container));\n    }\n    /**\n     * Applies the filter to the children of a container.\n     *\n     * @param lowerText\n     *   Lowercase version of the text to filter on\n     * @param parent\n     *   Children of the container to process, grouped by the group attribute.\n     *\n     * @private\n     */\n    applyFilterToParent(lowerText, parent) {\n        parent.forEach(groupedChildren => this.applyFilterToGroupedChildren(lowerText, groupedChildren));\n    }\n    /**\n     * Applies the filter to a group of children. All children in the group are shown if\n     * any of the children matches the filter.\n     *\n     * @param lowerText\n     * @param groupedChildren\n     *\n     * @private\n     */\n    applyFilterToGroupedChildren(lowerText, groupedChildren) {\n        let match = false;\n        groupedChildren.forEach(child => {\n            if (!child.hasAttribute(DataAttribute.NoFilter)) {\n                match ||= (child.innerText ?? '').toLowerCase().indexOf(lowerText) >= 0;\n            }\n        });\n        groupedChildren.forEach(child => {\n            if (match) {\n                child.removeAttribute(DataAttribute.NoMatch);\n            }\n            else {\n                child.attributes.setNamedItem(document.createAttribute(DataAttribute.NoMatch));\n            }\n        });\n    }\n    /**\n     * Apply filter to a container. The container is shown if any of the children matches the\n     * filter.\n     *\n     * @param lowerText\n     * @param container\n     *\n     * @private\n     */\n    applyFilterToContainer(lowerText, container) {\n        let match = false;\n        const children = Array.from(container.children);\n        children.forEach(child => match ||= (child.innerText ?? '').toLowerCase().indexOf(lowerText) >= 0);\n        if (match) {\n            container.removeAttribute(DataAttribute.NoMatch);\n        }\n        else {\n            container.attributes.setNamedItem(document.createAttribute(DataAttribute.NoMatch));\n        }\n    }\n    /**\n     * Adds a style to hide elements that use the {@link DataAttribute.NoMatch} attribute.\n     *\n     * @private\n     */\n    addStyle() {\n        const style = document.createElement('style');\n        style.innerHTML = `[${DataAttribute.NoMatch}] { display: none !important; }`;\n        document.head.appendChild(style);\n    }\n}\n// region private variables\n/**\n * True when the style has been added to the document.\n *\n * @private\n */\nUFFilterHelper.s_styledAdded = false;\n// endregion\n//# sourceMappingURL=UFFilterHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2021 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2021 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFMapOfSet } from \"@ultraforce/ts-general-lib/dist/data/UFMapOfSet.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\nimport { UFObject } from \"@ultraforce/ts-general-lib/dist/tools/UFObject.js\";\n// endregion\n// region types\n/**\n * Data attribute names used by this helper.\n */\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"Type\"] = \"data-uf-toggle-type\";\n    DataAttribute[\"Property\"] = \"data-uf-toggle-property\";\n    DataAttribute[\"Selector\"] = \"data-uf-toggle-selector\";\n    DataAttribute[\"Change\"] = \"data-uf-toggle-change\";\n    DataAttribute[\"Classes\"] = \"data-uf-toggle-classes\";\n    DataAttribute[\"ClassesMatch\"] = \"data-uf-toggle-classes-match\";\n    DataAttribute[\"Condition\"] = \"data-uf-toggle-condition\";\n    DataAttribute[\"Value\"] = \"data-uf-toggle-value\";\n    DataAttribute[\"Values\"] = \"data-uf-toggle-values\";\n    DataAttribute[\"ValuesSeparator\"] = \"data-uf-toggle-values-separator\";\n    DataAttribute[\"Required\"] = \"data-uf-toggle-required\";\n    DataAttribute[\"Target\"] = \"data-uf-toggle-target\";\n    DataAttribute[\"Compare\"] = \"data-uf-toggle-compare\";\n})(DataAttribute || (DataAttribute = {}));\nvar ToggleType;\n(function (ToggleType) {\n    ToggleType[ToggleType[\"Auto\"] = 0] = \"Auto\";\n    ToggleType[ToggleType[\"Value\"] = 1] = \"Value\";\n    ToggleType[ToggleType[\"Valid\"] = 2] = \"Valid\";\n    ToggleType[ToggleType[\"Property\"] = 3] = \"Property\";\n})(ToggleType || (ToggleType = {}));\nvar ToggleChange;\n(function (ToggleChange) {\n    ToggleChange[ToggleChange[\"Auto\"] = 0] = \"Auto\";\n    ToggleChange[ToggleChange[\"None\"] = 1] = \"None\";\n    ToggleChange[ToggleChange[\"Enable\"] = 2] = \"Enable\";\n    ToggleChange[ToggleChange[\"Visible\"] = 3] = \"Visible\";\n    ToggleChange[ToggleChange[\"Required\"] = 4] = \"Required\";\n    ToggleChange[ToggleChange[\"NotRequired\"] = 5] = \"NotRequired\";\n})(ToggleChange || (ToggleChange = {}));\nvar ToggleCondition;\n(function (ToggleCondition) {\n    ToggleCondition[ToggleCondition[\"Any\"] = 0] = \"Any\";\n    ToggleCondition[ToggleCondition[\"All\"] = 1] = \"All\";\n    ToggleCondition[ToggleCondition[\"None\"] = 2] = \"None\";\n})(ToggleCondition || (ToggleCondition = {}));\nvar ToggleRequired;\n(function (ToggleRequired) {\n    ToggleRequired[ToggleRequired[\"None\"] = 0] = \"None\";\n    ToggleRequired[ToggleRequired[\"Match\"] = 1] = \"Match\";\n    ToggleRequired[ToggleRequired[\"NoMatch\"] = 2] = \"NoMatch\";\n})(ToggleRequired || (ToggleRequired = {}));\nvar ToggleCompare;\n(function (ToggleCompare) {\n    ToggleCompare[ToggleCompare[\"Equal\"] = 0] = \"Equal\";\n    ToggleCompare[ToggleCompare[\"Contain\"] = 1] = \"Contain\";\n    ToggleCompare[ToggleCompare[\"Inside\"] = 2] = \"Inside\";\n    ToggleCompare[ToggleCompare[\"LessThan\"] = 3] = \"LessThan\";\n    ToggleCompare[ToggleCompare[\"LessThanOrEqual\"] = 4] = \"LessThanOrEqual\";\n    ToggleCompare[ToggleCompare[\"GreaterThan\"] = 5] = \"GreaterThan\";\n    ToggleCompare[ToggleCompare[\"GreaterThanOrEqual\"] = 6] = \"GreaterThanOrEqual\";\n})(ToggleCompare || (ToggleCompare = {}));\nconst ToggleDomSelectors = `\n  [${DataAttribute.Type}], \n  [${DataAttribute.Selector}], \n  [${DataAttribute.Change}], \n  [${DataAttribute.Classes}], \n  [${DataAttribute.ClassesMatch}], \n  [${DataAttribute.Condition}],\n  [${DataAttribute.Compare}]\n`;\nconst ChangeEvents = 'click keyup keydown input change';\n// endregion\n// region exports\n/**\n * Defines class {@link UFFormToggleHelper}, a class to make html forms more dynamic\n * by changing styles, visibility and enabled states based on input elements value and valid state.\n *\n * Use a combination of `data-uf-toggle-XXXX` at an element. It alters the element depending on\n * if one or more elements matches a condition or not.\n *\n * If a targeted form element is a radio button, this class will install listeners on all radio\n * buttons. When a radio button fires a change event, the code will dispatch a change event to all\n * other radio buttons in the same group. This fixes the issue that radio buttons do not fire a\n * change event when they are unselected.\n *\n * The following data attributes can be added:\n *\n * - `data-uf-toggle-type` = 'auto' (default), 'value', 'valid', 'property'\n *   - 'value' = it is assumed the selector points to an input element, its value is compared to the\n *      values set with 'data-uf-toggle-value' or 'data-uf-toggle-values'. If no values are set,\n *      the input element is considered valid if the value is not empty.\n *   - 'valid' = the html5 validation result is used.\n *   - 'property' = works like 'value' but check the value of a property instead of the value of\n *     the element.\n *   - 'auto' = select the type based on certain conditions:\n *     - 'value' is selected if 'data-uf-toggle-value' or 'data-uf-toggle-values' is used or if the\n *       input element is a file input element.\n *     - 'property' is selected if the selector points to an input element that is checkbox or radio\n *       button.\n *     - 'valid' is used in all other cases.\n *\n *   If the selector points to a form, the type is forced to 'valid' since a form does not have\n *   a value.\n *\n *   If 'auto' is used and the selector points to a checkbox or radio button and no values have\n *   been set, ['true'] is used for the values list.\n *\n * - `data-uf-toggle-property` = string (default = 'checked')\n *   The property of the input element to get the value from. With `checked` properties use `\"true\"`\n *   and `\"false\"` as values.\n *\n * - `data-uf-toggle-selector` = string (default = '')\n *   To select the element or elements to check. If multiple elements are selected, the first\n *   element is used in case any of the other options use 'auto'.\n *\n *   Use empty text to select the parent form this element is contained in.\n *\n * - `data-uf-toggle-change` = 'auto' (default), 'none', 'enable', 'visible'\n *   - 'enable' = update the disabled property.\n *   - 'visible' = see {@link UFHtmlHelper} on how the element is shown or hidden.\n *   - 'none' = the elements state is unaltered (except for css classes as set with\n *     'data-uf-toggle-class' and 'data-uf-toggle-class-match').\n *   - 'auto' = use 'none' if one or more css classes have been defined via 'data-uf-toggle-classes'\n *     and/or 'data-uf-toggle-classes-match'. If the element is an input, button or select element\n *     use 'enable'.\n *     In all other cases use 'visible'.\n *\n * - `data-uf-toggle-required` = '' (default), 'match', 'no-match'\n *   - '' = do not change required state\n *   - 'match' = turns on the required state if there is a match.\n *   - 'no-match' = turns off the required state if there is a match.\n *\n * - `data-uf-toggle-classes` = string (one or more css class names separated by a space)\n *   The css classes to add when the elements pointed to by the selector do not match the condition.\n *   When the elements match the condition, the css classes get removed.\n *\n * - `data-uf-toggle-classes-match` = string (one or more css class names separated by a space)\n *   The css classes to add when the elements pointed to by the selector do match the condition.\n *   When the elements no longer match the condition, the css classes get removed.\n *\n * - `data-uf-toggle-condition` = 'any', 'all' (default), 'none'\n *   Determines the condition the elements must match. With 'any' only one element must either be\n *   valid or be equal to the one of the specified values. With 'all' all elements must either be\n *   valid or be equal to one of the specified values. 'none' is the reverse of 'all', none of\n *   the elements must be valid or be equal to any of the specified values.\n *\n * - `data-uf-toggle-compare` = `equal` (default), `contain`, `inside`, `lt`, `lte`, `gt`, `gte`\n *   Determines how to compare the value of an element with the values:\n *   - `equal` = the value of the element must be equal to one of the values.\n *   - `contain` = part of the value of the element must equal one of the values (case incentive).\n *   - `inside` = part of one of the values must equal the value of the element (case incentive).\n *   - `lt` = the value of the element must be less than one of the values (numeric).\n *   - `lte` = the value of the element must be less than or equal to one of the values (numeric).\n *   - `gt` = the value of the element must be greater than one of the values (numeric).\n *   - `gte` = the value of the element must be greater than or equal to one of the values (numeric).\n *\n * - `data-uf-toggle-value` = string (single value)\n *   Alias for `data-uf-toggle-values`. If `data-uf-toggle-values` is also specified, this\n *   attribute will be ignored.\n *\n * - `data-uf-toggle-values` = string\n *   Contains multiple values separated by the separator text as set by\n *   `data-uf-toggle-values-separator`. If both `data-uf-toggle-value` and `data-uf-toggle-values`\n *   are not set and the `checked` property is tracked, the value `\"true\"` is used.\n *\n * - `data-uf-toggle-values-separator` = string (default = ',').\n *   Separator string to split the value of `data-uf-toggle-values` with.\n *\n * - `data-uf-toggle-target` = string (default = '')\n *   When specified, apply the toggle to the target element(s) instead of the element itself.\n *   Possible values:\n *   - '' = apply to the element itself (default).\n *   - '_parent' = apply to the parent element of the element.\n *   - '_next' = apply to the next sibling of the element.\n *   - '_previous' = apply to the previous sibling of the element.\n *   - '_grandparent' = apply to the parent of the parent of the element.\n *   - any other value is interpreted as a selector and can select one or multiple elements.\n */\nexport class UFFormToggleHelper extends UFHtmlHelper {\n    constructor() {\n        // region private variables\n        super(...arguments);\n        this.m_radioGroups = new UFMapOfSet();\n    }\n    // endregion\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.Type);\n        this.m_radioGroups.clear();\n        const elements = document.querySelectorAll(ToggleDomSelectors);\n        elements.forEach(element => {\n            const data = this.buildToggleData(element);\n            if (data) {\n                data.formElements.forEach(formElement => this.initializeFormElement(formElement, element, data));\n                this.updateToggleElement(element, data);\n            }\n        });\n        this.installRadioGroupFix();\n    }\n    // endregion\n    // region private methods\n    /**\n     * @param element\n     * @private\n     */\n    getToggleType(element) {\n        const typeText = UFHtml.getAttribute(element, DataAttribute.Type);\n        switch (typeText) {\n            case 'value':\n                return ToggleType.Value;\n            case 'valid':\n                return ToggleType.Valid;\n            case 'property':\n                return ToggleType.Property;\n            default:\n                return ToggleType.Auto;\n        }\n    }\n    /**\n     * @param element\n     * @private\n     */\n    getToggleChange(element) {\n        const changeText = UFHtml.getAttribute(element, DataAttribute.Change);\n        switch (changeText) {\n            case 'enable':\n                return ToggleChange.Enable;\n            case 'visible':\n                return ToggleChange.Visible;\n            case 'none':\n                return ToggleChange.None;\n            case 'required':\n                return ToggleChange.Required;\n            case 'not-required':\n                return ToggleChange.NotRequired;\n            default:\n                return ToggleChange.Auto;\n        }\n    }\n    /**\n     * @param element\n     * @private\n     */\n    getToggleCondition(element) {\n        const conditionText = UFHtml.getAttribute(element, DataAttribute.Condition);\n        switch (conditionText) {\n            case 'any':\n                return ToggleCondition.Any;\n            case 'none':\n                return ToggleCondition.None;\n            default:\n                return ToggleCondition.All;\n        }\n    }\n    /**\n     * @param element\n     * @private\n     */\n    getToggleCompare(element) {\n        const compareText = UFHtml.getAttribute(element, DataAttribute.Compare);\n        switch (compareText) {\n            case 'contain':\n                return ToggleCompare.Contain;\n            case 'inside':\n                return ToggleCompare.Inside;\n            case 'lt':\n                return ToggleCompare.LessThan;\n            case 'lte':\n                return ToggleCompare.LessThanOrEqual;\n            case 'gt':\n                return ToggleCompare.GreaterThan;\n            case 'gte':\n                return ToggleCompare.GreaterThanOrEqual;\n            default:\n                return ToggleCompare.Equal;\n        }\n    }\n    /**\n     * @param element\n     * @private\n     */\n    getToggleRequired(element) {\n        const requiredText = UFHtml.getAttribute(element, DataAttribute.Required);\n        switch (requiredText) {\n            case 'match':\n                return ToggleRequired.Match;\n            case 'no-match':\n                return ToggleRequired.NoMatch;\n            default:\n                return ToggleRequired.None;\n        }\n    }\n    /**\n     * Gets the elements in the form that the element is in. If there is no selector, try to get\n     * the closest form element.\n     *\n     * @param element\n     *\n     * @private\n     */\n    getFormElements(element) {\n        // get target (if any)\n        const selector = UFHtml.getAttribute(element, DataAttribute.Selector) || '';\n        if (selector === '') {\n            const formElement = element.closest('form');\n            if (!formElement) {\n                return [];\n            }\n            return [formElement];\n        }\n        return [...document.querySelectorAll(selector)];\n    }\n    /**\n     * Builds a toggle data structure.\n     *\n     * @private\n     *\n     * @param element\n     *   Element to build toggle data structure for\n     *\n     * @returns null if there are no targets, else a data structure\n     */\n    buildToggleData(element) {\n        const formElements = this.getFormElements(element);\n        if (!formElements.length) {\n            return null;\n        }\n        const formElement = formElements[0];\n        // set shortcuts based on target\n        const tagName = formElement.tagName;\n        const isForm = tagName === 'FORM';\n        const isChecked = (tagName === 'INPUT')\n            && ['checkbox', 'radio'].includes(formElement.type);\n        const isFile = (tagName === 'INPUT')\n            && (formElement.type === 'file');\n        const isImage = tagName === 'IMG';\n        // get properties for the toggle data structure\n        let type = this.getToggleType(element);\n        let change = this.getToggleChange(element);\n        const required = this.getToggleRequired(element);\n        const cssClassesNoMatch = UFHtml.getAttribute(element, DataAttribute.Classes);\n        const cssClassesMatch = UFHtml.getAttribute(element, DataAttribute.ClassesMatch);\n        const condition = this.getToggleCondition(element);\n        const compare = this.getToggleCompare(element);\n        const property = UFHtml.getAttribute(element, DataAttribute.Property, 'checked');\n        const separator = UFHtml.getAttribute(element, DataAttribute.ValuesSeparator, ',');\n        const valuesText = UFHtml.getAttribute(element, DataAttribute.Values)\n            || UFHtml.getAttribute(element, DataAttribute.Value)\n            || '';\n        const values = valuesText.length > 0 ? valuesText.split(separator) : [];\n        // add 'true' for checkbox/radio buttons if there are no values\n        if (isChecked && (values.length === 0)) {\n            values.push('true');\n        }\n        // update auto value for change\n        if (change === ToggleChange.Auto) {\n            if (cssClassesNoMatch.length + cssClassesMatch.length > 0) {\n                change = ToggleChange.None;\n            }\n            else {\n                switch (element.tagName) {\n                    case 'INPUT':\n                    case 'BUTTON':\n                    case 'SELECT':\n                        change = ToggleChange.Enable;\n                        break;\n                    default:\n                        change = ToggleChange.Visible;\n                        break;\n                }\n            }\n        }\n        // force valid for forms else handle auto value\n        if (isForm) {\n            type = ToggleType.Valid;\n        }\n        else if (type === ToggleType.Auto) {\n            if (isChecked) {\n                type = ToggleType.Property;\n            }\n            else if ((values.length > 0) || isFile) {\n                type = ToggleType.Value;\n            }\n            else {\n                type = ToggleType.Valid;\n            }\n        }\n        const target = UFHtml.getAttribute(element, DataAttribute.Target);\n        // build toggle data structure\n        return {\n            type,\n            property,\n            change,\n            cssClassesMatch,\n            cssClassesNoMatch,\n            condition,\n            compare,\n            required,\n            isForm,\n            isImage,\n            formElements,\n            values,\n            target\n        };\n    }\n    /**\n     * Checks if the target for a toggle is valid or invalid.\n     *\n     * @private\n     *\n     * @param data\n     *   Data to update with\n     *\n     * @returns True if target matches the condition\n     */\n    isValidToggleTarget(data) {\n        if (data.isForm) {\n            return data.formElements[0].checkValidity();\n        }\n        let result = data.condition !== ToggleCondition.Any;\n        data.formElements.every(element => {\n            let valid = null;\n            let value = '';\n            switch (data.type) {\n                case ToggleType.Valid:\n                    valid = element.checkValidity();\n                    break;\n                case ToggleType.Property:\n                    value = UFObject.getAs(element, data.property, '').toString();\n                    break;\n                default:\n                    value = UFObject.getAs(element, data.isImage ? 'src' : 'value', '');\n                    break;\n            }\n            // valid was not set, then value was set so validate value\n            if (valid === null) {\n                valid = this.isValidValue(value, data);\n            }\n            switch (data.condition) {\n                case ToggleCondition.Any:\n                    if (valid) {\n                        result = true;\n                        return false;\n                    }\n                    break;\n                case ToggleCondition.All:\n                    if (!valid) {\n                        result = false;\n                        return false;\n                    }\n                    break;\n                case ToggleCondition.None:\n                    if (valid) {\n                        result = false;\n                        return false;\n                    }\n                    break;\n            }\n            return true;\n        });\n        return result;\n    }\n    /**\n     * Checks if the value of an element is valid, depending on the compare type.\n     *\n     * @param elementValue\n     * @param data\n     *\n     * @returns True if the value is valid.\n     *\n     * @private\n     */\n    isValidValue(elementValue, data) {\n        // ignore the values array when the form element is an image\n        if ((data.values.length == 0) || data.isImage) {\n            return elementValue.length > 0;\n        }\n        if (data.compare == ToggleCompare.Equal) {\n            return data.values.indexOf(elementValue) >= 0;\n        }\n        const textValue = elementValue.toString().toLowerCase();\n        if (data.compare == ToggleCompare.Inside) {\n            return data.values.some(value => textValue.includes(value.toString().toLowerCase()));\n        }\n        if (data.compare == ToggleCompare.Contain) {\n            return data.values.some(value => value.toString().toLowerCase().includes(textValue));\n        }\n        const numberValue = parseFloat(textValue);\n        if (isNaN(numberValue)) {\n            return false;\n        }\n        if (data.compare == ToggleCompare.LessThan) {\n            return data.values.some(value => numberValue < parseFloat(value));\n        }\n        if (data.compare == ToggleCompare.LessThanOrEqual) {\n            return data.values.some(value => numberValue <= parseFloat(value));\n        }\n        if (data.compare == ToggleCompare.GreaterThan) {\n            return data.values.some(value => numberValue > parseFloat(value));\n        }\n        if (data.compare == ToggleCompare.GreaterThanOrEqual) {\n            return data.values.some(value => numberValue >= parseFloat(value));\n        }\n        return false;\n    }\n    /**\n     * Updates the state of an element based on the target matching the condition.\n     *\n     * @private\n     *\n     * @param element\n     *   Element to update\n     * @param data\n     *   Data to update with\n     */\n    updateToggleElement(element, data) {\n        const valid = this.isValidToggleTarget(data);\n        const targets = this.getTargetElements(element, data.target);\n        targets.forEach(target => this.updateToggleTargetElement(target, data, valid));\n    }\n    /**\n     * Updates the state of the target element.\n     *\n     * @param element\n     *   Element to update\n     * @param data\n     *   Data to update with\n     * @param valid\n     *   True if the target matches the condition\n     *\n     * @private\n     */\n    updateToggleTargetElement(element, data, valid) {\n        if (data.cssClassesMatch.length) {\n            UFHtml.toggleClasses(element, data.cssClassesMatch, valid);\n        }\n        if (data.cssClassesNoMatch.length) {\n            UFHtml.toggleClasses(element, data.cssClassesNoMatch, !valid);\n        }\n        switch (data.change) {\n            case ToggleChange.Enable:\n                UFObject.set(element, 'disabled', !valid);\n                break;\n            case ToggleChange.Visible:\n                this.showElement(element, valid);\n                break;\n        }\n        switch (data.required) {\n            case ToggleRequired.Match:\n                UFObject.set(element, 'required', valid);\n                break;\n            case ToggleRequired.NoMatch:\n                UFObject.set(element, 'required', !valid);\n                break;\n        }\n    }\n    /**\n     * Initializes a form element. Install listener and check if it is a radio button.\n     *\n     * @param formElement\n     * @param element\n     * @param data\n     *\n     * @private\n     */\n    initializeFormElement(formElement, element, data) {\n        UFEventManager.instance.addListenerForGroup(DataAttribute.Type, formElement, ChangeEvents, () => this.updateToggleElement(element, data));\n        if (formElement.tagName == \"INPUT\") {\n            this.checkRadioGroup(formElement);\n        }\n    }\n    /**\n     * Adds the radio element to the radio group if a name has been set.\n     *\n     * @param radioElement\n     *\n     * @private\n     */\n    checkRadioGroup(radioElement) {\n        if (radioElement.type === 'radio') {\n            const name = radioElement.name;\n            if (name) {\n                this.m_radioGroups.add(name, radioElement);\n            }\n        }\n    }\n    /**\n     * This method installs an event listener for every radio button in a radio group that will\n     * fire a change event to all other radio buttons in the group that have at least one toggle\n     * action attached to it.\n     *\n     * This fixes the problem that no event is fired for radio buttons in a group that get unselected\n     * because another radio button in the same group gets selected.\n     *\n     * @private\n     */\n    installRadioGroupFix() {\n        this.m_radioGroups.getKeys().forEach(name => {\n            const allRadios = document.querySelectorAll(`input[name=\"${name}\"][type=\"radio\"]`);\n            const usedRadios = this.m_radioGroups.get(name);\n            allRadios.forEach(radio => {\n                UFEventManager.instance.addListenerForGroup(DataAttribute.Type, radio, 'change', () => this.dispatchChangeEvent(usedRadios, radio));\n            });\n        });\n    }\n    /**\n     * Fires a change event to all elements in a list, except for the element that triggered\n     * the event.\n     *\n     * @param elements\n     * @param sourceElement\n     *\n     * @private\n     */\n    dispatchChangeEvent(elements, sourceElement) {\n        if (!sourceElement.checked) {\n            return;\n        }\n        elements.forEach(element => {\n            if ((sourceElement != element) && !element.checked) {\n                element.dispatchEvent(new Event('change'));\n            }\n        });\n    }\n}\n// endregion\n//# sourceMappingURL=UFFormToggleHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2025 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2025 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFLocalStorage } from \"../data/UFLocalStorage.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\n// endregion\n// region private types\n// the data attributes used by this helper\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"Sorting\"] = \"data-uf-grid-sorting\";\n    DataAttribute[\"SortControl\"] = \"data-uf-sort-control\";\n    DataAttribute[\"SortButton\"] = \"data-uf-sort-button\";\n    DataAttribute[\"SortKey\"] = \"data-uf-sort-key\";\n    DataAttribute[\"GroupSize\"] = \"data-uf-group-size\";\n    DataAttribute[\"ItemContainer\"] = \"data-uf-item-container\";\n    DataAttribute[\"ItemGroup\"] = \"data-uf-item-group\";\n    DataAttribute[\"SortValue\"] = \"data-uf-sort-value\";\n    DataAttribute[\"SortAscending\"] = \"data-uf-sort-ascending\";\n    DataAttribute[\"SortDescending\"] = \"data-uf-sort-descending\";\n    DataAttribute[\"StorageId\"] = \"data-uf-storage-id\";\n    DataAttribute[\"GridBody\"] = \"data-uf-grid-body\";\n})(DataAttribute || (DataAttribute = {}));\n// The type of data in a column.\nvar SortType;\n(function (SortType) {\n    SortType[SortType[\"None\"] = 0] = \"None\";\n    SortType[SortType[\"Number\"] = 1] = \"Number\";\n    SortType[SortType[\"Text\"] = 2] = \"Text\";\n    SortType[SortType[\"Date\"] = 3] = \"Date\";\n})(SortType || (SortType = {}));\n// endregion\n// region private constants\n/**\n * Selector to get child that is not using any special data attribute.\n */\nconst ITEM_SELECTOR = `:scope > :not([${DataAttribute.ItemContainer}],[${DataAttribute.ItemGroup}],[${DataAttribute.SortControl}])`;\n// region private functions\n/**\n * Gets the sort type for a column.\n *\n * @param control\n *\n * @private\n */\nfunction getSortType(control) {\n    const sortTypeText = UFHtml.getAttribute(control, DataAttribute.SortControl);\n    switch (sortTypeText) {\n        case \"number\":\n            return SortType.Number;\n        case \"text\":\n            return SortType.Text;\n        case \"date\":\n            return SortType.Date;\n        default:\n            return SortType.None;\n    }\n}\n// endregion\n// region exports\n/**\n * This class adds sorting capability to some container.\n *\n * Add `data-uf-grid-sorting` to a container element to add sorting of children support. The class\n * assumes the children are organized in some sort of grid structure.\n *\n * A container using sorting has two groups of children:\n * - control elements, that can be clicked upon to determine which element to sort on.\n * - sortable group of elements that will be reordered within their parent container.\n *\n * Add `data-uf-sort-ascending` and `data-uf-sort-descending` attributes to the container\n * to specify one or more css classes to add to the control element that has been selected to\n * sort the data on. When one of the attributes is missing, no css classes will be set.\n *\n * Add `data-uf-storage-id` to the container element to store the selected controller choice in the\n * local storage and use it when the page with the container is shown again. The value of this\n * attribute is used as key to store the data with.\n *\n * Add `data-uf-sort-control` to child elements that are the control elements. The values of\n * `data-uf-sort-ascending` and `data-uf-sort-descending` will be added to or removed from css\n * classes of this element (even if there is a separate clickable child element). The value of\n * this attribute can be one of the following:\n * - `none` - to not sort the children\n * - `text` - to sort the children as text\n * - `number` - to sort the children as numbers\n * - `date` - to sort the children as dates\n *\n * Add `data-uf-sort-button` to a child element of a control element to specify the element that\n * can be clicked upon to sort the children. This attribute is optional, when missing the header\n * element itself will be used as clickable element.\n *\n * Add `data-uf-sort-key` to specify an id for a control element. This attribute is optional, when\n * missing the relative sibling index of the control element will be used. With relative indexes,\n * the first control element has index 0, the second control element 1, etc. The key is used to\n * link the data elements to the correct control element.\n *\n * The control elements can have sibling elements in between that do not use any of the attributes.\n * These will be ignored, they are also not used when determining the relative sibling index.\n *\n * The class supports two different ways of sorting the children:\n * - related sortable elements are placed in containers. The containers are reordered in the parent\n *   depending on the selected control element. For example a table row with table data entries.\n * - related sortable elements are siblings. All elements are placed in the same parent. The class\n *   will reorder the elements in the parent keeping the siblings together.\n *\n * To use containers, add `data-uf-item-container` to each container. The containers should not\n * have other elements in between them. The class will reorder the containers in the parent.\n *\n * To use siblings, either set `data-uf-group-size` with the container element or\n * add `data-uf-item-group` to the sibling elements. If both attributes are missing, the number\n * of siblings per group will be based on the number of controls.\n *\n * With `data-uf-group-size` the children of the grid element (that are not using\n * `data-uf-grid-control`, `data-uf-item-container` and `data-uf-item-group`) are split into\n * groups using the value of `data-uf-group-size`. It is also possible to place the child elements\n * in a separate container (that is a child element of the grid). Add `data-uf-grid-body` to\n * the container element that contains the children.\n *\n * With `data-uf-item-group` the value of the attribute determines which group the siblings belong\n * to. Each group should use a unique value. When using `data-uf-item-group` make sure the sibling\n * elements do not have any other elements in between them. When reordering only the elements\n * using `data-uf-item-group` are reordered.\n *\n * Add`data-uf-sort-key` to a sortable element to link it to one of the controls. When missing the\n * relative sibling index of the element will be used. With `data-uf-item-group` the index is\n * relative to the first element with a certain group value.\n *\n * By default, the class uses the `innerText` from the element to determine the value for.\n * Add `data-uf-sort-value` to provide an alternative value to use when sorting.\n *\n * When the elements are resorted because of a click on one of the controls, the class will dispatch\n * an event `\"sorted\"` ({@link SortedEvent}) at the container element.\n *\n * When elements are resorted (either the container elements or the grouped elements), the elements\n * are reinserted at the first element inside the parent. Elements can have different parents;\n * the elements with the same parent will be reordered within that parent starting at the position\n * of the first element. This allows for data to be grouped and be sorted within their group.\n */\nexport class UFGridSortHelper extends UFHtmlHelper {\n    constructor() {\n        // region public constants\n        super(...arguments);\n        // endregion\n        // region private variables\n        /**\n         * Local storage helper.\n         *\n         * @private\n         */\n        this.m_localStorage = new UFLocalStorage();\n        /**\n         * All sorted grids managed this by helper.\n         *\n         * @private\n         */\n        this.m_grids = new Map();\n        // endregion\n    }\n    // endregion\n    // region UFHtmlHelper\n    scan() {\n        // clean up\n        UFEventManager.instance.removeAllForGroup(DataAttribute.Sorting);\n        this.m_grids.clear();\n        const grids = UFHtml.findAllForAttribute(DataAttribute.Sorting);\n        grids.forEach(grid => this.initGrid(grid));\n    }\n    /**\n     * Resorts a grid using current selected control and sort direction. If the grid is not managed\n     * by this helper; nothing happens. This call will not fire a {@link SortedEvent} event.\n     *\n     * @param grid\n     *   Grid to resort.\n     */\n    resort(grid) {\n        if (this.m_grids.has(grid)) {\n            this.sortGrid(this.m_grids.get(grid));\n        }\n    }\n    // endregion\n    // region private methods\n    /**\n     * Initializes the sorting for a grid.\n     *\n     * @param grid\n     *   Grid to initialize.\n     *\n     * @private\n     */\n    initGrid(grid) {\n        const controls = this.getControls(grid);\n        // if there are no controls, there is nothing to do\n        if (!controls.length) {\n            return;\n        }\n        const groupSize = parseInt(UFHtml.getAttribute(grid, DataAttribute.GroupSize, controls.length.toString()));\n        const itemContainers = this.getContainers(grid);\n        const itemGroups = this.getGroups(grid);\n        const groupedItems = this.groupItems(grid, groupSize);\n        // exit if there is no sortable data\n        if (itemContainers.length + itemGroups.length + groupedItems.length == 0) {\n            return;\n        }\n        const sortInfo = this.getSortInfo(grid, controls);\n        const gridEntry = {\n            grid,\n            controls,\n            sortInfo,\n            itemContainers,\n            itemGroups,\n            groupedItems,\n            ascendingClasses: UFHtml.getAttribute(grid, DataAttribute.SortAscending),\n            descendingClasses: UFHtml.getAttribute(grid, DataAttribute.SortDescending),\n        };\n        this.m_grids.set(grid, gridEntry);\n        controls\n            .filter(control => control.type != SortType.None)\n            .forEach(control => UFEventManager.instance.addListenerForGroup(DataAttribute.Sorting, control.button, 'click', () => this.handleControlClick(control, gridEntry)));\n        this.addClasses(gridEntry);\n        this.sortGrid(gridEntry);\n    }\n    /**\n     * Gets the sort controls for a grid.\n     *\n     * @param grid\n     *   Grid to get controls for.\n     *\n     * @returns the controls (controls that are not sortable are ignored)\n     *\n     * @private\n     */\n    getControls(grid) {\n        const controls = UFHtml.findAllForAttribute(DataAttribute.SortControl, null, grid);\n        return Array\n            .from(controls)\n            .map((control, index) => ({\n            control,\n            key: UFHtml.getAttribute(control, DataAttribute.SortKey, index.toString()),\n            button: UFHtml.findForAttribute(DataAttribute.SortButton, null, control)\n                ?? control,\n            type: getSortType(control),\n        }));\n    }\n    /**\n     * Gets the item containers for a grid.\n     *\n     * @param grid\n     *   Grid to get containers for.\n     *\n     * @returns all containers in the grid.\n     *\n     * @private\n     */\n    getContainers(grid) {\n        const containers = UFHtml.findAllForAttribute(DataAttribute.ItemContainer, null, grid);\n        return Array.from(containers).map((container) => ({\n            containerElement: container,\n            items: this.getDataItems(Array.from(container.children)),\n        }));\n    }\n    /**\n     * Gets the data items from a list of elements.\n     *\n     * @param elements\n     *\n     * @private\n     */\n    getDataItems(elements) {\n        return elements\n            .filter(element => element instanceof HTMLElement)\n            .map((element, index) => ({\n            element,\n            key: UFHtml.getAttribute(element, DataAttribute.SortKey, index.toString()),\n        }));\n    }\n    /**\n     * Gets the data items for a grid.\n     *\n     * @param grid\n     *   Grid to get groups for.\n     *\n     * @returns date items grouped by the group attribute value.\n     *\n     * @private\n     */\n    getGroups(grid) {\n        const groupMap = new Map();\n        const dataItems = UFHtml.findAllForAttribute(DataAttribute.ItemGroup, null, grid);\n        dataItems.forEach(dataItem => {\n            const groupValue = UFHtml.getAttribute(dataItem, DataAttribute.ItemGroup, '');\n            if (groupValue == '') {\n                return;\n            }\n            if (!groupMap.has(groupValue)) {\n                groupMap.set(groupValue, []);\n            }\n            groupMap.get(groupValue).push(dataItem);\n        });\n        const dataItemGroups = Array.from(groupMap.values());\n        return dataItemGroups.map(dataItemGroup => ({\n            items: this.getDataItems(dataItemGroup)\n        }));\n    }\n    /**\n     * Gets the data items for a grid, grouped by groups of equal size.\n     *\n     * @param grid\n     *   Grid to get groups for.\n     * @param size\n     *   Number of items in a group.\n     *\n     * @returns date items grouped by the group attribute value.\n     *\n     * @private\n     */\n    groupItems(grid, size) {\n        // select all children that are not an item container, part of some item group or a sort control\n        const body = UFHtml.findForAttribute(DataAttribute.GridBody, null, grid) ?? grid;\n        const dataItems = Array.from(body.querySelectorAll(ITEM_SELECTOR));\n        // group the children into groups of size entries\n        const result = [];\n        for (let index = 0; index < dataItems.length; index += size) {\n            const group = dataItems.slice(index, index + size);\n            result.push({\n                items: this.getDataItems(group)\n            });\n        }\n        return result;\n    }\n    /**\n     * Gets the sort info for a grid. This method tries to retrieve data stored in the local storage\n     * else the first control is used.\n     *\n     * @param grid\n     *   Grid to get sort info for.\n     * @param controls\n     *   Controls for the grid.\n     *\n     * @returns sort information\n     *\n     * @private\n     */\n    getSortInfo(grid, controls) {\n        // by default use the first control\n        const defaultSortInfo = {\n            key: controls[0].key,\n            descending: false,\n        };\n        // using storage and there is data stored\n        const storageId = UFHtml.getAttribute(grid, DataAttribute.StorageId);\n        if (!storageId || !this.m_localStorage.has(storageId)) {\n            return defaultSortInfo;\n        }\n        // only use stored data if the key is still valid\n        const sortInfo = this.m_localStorage.getObject(storageId, defaultSortInfo);\n        for (const control of controls) {\n            if (control.key == sortInfo.key) {\n                return sortInfo;\n            }\n        }\n        return defaultSortInfo;\n    }\n    /**\n     * If the grid has a storage id, store the sort info in the local storage.\n     *\n     * @param grid\n     *   Grid to store info for.\n     * @param sortInfo\n     *   Sort info to store.\n     *\n     * @private\n     */\n    saveSortInfo(grid, sortInfo) {\n        const storageId = UFHtml.getAttribute(grid, DataAttribute.StorageId);\n        if (storageId) {\n            this.m_localStorage.setObject(storageId, sortInfo);\n        }\n    }\n    /**\n     * Adds ascending or descending classes to the control element.\n     *\n     * @param gridEntry\n     *   Grid entry to add classes for.\n     *\n     * @private\n     */\n    addClasses(gridEntry) {\n        const control = this.getControl(gridEntry.sortInfo.key, gridEntry.controls);\n        UFHtml.addClasses(control.control, gridEntry.sortInfo.descending ? gridEntry.descendingClasses : gridEntry.ascendingClasses);\n    }\n    /**\n     * Removes ascending or descending classes from the control element.\n     *\n     * @param gridEntry\n     *   Grid entry to add classes for.\n     *\n     * @private\n     */\n    removeClasses(gridEntry) {\n        const control = this.getControl(gridEntry.sortInfo.key, gridEntry.controls);\n        UFHtml.removeClasses(control.control, gridEntry.sortInfo.descending ? gridEntry.descendingClasses : gridEntry.ascendingClasses);\n    }\n    /**\n     * Gets the control for a key.\n     *\n     * @param key\n     *   Key to get control for\n     * @param controls\n     *   Controls to search in\n     *\n     * @returns control instance\n     *\n     * @throws Error when the control is not found\n     *\n     * @private\n     */\n    getControl(key, controls) {\n        for (const control of controls) {\n            if (control.key === key) {\n                return control;\n            }\n        }\n        throw new Error(`Can not find control for ${key}`);\n    }\n    /**\n     * Sorts a grid using the current sort info.\n     *\n     * @param gridEntry\n     *   Grid to sort.\n     *\n     * @private\n     */\n    sortGrid(gridEntry) {\n        const control = this.getControl(gridEntry.sortInfo.key, gridEntry.controls);\n        const direction = gridEntry.sortInfo.descending ? -1 : +1;\n        gridEntry.itemContainers.sort((first, second) => direction * this.compareGroup(first, second, control));\n        gridEntry.itemGroups.sort((first, second) => direction * this.compareGroup(first, second, control));\n        gridEntry.groupedItems.sort((first, second) => direction * this.compareGroup(first, second, control));\n        this.reorderContainers(gridEntry.itemContainers);\n        this.reorderGroups(gridEntry.itemGroups, `[${DataAttribute.ItemGroup}]`);\n        this.reorderGroups(gridEntry.groupedItems, ITEM_SELECTOR);\n    }\n    /**\n     * Finds a data item for a key.\n     *\n     * @param key\n     *   Key to search item for\n     * @param items\n     *   Items to search in\n     *\n     * @returns the data item or null when not found\n     *\n     * @private\n     */\n    findDataItem(key, items) {\n        for (const item of items) {\n            if (item.key == key) {\n                return item;\n            }\n        }\n        return null;\n    }\n    /**\n     * Gets the value for a data item. The value is either the value of the attribute or the\n     * `innerText`\n     *\n     * @param item\n     *   Item to get value for\n     *\n     * @returns the value or null when the item is null\n     *\n     * @private\n     */\n    getValue(item) {\n        if (item == null) {\n            return null;\n        }\n        return item.element.getAttribute(DataAttribute.SortValue) ?? item.element.innerText;\n    }\n    /**\n     * Compares two data groups using the sort control. The method compares the children with the\n     * correct key.\n     *\n     * @param first\n     *   First group\n     * @param second\n     *   Second group\n     * @param control\n     *   Current active control\n     *\n     * @returns <0 if first < second, 0 if equal, >0 if first > second\n     *\n     * @private\n     */\n    compareGroup(first, second, control) {\n        const firstItem = this.findDataItem(control.key, first.items);\n        const secondItem = this.findDataItem(control.key, second.items);\n        const firstValue = this.getValue(firstItem);\n        const secondValue = this.getValue(secondItem);\n        switch (control.type) {\n            case SortType.Text:\n                return this.compareText(firstValue, secondValue);\n            case SortType.Number:\n                return this.compareNumber(firstValue, secondValue);\n            case SortType.Date:\n                return this.compareDate(firstValue, secondValue);\n            default:\n                return 0;\n        }\n    }\n    /**\n     * Compares two text values. Null values are always bigger.\n     *\n     * @param firstValue\n     *   First value\n     * @param secondValue\n     *   Second value\n     *\n     * @returns <0 if first < second, 0 if equal, >0 if first > second\n     *\n     * @private\n     */\n    compareText(firstValue, secondValue) {\n        if (firstValue === secondValue) {\n            return 0;\n        }\n        // missing entries are placed at end\n        if (firstValue === null) {\n            return +1;\n        }\n        if (secondValue === null) {\n            return -1;\n        }\n        return firstValue.localeCompare(secondValue);\n    }\n    /**\n     * Compares two number values. Use `parseFloat` to get the numeric value.\n     * Null values are always bigger.\n     *\n     * @param firstValue\n     *   First value\n     * @param secondValue\n     *   Second value\n     *\n     * @returns <0 if first < second, 0 if equal, >0 if first > second\n     *\n     * @private\n     */\n    compareNumber(firstValue, secondValue) {\n        if (firstValue === secondValue) {\n            return 0;\n        }\n        // missing entries are placed at end\n        if (firstValue === null) {\n            return +1;\n        }\n        if (secondValue === null) {\n            return -1;\n        }\n        const firstNumber = parseFloat(firstValue);\n        const secondNumber = parseFloat(secondValue);\n        return this.compareParsedNumbers(firstNumber, secondNumber);\n    }\n    /**\n     * Compares two parsed numbers. Check if a number is a NaN value. NaN values come before valid\n     * numbers.\n     *\n     * @param firstNumber\n     *   First value to compare\n     * @param secondNumber\n     *   Second value to compare\n     *\n     * @returns 0 if both values are equal or both values are NaN. -1 if first value is smaller or\n     *   is a NaN. +1 if second value is a NaN or the second value is smaller.\n     *\n     * @private\n     */\n    compareParsedNumbers(firstNumber, secondNumber) {\n        const firstNaN = Number.isNaN(firstNumber);\n        const secondNaN = Number.isNaN(secondNumber);\n        if (firstNaN && secondNaN) {\n            return 0;\n        }\n        if (firstNaN) {\n            return -1;\n        }\n        if (secondNaN) {\n            return +1;\n        }\n        return firstNumber - secondNumber;\n    }\n    /**\n     * Compares two date values. Use `new Date()` to get the date value.\n     * Null values are always bigger.\n     *\n     * @param firstValue\n     *   First value\n     * @param secondValue\n     *   Second value\n     *\n     * @returns <0 if first < second, 0 if equal, >0 if first > second\n     *\n     * @private\n     */\n    compareDate(firstValue, secondValue) {\n        if (firstValue === secondValue) {\n            return 0;\n        }\n        // missing entries are placed at start\n        if (firstValue === null) {\n            return -1;\n        }\n        if (secondValue === null) {\n            return +1;\n        }\n        const firstDate = Date.parse(firstValue);\n        const secondDate = Date.parse(secondValue);\n        return this.compareParsedNumbers(firstDate, secondDate);\n    }\n    /**\n     * Reorder the containers based on their current position within the array.\n     *\n     * @param containers\n     *   Containers to reorder.\n     *\n     * @private\n     */\n    reorderContainers(containers) {\n        this.reorderElements(containers.map(container => container.containerElement), new Map(), `[${DataAttribute.ItemContainer}]`);\n    }\n    /**\n     * Reorder groups based on their current position within the array.\n     *\n     * @param groups\n     *   Groups to reorder.\n     * @param firstSelector\n     *   Selector to use to find the first child in the parent.\n     *\n     * @private\n     */\n    reorderGroups(groups, firstSelector) {\n        const currentElements = new Map();\n        for (const group of groups) {\n            this.reorderElements(group.items.map(item => item.element), currentElements, firstSelector);\n        }\n    }\n    /**\n     * Reorder elements.\n     *\n     * The first time an element is reordered in a parent, the code determines the current first child\n     * in a parent and inserts the element before it.\n     *\n     * Any other element with the same parent is inserted after the previous inserted element.\n     *\n     * @param elements\n     *   Elements to reorder\n     * @param currentElements\n     *   Map with that contains the last inserted element for every parent. The map will be updated.\n     * @param firstSelector\n     *   Selector to find the first child in the parent (only used if `currentElements` does not\n     *   contain the parent).\n     *\n     * @private\n     */\n    reorderElements(elements, currentElements, firstSelector) {\n        for (const element of elements) {\n            // get parent and exit if there is no parent (should not happen normally)\n            const parent = element.parentElement;\n            if (parent == null) {\n                continue;\n            }\n            // first time an element is readded to the parent?\n            if (!currentElements.has(parent)) {\n                // get the current first element with the correct attribute\n                const firstElement = parent.querySelector(firstSelector);\n                // should never happen, but just in case\n                if (firstElement == null) {\n                    continue;\n                }\n                // if the first element is already the element, nothing happens\n                parent.insertBefore(firstElement, element);\n            }\n            else {\n                // insert the element after the last inserted element\n                UFHtml.insertAfter(parent, element, currentElements.get(parent));\n            }\n            // store the element as the last inserted element\n            currentElements.set(parent, element);\n        }\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles the click event on a control.\n     *\n     * @param control\n     * @param gridEntry\n     *\n     * @private\n     */\n    handleControlClick(control, gridEntry) {\n        this.removeClasses(gridEntry);\n        if (gridEntry.sortInfo.key == control.key) {\n            gridEntry.sortInfo.descending = !gridEntry.sortInfo.descending;\n        }\n        else {\n            gridEntry.sortInfo.key = control.key;\n            gridEntry.sortInfo.descending = false;\n        }\n        this.addClasses(gridEntry);\n        this.sortGrid(gridEntry);\n        this.saveSortInfo(gridEntry.grid, gridEntry.sortInfo);\n        gridEntry.grid.dispatchEvent(new Event(UFGridSortHelper.SortedEvent));\n    }\n}\n/**\n * The event that is dispatched when the grid is resorted because the user clicked on a sort\n * control.\n */\nUFGridSortHelper.SortedEvent = \"sorted\";\n//# sourceMappingURL=UFGridSortHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFFloater, UFFloaterAutoHide, UFFloaterElementPosition, UFFloaterTransition } from \"../components/UFFloater.js\";\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\n// endregion\n// region types\n// the data attributes used by this helper\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"PopupContent\"] = \"data-uf-popup-content\";\n    DataAttribute[\"PopupPosition\"] = \"data-uf-popup-position\";\n    DataAttribute[\"PopupHide\"] = \"data-uf-popup-hide\";\n    DataAttribute[\"PopupTransition\"] = \"data-uf-popup-transition\";\n    DataAttribute[\"PopupDeltaX\"] = \"data-uf-popup-delta-x\";\n    DataAttribute[\"PopupDeltaY\"] = \"data-uf-popup-delta-y\";\n})(DataAttribute || (DataAttribute = {}));\nvar PopupPosition;\n(function (PopupPosition) {\n    PopupPosition[\"Vertical\"] = \"vertical\";\n    PopupPosition[\"Horizontal\"] = \"horizontal\";\n    PopupPosition[\"Overlap\"] = \"overlap\";\n})(PopupPosition || (PopupPosition = {}));\nvar PopupHide;\n(function (PopupHide) {\n    PopupHide[\"Tree\"] = \"tree\";\n    PopupHide[\"Always\"] = \"always\";\n})(PopupHide || (PopupHide = {}));\n// endregion\n// region exports\n/**\n * Add `data-uf-popup-content` to an element to convert it into a floater. The value of the\n * attribute should point to one or more clickable elements. The floater will be shown when the\n * user clicks on one of the clickable elements.\n *\n * Add `data-uf-popup-position` the element to adjust the position of the floater relative to the\n * clickable element:\n * - 'vertical' will place the floater before or after the clickable element at the same vertical\n *   position\n * - 'horizontal' will place the floater above or below to the clickable element at the same\n *   horizontal position\n * - 'overlap' will place the floater so that it overlaps the clickable element\n *\n * Use `data-uf-popup-hide` to control when the floater is hidden:\n * - 'tree' will hide the floater the user clicks outside the floater and any related other floaters\n * - 'always' will hide the floater when the user clicks outside the floater\n *\n * Use 'data-uf-popup-transition' to use a certain transition animation:\n * - 'none' will not use any transition animation\n * - 'fade' will use a fade transition animation\n * - 'slide-vertical' will use a vertical slide transition animation\n * - 'slide-horizontal' will use a horizontal slide transition animation\n *\n * User `data-uf-popup-delta-x` and `data-uf-popup-delta-y` to adjust the position of the floater\n * relative to the clickable element. Its value is a positive or integer value that is added to\n * the position of the floater.\n *\n * Once a floater is content is processed, the `data-uf-popup-content` attribute is removed.\n */\nexport class UFPopupHelper extends UFHtmlHelper {\n    // region UFHtmlHelper\n    scan() {\n        const elements = document.querySelectorAll('[' + DataAttribute.PopupContent + ']');\n        elements.forEach(element => {\n            this.initializePopup(element);\n        });\n    }\n    // endregion\n    // region private methods\n    initializePopup(aContentElement) {\n        const clickableElements = document.querySelectorAll(aContentElement.getAttribute(DataAttribute.PopupContent));\n        const popupHide = (aContentElement.getAttribute(DataAttribute.PopupHide) || PopupHide.Always);\n        const popupPosition = (aContentElement.getAttribute(DataAttribute.PopupPosition) || PopupPosition.Horizontal);\n        const options = {\n            element: Array.from(clickableElements),\n            autoHide: popupHide == PopupHide.Tree ? UFFloaterAutoHide.Tree : UFFloaterAutoHide.Always,\n            content: aContentElement,\n            transition: (aContentElement.getAttribute(DataAttribute.PopupTransition) || UFFloaterTransition.None),\n            elementX: parseInt(aContentElement.getAttribute(DataAttribute.PopupDeltaX) || '0'),\n            elementY: parseInt(aContentElement.getAttribute(DataAttribute.PopupDeltaY) || '0'),\n        };\n        switch (popupPosition) {\n            case PopupPosition.Vertical:\n                options.positionX = UFFloaterElementPosition.Adjacent;\n                options.positionY = UFFloaterElementPosition.Overlap;\n                break;\n            case PopupPosition.Horizontal:\n                options.positionX = UFFloaterElementPosition.Overlap;\n                options.positionY = UFFloaterElementPosition.Adjacent;\n                break;\n            case PopupPosition.Overlap:\n                options.positionX = UFFloaterElementPosition.Overlap;\n                options.positionY = UFFloaterElementPosition.Overlap;\n                break;\n        }\n        new UFFloater(options);\n        // make sure element is only processed once\n        aContentElement.removeAttribute(DataAttribute.PopupContent);\n    }\n}\n// endregion\n//# sourceMappingURL=UFPopupHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\n// endregion\n// region types\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"SelectUrl\"] = \"data-uf-select-url\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Add `data-uf-select-url` to a `<select>` (single value, drop down) to load a new page when the\n * user changes the dropdown value. Use macro '$value$' in the attribute value to use the\n * selected value in the url.\n */\nexport class UFSelectUrlHelper extends UFHtmlHelper {\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.SelectUrl);\n        const elements = document.querySelectorAll('[' + DataAttribute.SelectUrl + ']');\n        elements.forEach(element => UFEventManager.instance.addListenerForGroup(DataAttribute.SelectUrl, element, 'change', () => this.handleSelectUrl(element)));\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles changes to elements with select url data attribute.\n     *\n     * @private\n     */\n    handleSelectUrl(element) {\n        const selectUrl = UFHtml.getAttribute(element, DataAttribute.SelectUrl);\n        if (selectUrl) {\n            window.location.href = selectUrl.replace(/\\$value\\$/g, element.value);\n        }\n    }\n}\n// endregion\n//# sourceMappingURL=UFSelectUrlHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\n// endregion\n// region types\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"ShareHover\"] = \"data-uf-share-hover\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Add `data-uf-share-hover` to `<a>` to add the value as css class when the user hovers over\n * an anchor that points to the same href. Only anchors with the data attribute and the same href\n * will be updated.\n */\nexport class UFShareHoverHelper extends UFHtmlHelper {\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.ShareHover);\n        const elements = document.querySelectorAll('[' + DataAttribute.ShareHover + ']');\n        elements.forEach(element => {\n            UFEventManager.instance.addListenerForGroup(DataAttribute.ShareHover, element, 'mouseover', () => this.handleShareHover(element, true));\n            UFEventManager.instance.addListenerForGroup(DataAttribute.ShareHover, element, 'mouseout', () => this.handleShareHover(element, false));\n        });\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles changes to elements with select url data attribute.\n     *\n     * @private\n     */\n    handleShareHover(anElement, anAdd) {\n        const href = UFHtml.getAttribute(anElement, 'href');\n        if (!href) {\n            return;\n        }\n        const elements = document.querySelectorAll(`[data-${DataAttribute.ShareHover}][href=\"${href}\"]`);\n        elements.forEach(element => {\n            const cssClasses = UFHtml.getAttribute(element, DataAttribute.ShareHover);\n            if (!cssClasses) {\n                return;\n            }\n            if (anAdd) {\n                UFHtml.addClasses(element, cssClasses);\n            }\n            else {\n                UFHtml.removeClasses(element, cssClasses);\n            }\n        });\n    }\n}\n// endregion\n//# sourceMappingURL=UFShareHoverHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\nimport { UFHtml } from \"../tools/UFHtml.js\";\n// endregion\n// region types\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"PageRefresh\"] = \"data-uf-page-refresh\";\n})(DataAttribute || (DataAttribute = {}));\n// endregion\n// region exports\n/**\n * Add `data-uf-page-refresh` to clickable elements (anchors or buttons) to automatically refresh\n * the page after the user clicks on the element. The value of `data-uf-page-refresh` is the\n * delay in milliseconds before the refresh is executed.\n */\nexport class UFPageRefreshHelper extends UFHtmlHelper {\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.PageRefresh);\n        const elements = document.querySelectorAll('[' + DataAttribute.PageRefresh + ']');\n        elements.forEach(element => UFEventManager.instance.addListenerForGroup(DataAttribute.PageRefresh, element, 'click', () => this.handleClick(element)));\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles changes to elements with select url data attribute.\n     *\n     * @private\n     */\n    handleClick(anElement) {\n        const delay = parseInt(UFHtml.getAttribute(anElement, DataAttribute.PageRefresh));\n        setTimeout(() => {\n            window.location.replace(window.location.href);\n        }, Math.max(1, delay));\n    }\n}\n// endregion\n//# sourceMappingURL=UFPageRefreshHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n// region imports\nimport { UFHtmlHelper } from \"./UFHtmlHelper.js\";\nimport { UFEventManager } from \"../events/UFEventManager.js\";\n// endregion\n// region types and constants\nvar DataAttribute;\n(function (DataAttribute) {\n    DataAttribute[\"ManageSubmit\"] = \"data-uf-manage-submit\";\n})(DataAttribute || (DataAttribute = {}));\nconst ChangeEvents = 'click keyup keydown input change';\n// endregion\n// region exports\n/**\n * Add `data-uf-manage-submit` attribute to a `<form>` to link the valid state of the form\n * (using html5 validation) to the enabled state of the submit buttons within the form. The submit\n * buttons will only be enabled when all required fields are valid.\n *\n * The value of `data-uf-manage-submit` is not used and can be set to anything.\n */\nexport class UFManageSubmitHelper extends UFHtmlHelper {\n    // region UFHtmlHelper\n    /**\n     * @inheritDoc\n     */\n    scan() {\n        UFEventManager.instance.removeAllForGroup(DataAttribute.ManageSubmit);\n        const elements = document.querySelectorAll('[' + DataAttribute.ManageSubmit + ']');\n        elements.forEach(element => this.addElementsListener(element.querySelectorAll('input, select, textarea'), element));\n    }\n    // endregion\n    // region private methods\n    addElementsListener(anElements, aForm) {\n        anElements.forEach(element => this.addElementListener(element, aForm));\n        this.handleFormChange(aForm);\n    }\n    addElementListener(anElement, aForm) {\n        UFEventManager.instance.addListenerForGroup(DataAttribute.ManageSubmit, anElement, ChangeEvents, () => this.handleFormChange(aForm));\n    }\n    setElementsDisabled(anElement, aValue) {\n        anElement.forEach(element => this.setElementDisabled(element, aValue));\n    }\n    setElementDisabled(anElement, aValue) {\n        anElement.disabled = aValue;\n    }\n    // endregion\n    // region event handlers\n    /**\n     * Handles changes to elements with select url data attribute.\n     *\n     * @private\n     */\n    handleFormChange(anElement) {\n        // validate all fields using html5's method\n        const isValid = anElement.checkValidity();\n        // update the submit buttons (button without any type are also handled as submit buttons)\n        this.setElementsDisabled(anElement.querySelectorAll('input[type=submit]'), !isValid);\n        this.setElementsDisabled(anElement.querySelectorAll('button[type=submit]'), !isValid);\n        this.setElementsDisabled(anElement.querySelectorAll('button:not([type])'), !isValid);\n    }\n}\n// endregion\n//# sourceMappingURL=UFManageSubmitHelper.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n/**\n * The various ways a child area can fit into a parent area.\n */\nexport var UFFitType;\n(function (UFFitType) {\n    UFFitType[UFFitType[\"Contain\"] = 0] = \"Contain\";\n    UFFitType[UFFitType[\"Cover\"] = 1] = \"Cover\";\n    UFFitType[UFFitType[\"Stretch\"] = 2] = \"Stretch\";\n})(UFFitType || (UFFitType = {}));\n//# sourceMappingURL=UFFitType.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2024 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2024 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n/**\n * The various image types.\n */\nexport var UFImageType;\n(function (UFImageType) {\n    UFImageType[\"Png\"] = \"image/png\";\n    UFImageType[\"Jpeg\"] = \"image/jpeg\";\n})(UFImageType || (UFImageType = {}));\n//# sourceMappingURL=UFImageType.js.map","/**\n * @author Josha Munnik\n * @copyright Copyright (c) 2022 Ultra Force Development\n * @license\n * MIT License\n *\n * Copyright (c) 2022 Josha Munnik\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n/**\n * Possible methods when sending data to a server.\n */\nexport var UFFetchMethod;\n(function (UFFetchMethod) {\n    UFFetchMethod[\"Get\"] = \"GET\";\n    UFFetchMethod[\"Post\"] = \"POST\";\n    UFFetchMethod[\"Put\"] = \"PUT\";\n    UFFetchMethod[\"Patch\"] = \"PATCH\";\n    UFFetchMethod[\"Delete\"] = \"DELETE\";\n})(UFFetchMethod || (UFFetchMethod = {}));\n//# sourceMappingURL=UFFetchMethod.js.map",null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["DataAttribute"],"mappings":"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AACnE,QAAQ,OAAO,GAAG,GAAG,SAAS;AAC9B,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO,OAAO,CAAC,MAAM,EAAE,GAAG,YAAY,EAAE;AAC5C;AACA,QAAQ,MAAM,OAAO,GAAG;AACxB;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc,wDAAwD;AACtE;AACA,QAAQ,MAAM,OAAO,GAAG,IAAI,MAAM,CAAC,OAAO,EAAE,GAAG,CAAC;AAChD;AACA,QAAQ,IAAI,MAAM,GAAG,EAAE;AACvB;AACA,QAAQ,IAAI,SAAS,GAAG,CAAC;AACzB;AACA,QAAQ,IAAI,aAAa,GAAG,CAAC;AAC7B;AACA,QAAQ,IAAI,aAAa,GAAG,IAAI;AAChC;AACA,QAAQ,KAAK,IAAI,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,UAA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","x_google_ignoreList":[0,1,2,3,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]}